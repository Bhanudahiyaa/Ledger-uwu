{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM } from \"../util/dom\";\nimport { Event } from \"../util/evented\";\nimport { TransformProvider } from \"./transform-provider\";\n/**\n * The `BoxZoomHandler` allows the user to zoom the map to fit within a bounding box.\n * The bounding box is defined by clicking and holding `shift` while dragging the cursor.\n *\n * @group Handlers\n */\nexport class BoxZoomHandler {\n  /** @internal */\n  constructor(map, options) {\n    _defineProperty(this, \"_map\", void 0);\n    _defineProperty(this, \"_tr\", void 0);\n    _defineProperty(this, \"_el\", void 0);\n    _defineProperty(this, \"_container\", void 0);\n    _defineProperty(this, \"_enabled\", void 0);\n    _defineProperty(this, \"_active\", void 0);\n    _defineProperty(this, \"_startPos\", void 0);\n    _defineProperty(this, \"_lastPos\", void 0);\n    _defineProperty(this, \"_box\", void 0);\n    _defineProperty(this, \"_clickTolerance\", void 0);\n    this._map = map;\n    this._tr = new TransformProvider(map);\n    this._el = map.getCanvasContainer();\n    this._container = map.getContainer();\n    this._clickTolerance = options.clickTolerance || 1;\n  }\n\n  /**\n   * Returns a Boolean indicating whether the \"box zoom\" interaction is enabled.\n   *\n   * @returns `true` if the \"box zoom\" interaction is enabled.\n   */\n  isEnabled() {\n    return !!this._enabled;\n  }\n\n  /**\n   * Returns a Boolean indicating whether the \"box zoom\" interaction is active, i.e. currently being used.\n   *\n   * @returns `true` if the \"box zoom\" interaction is active.\n   */\n  isActive() {\n    return !!this._active;\n  }\n\n  /**\n   * Enables the \"box zoom\" interaction.\n   *\n   * @example\n   * ```ts\n   * map.boxZoom.enable();\n   * ```\n   */\n  enable() {\n    if (this.isEnabled()) return;\n    this._enabled = true;\n  }\n\n  /**\n   * Disables the \"box zoom\" interaction.\n   *\n   * @example\n   * ```ts\n   * map.boxZoom.disable();\n   * ```\n   */\n  disable() {\n    if (!this.isEnabled()) return;\n    this._enabled = false;\n  }\n  mousedown(e, point) {\n    if (!this.isEnabled()) return;\n    if (!(e.shiftKey && e.button === 0)) return;\n    DOM.disableDrag();\n    this._startPos = this._lastPos = point;\n    this._active = true;\n  }\n  mousemoveWindow(e, point) {\n    if (!this._active) return;\n    const pos = point;\n    if (this._lastPos.equals(pos) || !this._box && pos.dist(this._startPos) < this._clickTolerance) {\n      return;\n    }\n    const p0 = this._startPos;\n    this._lastPos = pos;\n    if (!this._box) {\n      this._box = DOM.create('div', 'l7-boxzoom', this._container);\n      this._container.classList.add('l7-crosshair');\n      this._fireEvent('boxzoomstart', e);\n    }\n    const minX = Math.min(p0.x, pos.x),\n      maxX = Math.max(p0.x, pos.x),\n      minY = Math.min(p0.y, pos.y),\n      maxY = Math.max(p0.y, pos.y);\n    DOM.setTransform(this._box, `translate(${minX}px,${minY}px)`);\n    this._box.style.width = `${maxX - minX}px`;\n    this._box.style.height = `${maxY - minY}px`;\n  }\n  mouseupWindow(e, point) {\n    if (!this._active) return;\n    if (e.button !== 0) return;\n    const p0 = this._startPos,\n      p1 = point;\n    this.reset();\n    DOM.suppressClick();\n    if (p0.x === p1.x && p0.y === p1.y) {\n      this._fireEvent('boxzoomcancel', e);\n    } else {\n      this._map.fire(new Event('boxzoomend', {\n        originalEvent: e\n      }));\n      return {\n        cameraAnimation: map => map.fitScreenCoordinates(p0, p1, this._tr.bearing, {\n          linear: true\n        })\n      };\n    }\n  }\n  keydown(e) {\n    if (!this._active) return;\n    if (e.keyCode === 27) {\n      this.reset();\n      this._fireEvent('boxzoomcancel', e);\n    }\n  }\n  reset() {\n    this._active = false;\n    this._container.classList.remove('l7-crosshair');\n    if (this._box) {\n      DOM.remove(this._box);\n      this._box = null;\n    }\n    DOM.enableDrag();\n    delete this._startPos;\n    delete this._lastPos;\n  }\n  _fireEvent(type, e) {\n    return this._map.fire(new Event(type, {\n      originalEvent: e\n    }));\n  }\n}","map":{"version":3,"names":["_defineProperty","DOM","Event","TransformProvider","BoxZoomHandler","constructor","map","options","_map","_tr","_el","getCanvasContainer","_container","getContainer","_clickTolerance","clickTolerance","isEnabled","_enabled","isActive","_active","enable","disable","mousedown","e","point","shiftKey","button","disableDrag","_startPos","_lastPos","mousemoveWindow","pos","equals","_box","dist","p0","create","classList","add","_fireEvent","minX","Math","min","x","maxX","max","minY","y","maxY","setTransform","style","width","height","mouseupWindow","p1","reset","suppressClick","fire","originalEvent","cameraAnimation","fitScreenCoordinates","bearing","linear","keydown","keyCode","remove","enableDrag","type"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-map/es/map/handler/box_zoom.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM } from \"../util/dom\";\nimport { Event } from \"../util/evented\";\nimport { TransformProvider } from \"./transform-provider\";\n/**\n * The `BoxZoomHandler` allows the user to zoom the map to fit within a bounding box.\n * The bounding box is defined by clicking and holding `shift` while dragging the cursor.\n *\n * @group Handlers\n */\nexport class BoxZoomHandler {\n  /** @internal */\n  constructor(map, options) {\n    _defineProperty(this, \"_map\", void 0);\n    _defineProperty(this, \"_tr\", void 0);\n    _defineProperty(this, \"_el\", void 0);\n    _defineProperty(this, \"_container\", void 0);\n    _defineProperty(this, \"_enabled\", void 0);\n    _defineProperty(this, \"_active\", void 0);\n    _defineProperty(this, \"_startPos\", void 0);\n    _defineProperty(this, \"_lastPos\", void 0);\n    _defineProperty(this, \"_box\", void 0);\n    _defineProperty(this, \"_clickTolerance\", void 0);\n    this._map = map;\n    this._tr = new TransformProvider(map);\n    this._el = map.getCanvasContainer();\n    this._container = map.getContainer();\n    this._clickTolerance = options.clickTolerance || 1;\n  }\n\n  /**\n   * Returns a Boolean indicating whether the \"box zoom\" interaction is enabled.\n   *\n   * @returns `true` if the \"box zoom\" interaction is enabled.\n   */\n  isEnabled() {\n    return !!this._enabled;\n  }\n\n  /**\n   * Returns a Boolean indicating whether the \"box zoom\" interaction is active, i.e. currently being used.\n   *\n   * @returns `true` if the \"box zoom\" interaction is active.\n   */\n  isActive() {\n    return !!this._active;\n  }\n\n  /**\n   * Enables the \"box zoom\" interaction.\n   *\n   * @example\n   * ```ts\n   * map.boxZoom.enable();\n   * ```\n   */\n  enable() {\n    if (this.isEnabled()) return;\n    this._enabled = true;\n  }\n\n  /**\n   * Disables the \"box zoom\" interaction.\n   *\n   * @example\n   * ```ts\n   * map.boxZoom.disable();\n   * ```\n   */\n  disable() {\n    if (!this.isEnabled()) return;\n    this._enabled = false;\n  }\n  mousedown(e, point) {\n    if (!this.isEnabled()) return;\n    if (!(e.shiftKey && e.button === 0)) return;\n    DOM.disableDrag();\n    this._startPos = this._lastPos = point;\n    this._active = true;\n  }\n  mousemoveWindow(e, point) {\n    if (!this._active) return;\n    const pos = point;\n    if (this._lastPos.equals(pos) || !this._box && pos.dist(this._startPos) < this._clickTolerance) {\n      return;\n    }\n    const p0 = this._startPos;\n    this._lastPos = pos;\n    if (!this._box) {\n      this._box = DOM.create('div', 'l7-boxzoom', this._container);\n      this._container.classList.add('l7-crosshair');\n      this._fireEvent('boxzoomstart', e);\n    }\n    const minX = Math.min(p0.x, pos.x),\n      maxX = Math.max(p0.x, pos.x),\n      minY = Math.min(p0.y, pos.y),\n      maxY = Math.max(p0.y, pos.y);\n    DOM.setTransform(this._box, `translate(${minX}px,${minY}px)`);\n    this._box.style.width = `${maxX - minX}px`;\n    this._box.style.height = `${maxY - minY}px`;\n  }\n  mouseupWindow(e, point) {\n    if (!this._active) return;\n    if (e.button !== 0) return;\n    const p0 = this._startPos,\n      p1 = point;\n    this.reset();\n    DOM.suppressClick();\n    if (p0.x === p1.x && p0.y === p1.y) {\n      this._fireEvent('boxzoomcancel', e);\n    } else {\n      this._map.fire(new Event('boxzoomend', {\n        originalEvent: e\n      }));\n      return {\n        cameraAnimation: map => map.fitScreenCoordinates(p0, p1, this._tr.bearing, {\n          linear: true\n        })\n      };\n    }\n  }\n  keydown(e) {\n    if (!this._active) return;\n    if (e.keyCode === 27) {\n      this.reset();\n      this._fireEvent('boxzoomcancel', e);\n    }\n  }\n  reset() {\n    this._active = false;\n    this._container.classList.remove('l7-crosshair');\n    if (this._box) {\n      DOM.remove(this._box);\n      this._box = null;\n    }\n    DOM.enableDrag();\n    delete this._startPos;\n    delete this._lastPos;\n  }\n  _fireEvent(type, e) {\n    return this._map.fire(new Event(type, {\n      originalEvent: e\n    }));\n  }\n}"],"mappings":"AAAA,OAAOA,eAAe,MAAM,2CAA2C;AACvE,SAASC,GAAG,QAAQ,aAAa;AACjC,SAASC,KAAK,QAAQ,iBAAiB;AACvC,SAASC,iBAAiB,QAAQ,sBAAsB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,cAAc,CAAC;EAC1B;EACAC,WAAWA,CAACC,GAAG,EAAEC,OAAO,EAAE;IACxBP,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;IACrCA,eAAe,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;IACpCA,eAAe,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;IACpCA,eAAe,CAAC,IAAI,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;IAC3CA,eAAe,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;IACzCA,eAAe,CAAC,IAAI,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;IACxCA,eAAe,CAAC,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;IAC1CA,eAAe,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;IACzCA,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;IACrCA,eAAe,CAAC,IAAI,EAAE,iBAAiB,EAAE,KAAK,CAAC,CAAC;IAChD,IAAI,CAACQ,IAAI,GAAGF,GAAG;IACf,IAAI,CAACG,GAAG,GAAG,IAAIN,iBAAiB,CAACG,GAAG,CAAC;IACrC,IAAI,CAACI,GAAG,GAAGJ,GAAG,CAACK,kBAAkB,CAAC,CAAC;IACnC,IAAI,CAACC,UAAU,GAAGN,GAAG,CAACO,YAAY,CAAC,CAAC;IACpC,IAAI,CAACC,eAAe,GAAGP,OAAO,CAACQ,cAAc,IAAI,CAAC;EACpD;;EAEA;AACF;AACA;AACA;AACA;EACEC,SAASA,CAAA,EAAG;IACV,OAAO,CAAC,CAAC,IAAI,CAACC,QAAQ;EACxB;;EAEA;AACF;AACA;AACA;AACA;EACEC,QAAQA,CAAA,EAAG;IACT,OAAO,CAAC,CAAC,IAAI,CAACC,OAAO;EACvB;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACEC,MAAMA,CAAA,EAAG;IACP,IAAI,IAAI,CAACJ,SAAS,CAAC,CAAC,EAAE;IACtB,IAAI,CAACC,QAAQ,GAAG,IAAI;EACtB;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACEI,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC,IAAI,CAACL,SAAS,CAAC,CAAC,EAAE;IACvB,IAAI,CAACC,QAAQ,GAAG,KAAK;EACvB;EACAK,SAASA,CAACC,CAAC,EAAEC,KAAK,EAAE;IAClB,IAAI,CAAC,IAAI,CAACR,SAAS,CAAC,CAAC,EAAE;IACvB,IAAI,EAAEO,CAAC,CAACE,QAAQ,IAAIF,CAAC,CAACG,MAAM,KAAK,CAAC,CAAC,EAAE;IACrCzB,GAAG,CAAC0B,WAAW,CAAC,CAAC;IACjB,IAAI,CAACC,SAAS,GAAG,IAAI,CAACC,QAAQ,GAAGL,KAAK;IACtC,IAAI,CAACL,OAAO,GAAG,IAAI;EACrB;EACAW,eAAeA,CAACP,CAAC,EAAEC,KAAK,EAAE;IACxB,IAAI,CAAC,IAAI,CAACL,OAAO,EAAE;IACnB,MAAMY,GAAG,GAAGP,KAAK;IACjB,IAAI,IAAI,CAACK,QAAQ,CAACG,MAAM,CAACD,GAAG,CAAC,IAAI,CAAC,IAAI,CAACE,IAAI,IAAIF,GAAG,CAACG,IAAI,CAAC,IAAI,CAACN,SAAS,CAAC,GAAG,IAAI,CAACd,eAAe,EAAE;MAC9F;IACF;IACA,MAAMqB,EAAE,GAAG,IAAI,CAACP,SAAS;IACzB,IAAI,CAACC,QAAQ,GAAGE,GAAG;IACnB,IAAI,CAAC,IAAI,CAACE,IAAI,EAAE;MACd,IAAI,CAACA,IAAI,GAAGhC,GAAG,CAACmC,MAAM,CAAC,KAAK,EAAE,YAAY,EAAE,IAAI,CAACxB,UAAU,CAAC;MAC5D,IAAI,CAACA,UAAU,CAACyB,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;MAC7C,IAAI,CAACC,UAAU,CAAC,cAAc,EAAEhB,CAAC,CAAC;IACpC;IACA,MAAMiB,IAAI,GAAGC,IAAI,CAACC,GAAG,CAACP,EAAE,CAACQ,CAAC,EAAEZ,GAAG,CAACY,CAAC,CAAC;MAChCC,IAAI,GAAGH,IAAI,CAACI,GAAG,CAACV,EAAE,CAACQ,CAAC,EAAEZ,GAAG,CAACY,CAAC,CAAC;MAC5BG,IAAI,GAAGL,IAAI,CAACC,GAAG,CAACP,EAAE,CAACY,CAAC,EAAEhB,GAAG,CAACgB,CAAC,CAAC;MAC5BC,IAAI,GAAGP,IAAI,CAACI,GAAG,CAACV,EAAE,CAACY,CAAC,EAAEhB,GAAG,CAACgB,CAAC,CAAC;IAC9B9C,GAAG,CAACgD,YAAY,CAAC,IAAI,CAAChB,IAAI,EAAE,aAAaO,IAAI,MAAMM,IAAI,KAAK,CAAC;IAC7D,IAAI,CAACb,IAAI,CAACiB,KAAK,CAACC,KAAK,GAAG,GAAGP,IAAI,GAAGJ,IAAI,IAAI;IAC1C,IAAI,CAACP,IAAI,CAACiB,KAAK,CAACE,MAAM,GAAG,GAAGJ,IAAI,GAAGF,IAAI,IAAI;EAC7C;EACAO,aAAaA,CAAC9B,CAAC,EAAEC,KAAK,EAAE;IACtB,IAAI,CAAC,IAAI,CAACL,OAAO,EAAE;IACnB,IAAII,CAAC,CAACG,MAAM,KAAK,CAAC,EAAE;IACpB,MAAMS,EAAE,GAAG,IAAI,CAACP,SAAS;MACvB0B,EAAE,GAAG9B,KAAK;IACZ,IAAI,CAAC+B,KAAK,CAAC,CAAC;IACZtD,GAAG,CAACuD,aAAa,CAAC,CAAC;IACnB,IAAIrB,EAAE,CAACQ,CAAC,KAAKW,EAAE,CAACX,CAAC,IAAIR,EAAE,CAACY,CAAC,KAAKO,EAAE,CAACP,CAAC,EAAE;MAClC,IAAI,CAACR,UAAU,CAAC,eAAe,EAAEhB,CAAC,CAAC;IACrC,CAAC,MAAM;MACL,IAAI,CAACf,IAAI,CAACiD,IAAI,CAAC,IAAIvD,KAAK,CAAC,YAAY,EAAE;QACrCwD,aAAa,EAAEnC;MACjB,CAAC,CAAC,CAAC;MACH,OAAO;QACLoC,eAAe,EAAErD,GAAG,IAAIA,GAAG,CAACsD,oBAAoB,CAACzB,EAAE,EAAEmB,EAAE,EAAE,IAAI,CAAC7C,GAAG,CAACoD,OAAO,EAAE;UACzEC,MAAM,EAAE;QACV,CAAC;MACH,CAAC;IACH;EACF;EACAC,OAAOA,CAACxC,CAAC,EAAE;IACT,IAAI,CAAC,IAAI,CAACJ,OAAO,EAAE;IACnB,IAAII,CAAC,CAACyC,OAAO,KAAK,EAAE,EAAE;MACpB,IAAI,CAACT,KAAK,CAAC,CAAC;MACZ,IAAI,CAAChB,UAAU,CAAC,eAAe,EAAEhB,CAAC,CAAC;IACrC;EACF;EACAgC,KAAKA,CAAA,EAAG;IACN,IAAI,CAACpC,OAAO,GAAG,KAAK;IACpB,IAAI,CAACP,UAAU,CAACyB,SAAS,CAAC4B,MAAM,CAAC,cAAc,CAAC;IAChD,IAAI,IAAI,CAAChC,IAAI,EAAE;MACbhC,GAAG,CAACgE,MAAM,CAAC,IAAI,CAAChC,IAAI,CAAC;MACrB,IAAI,CAACA,IAAI,GAAG,IAAI;IAClB;IACAhC,GAAG,CAACiE,UAAU,CAAC,CAAC;IAChB,OAAO,IAAI,CAACtC,SAAS;IACrB,OAAO,IAAI,CAACC,QAAQ;EACtB;EACAU,UAAUA,CAAC4B,IAAI,EAAE5C,CAAC,EAAE;IAClB,OAAO,IAAI,CAACf,IAAI,CAACiD,IAAI,CAAC,IAAIvD,KAAK,CAACiE,IAAI,EAAE;MACpCT,aAAa,EAAEnC;IACjB,CAAC,CAAC,CAAC;EACL;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}