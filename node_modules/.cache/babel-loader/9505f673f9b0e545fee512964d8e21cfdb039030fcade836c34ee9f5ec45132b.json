{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { PassType } from \"../IMultiPassRenderer\";\n\n/**\n * ported from Three.js EffectComposer\n * @example\n * const renderer = new MultiPassRenderer([\n *   new ClearPass(),\n *   new RenderPass({\n *     models: [\n *       new Model(),\n *       new Model(),\n *     ],\n *   }),\n *   new CopyPass({\n *     renderToScreen: true,\n *   }),\n *   new TAAPass(),\n * ]);\n * renderer.render();\n * @see https://yuque.antfin-inc.com/yuqi.pyq/fgetpa/apuvbf#dRM8W\n */\nexport default class MultiPassRenderer {\n  constructor(postProcessor) {\n    _defineProperty(this, \"passes\", []);\n    _defineProperty(this, \"layer\", void 0);\n    _defineProperty(this, \"renderFlag\", void 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    this.postProcessor = postProcessor;\n  }\n  setLayer(layer) {\n    this.layer = layer;\n  }\n  setRenderFlag(renderFlag) {\n    this.renderFlag = renderFlag;\n  }\n  getRenderFlag() {\n    return this.renderFlag;\n  }\n  getPostProcessor() {\n    return this.postProcessor;\n  }\n  render() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      for (const pass of _this.passes) {\n        yield pass.render(_this.layer);\n      }\n      // this.layer.renderModels();\n      yield _this.postProcessor.render(_this.layer);\n    })();\n  }\n  resize(width, height) {\n    if (this.width !== width || this.height !== height) {\n      this.postProcessor.resize(width, height);\n      this.width = width;\n      this.height = height;\n    }\n  }\n  add(pass, config) {\n    if (pass.getType() === PassType.PostProcessing) {\n      this.postProcessor.add(pass, this.layer, config);\n    } else {\n      pass.init(this.layer, config);\n      this.passes.push(pass);\n    }\n  }\n  insert(pass, config, index) {\n    pass.init(this.layer, config);\n    this.passes.splice(index, 0, pass);\n  }\n  destroy() {\n    this.passes.length = 0;\n  }\n}","map":{"version":3,"names":["_asyncToGenerator","_defineProperty","PassType","MultiPassRenderer","constructor","postProcessor","setLayer","layer","setRenderFlag","renderFlag","getRenderFlag","getPostProcessor","render","_this","pass","passes","resize","width","height","add","config","getType","PostProcessing","init","push","insert","index","splice","destroy","length"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-core/es/services/renderer/passes/MultiPassRenderer.js"],"sourcesContent":["import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { PassType } from \"../IMultiPassRenderer\";\n\n/**\n * ported from Three.js EffectComposer\n * @example\n * const renderer = new MultiPassRenderer([\n *   new ClearPass(),\n *   new RenderPass({\n *     models: [\n *       new Model(),\n *       new Model(),\n *     ],\n *   }),\n *   new CopyPass({\n *     renderToScreen: true,\n *   }),\n *   new TAAPass(),\n * ]);\n * renderer.render();\n * @see https://yuque.antfin-inc.com/yuqi.pyq/fgetpa/apuvbf#dRM8W\n */\nexport default class MultiPassRenderer {\n  constructor(postProcessor) {\n    _defineProperty(this, \"passes\", []);\n    _defineProperty(this, \"layer\", void 0);\n    _defineProperty(this, \"renderFlag\", void 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    this.postProcessor = postProcessor;\n  }\n  setLayer(layer) {\n    this.layer = layer;\n  }\n  setRenderFlag(renderFlag) {\n    this.renderFlag = renderFlag;\n  }\n  getRenderFlag() {\n    return this.renderFlag;\n  }\n  getPostProcessor() {\n    return this.postProcessor;\n  }\n  render() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      for (const pass of _this.passes) {\n        yield pass.render(_this.layer);\n      }\n      // this.layer.renderModels();\n      yield _this.postProcessor.render(_this.layer);\n    })();\n  }\n  resize(width, height) {\n    if (this.width !== width || this.height !== height) {\n      this.postProcessor.resize(width, height);\n      this.width = width;\n      this.height = height;\n    }\n  }\n  add(pass, config) {\n    if (pass.getType() === PassType.PostProcessing) {\n      this.postProcessor.add(pass, this.layer, config);\n    } else {\n      pass.init(this.layer, config);\n      this.passes.push(pass);\n    }\n  }\n  insert(pass, config, index) {\n    pass.init(this.layer, config);\n    this.passes.splice(index, 0, pass);\n  }\n  destroy() {\n    this.passes.length = 0;\n  }\n}"],"mappings":"AAAA,OAAOA,iBAAiB,MAAM,6CAA6C;AAC3E,OAAOC,eAAe,MAAM,2CAA2C;AACvE,SAASC,QAAQ,QAAQ,uBAAuB;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAMC,iBAAiB,CAAC;EACrCC,WAAWA,CAACC,aAAa,EAAE;IACzBJ,eAAe,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC;IACnCA,eAAe,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IACtCA,eAAe,CAAC,IAAI,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;IAC3CA,eAAe,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;IACjCA,eAAe,CAAC,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;IAClC,IAAI,CAACI,aAAa,GAAGA,aAAa;EACpC;EACAC,QAAQA,CAACC,KAAK,EAAE;IACd,IAAI,CAACA,KAAK,GAAGA,KAAK;EACpB;EACAC,aAAaA,CAACC,UAAU,EAAE;IACxB,IAAI,CAACA,UAAU,GAAGA,UAAU;EAC9B;EACAC,aAAaA,CAAA,EAAG;IACd,OAAO,IAAI,CAACD,UAAU;EACxB;EACAE,gBAAgBA,CAAA,EAAG;IACjB,OAAO,IAAI,CAACN,aAAa;EAC3B;EACAO,MAAMA,CAAA,EAAG;IACP,IAAIC,KAAK,GAAG,IAAI;IAChB,OAAOb,iBAAiB,CAAC,aAAa;MACpC,KAAK,MAAMc,IAAI,IAAID,KAAK,CAACE,MAAM,EAAE;QAC/B,MAAMD,IAAI,CAACF,MAAM,CAACC,KAAK,CAACN,KAAK,CAAC;MAChC;MACA;MACA,MAAMM,KAAK,CAACR,aAAa,CAACO,MAAM,CAACC,KAAK,CAACN,KAAK,CAAC;IAC/C,CAAC,CAAC,CAAC,CAAC;EACN;EACAS,MAAMA,CAACC,KAAK,EAAEC,MAAM,EAAE;IACpB,IAAI,IAAI,CAACD,KAAK,KAAKA,KAAK,IAAI,IAAI,CAACC,MAAM,KAAKA,MAAM,EAAE;MAClD,IAAI,CAACb,aAAa,CAACW,MAAM,CAACC,KAAK,EAAEC,MAAM,CAAC;MACxC,IAAI,CAACD,KAAK,GAAGA,KAAK;MAClB,IAAI,CAACC,MAAM,GAAGA,MAAM;IACtB;EACF;EACAC,GAAGA,CAACL,IAAI,EAAEM,MAAM,EAAE;IAChB,IAAIN,IAAI,CAACO,OAAO,CAAC,CAAC,KAAKnB,QAAQ,CAACoB,cAAc,EAAE;MAC9C,IAAI,CAACjB,aAAa,CAACc,GAAG,CAACL,IAAI,EAAE,IAAI,CAACP,KAAK,EAAEa,MAAM,CAAC;IAClD,CAAC,MAAM;MACLN,IAAI,CAACS,IAAI,CAAC,IAAI,CAAChB,KAAK,EAAEa,MAAM,CAAC;MAC7B,IAAI,CAACL,MAAM,CAACS,IAAI,CAACV,IAAI,CAAC;IACxB;EACF;EACAW,MAAMA,CAACX,IAAI,EAAEM,MAAM,EAAEM,KAAK,EAAE;IAC1BZ,IAAI,CAACS,IAAI,CAAC,IAAI,CAAChB,KAAK,EAAEa,MAAM,CAAC;IAC7B,IAAI,CAACL,MAAM,CAACY,MAAM,CAACD,KAAK,EAAE,CAAC,EAAEZ,IAAI,CAAC;EACpC;EACAc,OAAOA,CAAA,EAAG;IACR,IAAI,CAACb,MAAM,CAACc,MAAM,GAAG,CAAC;EACxB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}