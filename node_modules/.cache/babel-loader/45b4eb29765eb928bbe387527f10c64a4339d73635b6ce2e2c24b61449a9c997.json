{"ast":null,"code":"import JQuery from 'jquery';\nimport { Dom } from '../util';\nimport { Basecoat } from '../common';\nimport { Util, Config } from '../global';\nexport class View extends Basecoat {\n  constructor() {\n    super();\n    this.cid = Private.uniqueId();\n    View.views[this.cid] = this;\n  }\n  get priority() {\n    return 2;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  confirmUpdate(flag, options) {\n    return 0;\n  }\n  $(elem) {\n    return View.$(elem);\n  }\n  empty(elem = this.container) {\n    this.$(elem).empty();\n    return this;\n  }\n  unmount(elem = this.container) {\n    this.$(elem).remove();\n    return this;\n  }\n  remove(elem = this.container) {\n    if (elem === this.container) {\n      this.removeEventListeners(document);\n      this.onRemove();\n      delete View.views[this.cid];\n    }\n    this.unmount(elem);\n    return this;\n  }\n  onRemove() {}\n  setClass(className, elem = this.container) {\n    elem.classList.value = Array.isArray(className) ? className.join(' ') : className;\n  }\n  addClass(className, elem = this.container) {\n    this.$(elem).addClass(Array.isArray(className) ? className.join(' ') : className);\n    return this;\n  }\n  removeClass(className, elem = this.container) {\n    this.$(elem).removeClass(Array.isArray(className) ? className.join(' ') : className);\n    return this;\n  }\n  setStyle(style, elem = this.container) {\n    this.$(elem).css(style);\n    return this;\n  }\n  setAttrs(attrs, elem = this.container) {\n    if (attrs != null && elem != null) {\n      if (elem instanceof SVGElement) {\n        Dom.attr(elem, attrs);\n      } else {\n        this.$(elem).attr(attrs);\n      }\n    }\n    return this;\n  }\n  /**\n   * Returns the value of the specified attribute of `node`.\n   *\n   * If the node does not set a value for attribute, start recursing up\n   * the DOM tree from node to lookup for attribute at the ancestors of\n   * node. If the recursion reaches CellView's root node and attribute\n   * is not found even there, return `null`.\n   */\n  findAttr(attrName, elem = this.container) {\n    let current = elem;\n    while (current && current.nodeType === 1) {\n      const value = current.getAttribute(attrName);\n      if (value != null) {\n        return value;\n      }\n      if (current === this.container) {\n        return null;\n      }\n      current = current.parentNode;\n    }\n    return null;\n  }\n  find(selector, rootElem = this.container, selectors = this.selectors) {\n    return View.find(selector, rootElem, selectors).elems;\n  }\n  findOne(selector, rootElem = this.container, selectors = this.selectors) {\n    const nodes = this.find(selector, rootElem, selectors);\n    return nodes.length > 0 ? nodes[0] : null;\n  }\n  findByAttr(attrName, elem = this.container) {\n    let node = elem;\n    while (node && node.getAttribute) {\n      const val = node.getAttribute(attrName);\n      if ((val != null || node === this.container) && val !== 'false') {\n        return node;\n      }\n      node = node.parentNode;\n    }\n    // If the overall cell has set `magnet === false`, then returns\n    // `null` to announce there is no magnet found for this cell.\n    // This is especially useful to set on cells that have 'ports'.\n    // In this case, only the ports have set `magnet === true` and the\n    // overall element has `magnet === false`.\n    return null;\n  }\n  getSelector(elem, prevSelector) {\n    let selector;\n    if (elem === this.container) {\n      if (typeof prevSelector === 'string') {\n        selector = `> ${prevSelector}`;\n      }\n      return selector;\n    }\n    if (elem) {\n      const nth = Dom.index(elem) + 1;\n      selector = `${elem.tagName.toLowerCase()}:nth-child(${nth})`;\n      if (prevSelector) {\n        selector += ` > ${prevSelector}`;\n      }\n      selector = this.getSelector(elem.parentNode, selector);\n    }\n    return selector;\n  }\n  prefixClassName(className) {\n    return Util.prefix(className);\n  }\n  delegateEvents(events, append) {\n    if (events == null) {\n      return this;\n    }\n    if (!append) {\n      this.undelegateEvents();\n    }\n    const splitter = /^(\\S+)\\s*(.*)$/;\n    Object.keys(events).forEach(key => {\n      const match = key.match(splitter);\n      if (match == null) {\n        return;\n      }\n      const method = this.getEventHandler(events[key]);\n      if (typeof method === 'function') {\n        this.delegateEvent(match[1], match[2], method);\n      }\n    });\n    return this;\n  }\n  undelegateEvents() {\n    this.$(this.container).off(this.getEventNamespace());\n    return this;\n  }\n  delegateDocumentEvents(events, data) {\n    this.addEventListeners(document, events, data);\n    return this;\n  }\n  undelegateDocumentEvents() {\n    this.removeEventListeners(document);\n    return this;\n  }\n  delegateEvent(eventName, selector, listener) {\n    this.$(this.container).on(eventName + this.getEventNamespace(), selector, listener);\n    return this;\n  }\n  undelegateEvent(eventName, selector, listener) {\n    const name = eventName + this.getEventNamespace();\n    if (selector == null) {\n      this.$(this.container).off(name);\n    } else if (typeof selector === 'string') {\n      this.$(this.container).off(name, selector, listener);\n    } else {\n      this.$(this.container).off(name, selector);\n    }\n    return this;\n  }\n  addEventListeners(elem, events, data) {\n    if (events == null) {\n      return this;\n    }\n    const ns = this.getEventNamespace();\n    const $elem = this.$(elem);\n    Object.keys(events).forEach(eventName => {\n      const method = this.getEventHandler(events[eventName]);\n      if (typeof method === 'function') {\n        $elem.on(eventName + ns, data, method);\n      }\n    });\n    return this;\n  }\n  removeEventListeners(elem) {\n    if (elem != null) {\n      this.$(elem).off(this.getEventNamespace());\n    }\n    return this;\n  }\n  getEventNamespace() {\n    return `.${Config.prefixCls}-event-${this.cid}`;\n  }\n  // eslint-disable-next-line\n  getEventHandler(handler) {\n    // eslint-disable-next-line\n    let method;\n    if (typeof handler === 'string') {\n      const fn = this[handler];\n      if (typeof fn === 'function') {\n        method = (...args) => fn.call(this, ...args);\n      }\n    } else {\n      method = (...args) => handler.call(this, ...args);\n    }\n    return method;\n  }\n  getEventTarget(e, options = {}) {\n    // Touchmove/Touchend event's target is not reflecting the element\n    // under the coordinates as mousemove does.\n    // It holds the element when a touchstart triggered.\n    const {\n      target,\n      type,\n      clientX = 0,\n      clientY = 0\n    } = e;\n    if (options.fromPoint || type === 'touchmove' || type === 'touchend') {\n      return document.elementFromPoint(clientX, clientY);\n    }\n    return target;\n  }\n  stopPropagation(e) {\n    this.setEventData(e, {\n      propagationStopped: true\n    });\n    return this;\n  }\n  isPropagationStopped(e) {\n    return this.getEventData(e).propagationStopped === true;\n  }\n  getEventData(e) {\n    return this.eventData(e);\n  }\n  setEventData(e, data) {\n    return this.eventData(e, data);\n  }\n  eventData(e, data) {\n    if (e == null) {\n      throw new TypeError('Event object required');\n    }\n    let currentData = e.data;\n    const key = `__${this.cid}__`;\n    // get\n    if (data == null) {\n      if (currentData == null) {\n        return {};\n      }\n      return currentData[key] || {};\n    }\n    // set\n    if (currentData == null) {\n      currentData = e.data = {};\n    }\n    if (currentData[key] == null) {\n      currentData[key] = Object.assign({}, data);\n    } else {\n      currentData[key] = Object.assign(Object.assign({}, currentData[key]), data);\n    }\n    return currentData[key];\n  }\n  normalizeEvent(evt) {\n    return View.normalizeEvent(evt);\n  }\n}\n(function (View) {\n  function $(elem) {\n    return JQuery(elem);\n  }\n  View.$ = $;\n  function createElement(tagName, isSvgElement) {\n    return isSvgElement ? Dom.createSvgElement(tagName || 'g') : Dom.createElementNS(tagName || 'div');\n  }\n  View.createElement = createElement;\n  function find(selector, rootElem, selectors) {\n    if (!selector || selector === '.') {\n      return {\n        elems: [rootElem]\n      };\n    }\n    if (selectors) {\n      const nodes = selectors[selector];\n      if (nodes) {\n        return {\n          elems: Array.isArray(nodes) ? nodes : [nodes]\n        };\n      }\n    }\n    if (Config.useCSSSelector) {\n      return {\n        isCSSSelector: true,\n        // elems: Array.prototype.slice.call(rootElem.querySelectorAll(selector)),\n        elems: $(rootElem).find(selector).toArray()\n      };\n    }\n    return {\n      elems: []\n    };\n  }\n  View.find = find;\n  function normalizeEvent(evt) {\n    let normalizedEvent = evt;\n    const originalEvent = evt.originalEvent;\n    const touchEvt = originalEvent && originalEvent.changedTouches && originalEvent.changedTouches[0];\n    if (touchEvt) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const key in evt) {\n        // copy all the properties from the input event that are not\n        // defined on the touch event (functions included).\n        if (touchEvt[key] === undefined) {\n          touchEvt[key] = evt[key];\n        }\n      }\n      normalizedEvent = touchEvt;\n    }\n    // IE: evt.target could be set to SVGElementInstance for SVGUseElement\n    const target = normalizedEvent.target;\n    if (target) {\n      const useElement = target.correspondingUseElement;\n      if (useElement) {\n        normalizedEvent.target = useElement;\n      }\n    }\n    return normalizedEvent;\n  }\n  View.normalizeEvent = normalizeEvent;\n})(View || (View = {}));\n(function (View) {\n  View.views = {};\n  function getView(cid) {\n    return View.views[cid] || null;\n  }\n  View.getView = getView;\n})(View || (View = {}));\nvar Private;\n(function (Private) {\n  let counter = 0;\n  function uniqueId() {\n    const id = `v${counter}`;\n    counter += 1;\n    return id;\n  }\n  Private.uniqueId = uniqueId;\n})(Private || (Private = {}));","map":{"version":3,"names":["JQuery","Dom","Basecoat","Util","Config","View","constructor","cid","Private","uniqueId","views","priority","confirmUpdate","flag","options","$","elem","empty","container","unmount","remove","removeEventListeners","document","onRemove","setClass","className","classList","value","Array","isArray","join","addClass","removeClass","setStyle","style","css","setAttrs","attrs","SVGElement","attr","findAttr","attrName","current","nodeType","getAttribute","parentNode","find","selector","rootElem","selectors","elems","findOne","nodes","length","findByAttr","node","val","getSelector","prevSelector","nth","index","tagName","toLowerCase","prefixClassName","prefix","delegateEvents","events","append","undelegateEvents","splitter","Object","keys","forEach","key","match","method","getEventHandler","delegateEvent","off","getEventNamespace","delegateDocumentEvents","data","addEventListeners","undelegateDocumentEvents","eventName","listener","on","undelegateEvent","name","ns","$elem","prefixCls","handler","fn","args","call","getEventTarget","e","target","type","clientX","clientY","fromPoint","elementFromPoint","stopPropagation","setEventData","propagationStopped","isPropagationStopped","getEventData","eventData","TypeError","currentData","assign","normalizeEvent","evt","createElement","isSvgElement","createSvgElement","createElementNS","useCSSSelector","isCSSSelector","toArray","normalizedEvent","originalEvent","touchEvt","changedTouches","undefined","useElement","correspondingUseElement","getView","counter","id"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/x6/src/view/view.ts"],"sourcesContent":["import JQuery from 'jquery'\nimport { Dom } from '../util'\nimport { Attr } from '../registry'\nimport { KeyValue } from '../types'\nimport { Basecoat } from '../common'\nimport { Util, Config } from '../global'\nimport { Markup } from './markup'\n\nexport abstract class View<EventArgs = any> extends Basecoat<EventArgs> {\n  public readonly cid: string\n  public container: Element\n  protected selectors: Markup.Selectors\n\n  public get priority() {\n    return 2\n  }\n\n  constructor() {\n    super()\n    this.cid = Private.uniqueId()\n    View.views[this.cid] = this\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  confirmUpdate(flag: number, options: any): number {\n    return 0\n  }\n\n  $(elem: any) {\n    return View.$(elem)\n  }\n\n  empty(elem: Element = this.container) {\n    this.$(elem).empty()\n    return this\n  }\n\n  unmount(elem: Element = this.container) {\n    this.$(elem).remove()\n    return this\n  }\n\n  remove(elem: Element = this.container) {\n    if (elem === this.container) {\n      this.removeEventListeners(document)\n      this.onRemove()\n      delete View.views[this.cid]\n    }\n    this.unmount(elem)\n    return this\n  }\n\n  protected onRemove() {}\n\n  setClass(className: string | string[], elem: Element = this.container) {\n    elem.classList.value = Array.isArray(className)\n      ? className.join(' ')\n      : className\n  }\n\n  addClass(className: string | string[], elem: Element = this.container) {\n    this.$(elem).addClass(\n      Array.isArray(className) ? className.join(' ') : className,\n    )\n    return this\n  }\n\n  removeClass(className: string | string[], elem: Element = this.container) {\n    this.$(elem).removeClass(\n      Array.isArray(className) ? className.join(' ') : className,\n    )\n    return this\n  }\n\n  setStyle(\n    style: JQuery.PlainObject<string | number>,\n    elem: Element = this.container,\n  ) {\n    this.$(elem).css(style)\n    return this\n  }\n\n  setAttrs(attrs?: Attr.SimpleAttrs | null, elem: Element = this.container) {\n    if (attrs != null && elem != null) {\n      if (elem instanceof SVGElement) {\n        Dom.attr(elem, attrs)\n      } else {\n        this.$(elem).attr(attrs)\n      }\n    }\n    return this\n  }\n\n  /**\n   * Returns the value of the specified attribute of `node`.\n   *\n   * If the node does not set a value for attribute, start recursing up\n   * the DOM tree from node to lookup for attribute at the ancestors of\n   * node. If the recursion reaches CellView's root node and attribute\n   * is not found even there, return `null`.\n   */\n  findAttr(attrName: string, elem: Element = this.container) {\n    let current = elem\n    while (current && current.nodeType === 1) {\n      const value = current.getAttribute(attrName)\n      if (value != null) {\n        return value\n      }\n\n      if (current === this.container) {\n        return null\n      }\n\n      current = current.parentNode as Element\n    }\n\n    return null\n  }\n\n  find(\n    selector?: string,\n    rootElem: Element = this.container,\n    selectors: Markup.Selectors = this.selectors,\n  ) {\n    return View.find(selector, rootElem, selectors).elems\n  }\n\n  findOne(\n    selector?: string,\n    rootElem: Element = this.container,\n    selectors: Markup.Selectors = this.selectors,\n  ) {\n    const nodes = this.find(selector, rootElem, selectors)\n    return nodes.length > 0 ? nodes[0] : null\n  }\n\n  findByAttr(attrName: string, elem: Element = this.container) {\n    let node = elem\n    while (node && node.getAttribute) {\n      const val = node.getAttribute(attrName)\n      if ((val != null || node === this.container) && val !== 'false') {\n        return node\n      }\n      node = node.parentNode as Element\n    }\n\n    // If the overall cell has set `magnet === false`, then returns\n    // `null` to announce there is no magnet found for this cell.\n    // This is especially useful to set on cells that have 'ports'.\n    // In this case, only the ports have set `magnet === true` and the\n    // overall element has `magnet === false`.\n    return null\n  }\n\n  getSelector(elem: Element, prevSelector?: string): string | undefined {\n    let selector\n\n    if (elem === this.container) {\n      if (typeof prevSelector === 'string') {\n        selector = `> ${prevSelector}`\n      }\n      return selector\n    }\n\n    if (elem) {\n      const nth = Dom.index(elem) + 1\n      selector = `${elem.tagName.toLowerCase()}:nth-child(${nth})`\n      if (prevSelector) {\n        selector += ` > ${prevSelector}`\n      }\n\n      selector = this.getSelector(elem.parentNode as Element, selector)\n    }\n\n    return selector\n  }\n\n  prefixClassName(className: string) {\n    return Util.prefix(className)\n  }\n\n  delegateEvents(events: View.Events, append?: boolean) {\n    if (events == null) {\n      return this\n    }\n\n    if (!append) {\n      this.undelegateEvents()\n    }\n\n    const splitter = /^(\\S+)\\s*(.*)$/\n    Object.keys(events).forEach((key) => {\n      const match = key.match(splitter)\n      if (match == null) {\n        return\n      }\n\n      const method = this.getEventHandler(events[key])\n      if (typeof method === 'function') {\n        this.delegateEvent(match[1], match[2], method)\n      }\n    })\n\n    return this\n  }\n\n  undelegateEvents() {\n    this.$(this.container).off(this.getEventNamespace())\n    return this\n  }\n\n  delegateDocumentEvents(events: View.Events, data?: KeyValue) {\n    this.addEventListeners(document, events, data)\n    return this\n  }\n\n  undelegateDocumentEvents() {\n    this.removeEventListeners(document)\n    return this\n  }\n\n  protected delegateEvent(\n    eventName: string,\n    selector: string | Record<string, unknown>,\n    listener: any,\n  ) {\n    this.$(this.container).on(\n      eventName + this.getEventNamespace(),\n      selector,\n      listener,\n    )\n    return this\n  }\n\n  protected undelegateEvent(\n    eventName: string,\n    selector: string,\n    listener: any,\n  ): this\n  protected undelegateEvent(eventName: string): this\n  protected undelegateEvent(eventName: string, listener: any): this\n  protected undelegateEvent(\n    eventName: string,\n    selector?: string | any,\n    listener?: any,\n  ) {\n    const name = eventName + this.getEventNamespace()\n    if (selector == null) {\n      this.$(this.container).off(name)\n    } else if (typeof selector === 'string') {\n      this.$(this.container).off(name, selector, listener)\n    } else {\n      this.$(this.container).off(name, selector)\n    }\n    return this\n  }\n\n  protected addEventListeners(\n    elem: Element | Document | JQuery,\n    events: View.Events,\n    data?: KeyValue,\n  ) {\n    if (events == null) {\n      return this\n    }\n\n    const ns = this.getEventNamespace()\n    const $elem = this.$(elem)\n    Object.keys(events).forEach((eventName) => {\n      const method = this.getEventHandler(events[eventName])\n      if (typeof method === 'function') {\n        $elem.on(eventName + ns, data, method as any)\n      }\n    })\n\n    return this\n  }\n\n  protected removeEventListeners(elem: Element | Document | JQuery) {\n    if (elem != null) {\n      this.$(elem).off(this.getEventNamespace())\n    }\n    return this\n  }\n\n  protected getEventNamespace() {\n    return `.${Config.prefixCls}-event-${this.cid}`\n  }\n\n  // eslint-disable-next-line\n  protected getEventHandler(handler: string | Function) {\n    // eslint-disable-next-line\n    let method: Function | undefined\n    if (typeof handler === 'string') {\n      const fn = (this as any)[handler]\n      if (typeof fn === 'function') {\n        method = (...args: any) => fn.call(this, ...args)\n      }\n    } else {\n      method = (...args: any) => handler.call(this, ...args)\n    }\n\n    return method\n  }\n\n  getEventTarget(\n    e: JQuery.TriggeredEvent,\n    options: { fromPoint?: boolean } = {},\n  ) {\n    // Touchmove/Touchend event's target is not reflecting the element\n    // under the coordinates as mousemove does.\n    // It holds the element when a touchstart triggered.\n    const { target, type, clientX = 0, clientY = 0 } = e\n    if (options.fromPoint || type === 'touchmove' || type === 'touchend') {\n      return document.elementFromPoint(clientX, clientY)\n    }\n\n    return target\n  }\n\n  stopPropagation(e: JQuery.TriggeredEvent) {\n    this.setEventData(e, { propagationStopped: true })\n    return this\n  }\n\n  isPropagationStopped(e: JQuery.TriggeredEvent) {\n    return this.getEventData(e).propagationStopped === true\n  }\n\n  getEventData<T extends KeyValue>(e: JQuery.TriggeredEvent): T {\n    return this.eventData<T>(e)\n  }\n\n  setEventData<T extends KeyValue>(e: JQuery.TriggeredEvent, data: T): T {\n    return this.eventData(e, data)\n  }\n\n  protected eventData<T extends KeyValue>(\n    e: JQuery.TriggeredEvent,\n    data?: T,\n  ): T {\n    if (e == null) {\n      throw new TypeError('Event object required')\n    }\n\n    let currentData = e.data\n    const key = `__${this.cid}__`\n\n    // get\n    if (data == null) {\n      if (currentData == null) {\n        return {} as T\n      }\n      return currentData[key] || {}\n    }\n\n    // set\n    if (currentData == null) {\n      currentData = e.data = {}\n    }\n\n    if (currentData[key] == null) {\n      currentData[key] = { ...data }\n    } else {\n      currentData[key] = { ...currentData[key], ...data }\n    }\n\n    return currentData[key]\n  }\n\n  normalizeEvent<T extends JQuery.TriggeredEvent>(evt: T) {\n    return View.normalizeEvent(evt)\n  }\n}\n\nexport namespace View {\n  export type Events = KeyValue<string | Function> // eslint-disable-line\n}\n\nexport namespace View {\n  export function $(elem: any) {\n    return JQuery(elem)\n  }\n\n  export function createElement(tagName?: string, isSvgElement?: boolean) {\n    return isSvgElement\n      ? Dom.createSvgElement(tagName || 'g')\n      : (Dom.createElementNS(tagName || 'div') as HTMLElement)\n  }\n\n  export function find(\n    selector: string | null | undefined,\n    rootElem: Element,\n    selectors: Markup.Selectors,\n  ): { isCSSSelector?: boolean; elems: Element[] } {\n    if (!selector || selector === '.') {\n      return { elems: [rootElem] }\n    }\n\n    if (selectors) {\n      const nodes = selectors[selector]\n      if (nodes) {\n        return { elems: Array.isArray(nodes) ? nodes : [nodes] }\n      }\n    }\n\n    if (Config.useCSSSelector) {\n      return {\n        isCSSSelector: true,\n        // elems: Array.prototype.slice.call(rootElem.querySelectorAll(selector)),\n        elems: $(rootElem).find(selector).toArray() as Element[],\n      }\n    }\n\n    return { elems: [] }\n  }\n\n  export function normalizeEvent<T extends JQuery.TriggeredEvent>(evt: T) {\n    let normalizedEvent = evt\n    const originalEvent = evt.originalEvent as TouchEvent\n    const touchEvt: any =\n      originalEvent &&\n      originalEvent.changedTouches &&\n      originalEvent.changedTouches[0]\n\n    if (touchEvt) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const key in evt) {\n        // copy all the properties from the input event that are not\n        // defined on the touch event (functions included).\n        if (touchEvt[key] === undefined) {\n          touchEvt[key] = (evt as any)[key]\n        }\n      }\n      normalizedEvent = touchEvt\n    }\n\n    // IE: evt.target could be set to SVGElementInstance for SVGUseElement\n    const target = normalizedEvent.target\n    if (target) {\n      const useElement = target.correspondingUseElement\n      if (useElement) {\n        normalizedEvent.target = useElement\n      }\n    }\n\n    return normalizedEvent\n  }\n}\n\nexport namespace View {\n  export const views: { [cid: string]: View } = {}\n\n  export function getView(cid: string) {\n    return views[cid] || null\n  }\n}\n\nnamespace Private {\n  let counter = 0\n  export function uniqueId() {\n    const id = `v${counter}`\n    counter += 1\n    return id\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}