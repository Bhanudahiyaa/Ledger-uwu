{"ast":null,"code":"import { uniqueId } from '@antv/util';\nimport { PointLayer } from '@antv/l7';\nimport { PlotLayer } from '../../core/layer/plot-layer';\nimport { mappingLayer } from './adaptor';\nconst DEFAULT_OPTIONS = {\n  style: {\n    fontSize: 12\n  }\n};\nconst LAYER_OPTIONS_KEYS = [];\nexport class TextLayer extends PlotLayer {\n  constructor(options) {\n    super(options);\n    /**\n     * 图层类型\n     */\n    this.type = PlotLayer.LayerType.TextLayer;\n    /**\n     * 图层是否具有交互属性\n     */\n    this.interaction = false;\n    const {\n      name,\n      source\n    } = this.options;\n    const config = this.pickLayerConfig(this.options);\n    this.name = name ? name : uniqueId(this.type);\n    this.layer = new PointLayer(Object.assign(Object.assign({}, config), {\n      name: this.name\n    }));\n    this.mappingLayer(this.layer, this.options);\n    this.setSource(source);\n  }\n  /**\n   * 获取默认配置\n   */\n  getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n  mappingLayer(layer, options) {\n    mappingLayer(layer, options);\n  }\n  update(options) {\n    super.update(options);\n    this.mappingLayer(this.layer, this.options);\n  }\n}\n/**\n * 默认配置项\n */\nTextLayer.DefaultOptions = DEFAULT_OPTIONS;\n/**\n * 图层配置项 Keys\n */\nTextLayer.LayerOptionsKeys = PlotLayer.LayerConfigkeys.concat(LAYER_OPTIONS_KEYS);","map":{"version":3,"names":["uniqueId","PointLayer","PlotLayer","mappingLayer","DEFAULT_OPTIONS","style","fontSize","LAYER_OPTIONS_KEYS","TextLayer","constructor","options","type","LayerType","interaction","name","source","config","pickLayerConfig","layer","Object","assign","setSource","getDefaultOptions","update","DefaultOptions","LayerOptionsKeys","LayerConfigkeys","concat"],"sources":["../../../../src/layers/text-layer/index.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,QAAQ,QAAQ,YAAY;AACrC,SAASC,UAAU,QAAQ,UAAU;AACrC,SAASC,SAAS,QAAQ,6BAA6B;AAEvD,SAASC,YAAY,QAAQ,WAAW;AAMxC,MAAMC,eAAe,GAAG;EACtBC,KAAK,EAAE;IACLC,QAAQ,EAAE;;CAEb;AACD,MAAMC,kBAAkB,GAAG,EAAE;AAE7B,OAAM,MAAOC,SAAU,SAAQN,SAA2B;EA0BxDO,YAAYC,OAAyB;IACnC,KAAK,CAACA,OAAO,CAAC;IAVhB;;;IAGO,KAAAC,IAAI,GAAGT,SAAS,CAACU,SAAS,CAACJ,SAAS;IAC3C;;;IAGO,KAAAK,WAAW,GAAG,KAAK;IAIxB,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAE,GAAG,IAAI,CAACL,OAAO;IACrC,MAAMM,MAAM,GAAG,IAAI,CAACC,eAAe,CAAC,IAAI,CAACP,OAAO,CAAC;IAEjD,IAAI,CAACI,IAAI,GAAGA,IAAI,GAAGA,IAAI,GAAGd,QAAQ,CAAC,IAAI,CAACW,IAAI,CAAC;IAC7C,IAAI,CAACO,KAAK,GAAG,IAAIjB,UAAU,CAAAkB,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAMJ,MAAM;MAAEF,IAAI,EAAE,IAAI,CAACA;IAAI,GAAG;IAE3D,IAAI,CAACX,YAAY,CAAC,IAAI,CAACe,KAAK,EAAE,IAAI,CAACR,OAAO,CAAC;IAC3C,IAAI,CAACW,SAAS,CAACN,MAAM,CAAC;EACxB;EAEA;;;EAGOO,iBAAiBA,CAAA;IACtB,OAAOlB,eAAe;EACxB;EAEUD,YAAYA,CAACe,KAAa,EAAER,OAAyB;IAC7DP,YAAY,CAACe,KAAK,EAAER,OAAO,CAAC;EAC9B;EAEOa,MAAMA,CAACb,OAAiC;IAC7C,KAAK,CAACa,MAAM,CAACb,OAAO,CAAC;IAErB,IAAI,CAACP,YAAY,CAAC,IAAI,CAACe,KAAK,EAAE,IAAI,CAACR,OAAO,CAAC;EAC7C;;AApDA;;;AAGOF,SAAA,CAAAgB,cAAc,GAAGpB,eAAe;AACvC;;;AAGOI,SAAA,CAAAiB,gBAAgB,GAAGvB,SAAS,CAACwB,eAAe,CAACC,MAAM,CAACpB,kBAAkB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}