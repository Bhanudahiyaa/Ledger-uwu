{"ast":null,"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\nimport { DisposableCollection, Disposable } from '@antv/xflow-core';\nimport { IHookContribution, ManaSyringe } from '@antv/xflow-core';\nimport { IMinimapConfigProvider } from '../interface';\n/**\n * 内置的hook contribution\n * 处理 config上的runtime的注册项\n */\nlet HookContribution = class HookContribution {\n  constructor() {\n    this.toDispose = new DisposableCollection();\n    this.registerHookHub = () => __awaiter(this, void 0, void 0, function* () {\n      return Disposable.create(() => {});\n    });\n    this.registerHook = hooks => __awaiter(this, void 0, void 0, function* () {\n      const toDispose = new DisposableCollection();\n      const disposables = [hooks.graphOptions.registerHook({\n        name: 'add minimap options',\n        handler: args => __awaiter(this, void 0, void 0, function* () {\n          // 对齐线配置，辅助移动节点排版（详细文档：https://X6.antv.vision/zh/docs/tutorial/basic/snapline）\n          const minimapOptions = yield this.minimapConfig.getConfig();\n          args.minimap = Object.assign({}, minimapOptions);\n        })\n      })];\n      toDispose.pushAll(disposables);\n      return Disposable.create(() => {});\n    });\n  }\n};\n__decorate([ManaSyringe.inject(IMinimapConfigProvider), __metadata(\"design:type\", Object)], HookContribution.prototype, \"minimapConfig\", void 0);\nHookContribution = __decorate([ManaSyringe.singleton({\n  contrib: IHookContribution\n})], HookContribution);\nexport { HookContribution };","map":{"version":3,"names":["DisposableCollection","Disposable","IHookContribution","ManaSyringe","IMinimapConfigProvider","HookContribution","constructor","toDispose","registerHookHub","__awaiter","create","registerHook","hooks","disposables","graphOptions","name","handler","args","minimapOptions","minimapConfig","getConfig","minimap","Object","assign","pushAll","__decorate","inject","singleton","contrib"],"sources":["../../../src/canvas-mini-map/contributions/hook.tsx"],"sourcesContent":[null],"mappings":";AACA,SAASA,oBAAoB,EAAEC,UAAU,QAAQ,kBAAkB;AACnE,SAASC,iBAAiB,EAAEC,WAAW,QAAQ,kBAAkB;AACjE,SAASC,sBAAsB,QAAQ,cAAc;AAErD;;;;AAKO,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAAtBC,YAAA;IACL,KAAAC,SAAS,GAAG,IAAIP,oBAAoB,EAAE;IAKtC,KAAAQ,eAAe,GAAG,MAAWC,SAAA;MAC3B,OAAOR,UAAU,CAACS,MAAM,CAAC,MAAK,CAAE,CAAC,CAAC;IACpC,CAAC;IAED,KAAAC,YAAY,GAAUC,KAAgB,IAAIH,SAAA;MACxC,MAAMF,SAAS,GAAG,IAAIP,oBAAoB,EAAE;MAC5C,MAAMa,WAAW,GAAG,CAClBD,KAAK,CAACE,YAAY,CAACH,YAAY,CAAC;QAC9BI,IAAI,EAAE,qBAAqB;QAC3BC,OAAO,EAAQC,IAAI,IAAGR,SAAA;UACpB;UACA,MAAMS,cAAc,GAAG,MAAM,IAAI,CAACC,aAAa,CAACC,SAAS,EAAE;UAC3DH,IAAI,CAACI,OAAO,GAAAC,MAAA,CAAAC,MAAA,KACPL,cAAc,CAClB;QACH,CAAC;OACF,CAAC,CACH;MACDX,SAAS,CAACiB,OAAO,CAACX,WAAW,CAAC;MAC9B,OAAOZ,UAAU,CAACS,MAAM,CAAC,MAAK,CAAE,CAAC,CAAC;IACpC,CAAC;EACH;CAAC;AAxBCe,UAAA,EAACtB,WAAW,CAACuB,MAAM,CAACtB,sBAAsB,CAAC,E,wFACE;AAJlCC,gBAAgB,GAAAoB,UAAA,EAD5BtB,WAAW,CAACwB,SAAS,CAAC;EAAEC,OAAO,EAAE1B;AAAiB,CAAE,CAAC,C,EACzCG,gBAAgB,CA2B5B;SA3BYA,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}