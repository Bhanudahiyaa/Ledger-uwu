{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nvar WebGPUFramebuffer = /*#__PURE__*/function () {\n  function WebGPUFramebuffer(engine, options) {\n    _classCallCheck(this, WebGPUFramebuffer);\n    this.engine = engine;\n    this.options = options;\n    this.colorTexture = void 0;\n    this.depthTexture = void 0;\n    this.width = 0;\n    this.height = 0;\n    var _options = options,\n      width = _options.width,\n      height = _options.height,\n      color = _options.color,\n      colors = _options.colors,\n      depth = _options.depth,\n      stencil = _options.stencil;\n    if (color) {\n      this.colorTexture = color;\n    }\n    if (depth) {\n      this.depthTexture = depth;\n    } // TODO: depth & stencil\n  }\n  _createClass(WebGPUFramebuffer, [{\n    key: \"get\",\n    value: function get() {\n      var _this$colorTexture, _this$depthTexture;\n      return {\n        color: (_this$colorTexture = this.colorTexture) === null || _this$colorTexture === void 0 ? void 0 : _this$colorTexture.get(),\n        depth: (_this$depthTexture = this.depthTexture) === null || _this$depthTexture === void 0 ? void 0 : _this$depthTexture.get()\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$colorTexture2, _this$depthTexture2;\n      (_this$colorTexture2 = this.colorTexture) === null || _this$colorTexture2 === void 0 ? void 0 : _this$colorTexture2.destroy();\n      (_this$depthTexture2 = this.depthTexture) === null || _this$depthTexture2 === void 0 ? void 0 : _this$depthTexture2.destroy();\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(_ref) {\n      var width = _ref.width,\n        height = _ref.height;\n      if (width !== this.width || height !== this.height) {\n        var _this$colorTexture3, _this$depthTexture3;\n        (_this$colorTexture3 = this.colorTexture) === null || _this$colorTexture3 === void 0 ? void 0 : _this$colorTexture3.resize({\n          width: width,\n          height: height\n        });\n        (_this$depthTexture3 = this.depthTexture) === null || _this$depthTexture3 === void 0 ? void 0 : _this$depthTexture3.resize({\n          width: width,\n          height: height\n        });\n      }\n      this.width = width;\n      this.height = height;\n    }\n  }]);\n  return WebGPUFramebuffer;\n}();\nexport { WebGPUFramebuffer as default };","map":{"version":3,"names":["WebGPUFramebuffer","engine","options","_classCallCheck","colorTexture","depthTexture","width","height","_options","color","colors","depth","stencil","_this$colorTexture","_this$depthTexture","get","_this$colorTexture2","_this$depthTexture2","destroy","_ref","_this$colorTexture3","_this$depthTexture3","resize"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/g-webgpu-engine/src/webgpu/WebGPUFramebuffer.ts"],"sourcesContent":["import {\n  gl,\n  IFramebuffer,\n  IFramebufferInitializationOptions,\n  IRenderbuffer,\n  ITexture2D,\n} from '@antv/g-webgpu-core';\nimport { WebGPUEngine } from '.';\nimport WebGPUTexture2D from './WebGPUTexture2D';\n\nexport default class WebGPUFramebuffer implements IFramebuffer {\n  private colorTexture: WebGPUTexture2D | null;\n  private depthTexture: WebGPUTexture2D | null;\n  private width: number = 0;\n  private height: number = 0;\n\n  constructor(\n    private engine: WebGPUEngine,\n    private options: IFramebufferInitializationOptions,\n  ) {\n    const { width, height, color, colors, depth, stencil } = options;\n    if (color) {\n      this.colorTexture = color as WebGPUTexture2D;\n    }\n    if (depth) {\n      this.depthTexture = depth as WebGPUTexture2D;\n    }\n    // TODO: depth & stencil\n  }\n\n  public get() {\n    return {\n      color: this.colorTexture?.get(),\n      depth: this.depthTexture?.get(),\n    };\n  }\n\n  public destroy() {\n    this.colorTexture?.destroy();\n    this.depthTexture?.destroy();\n  }\n\n  public resize({ width, height }: { width: number; height: number }) {\n    if (width !== this.width || height !== this.height) {\n      this.colorTexture?.resize({ width, height });\n      this.depthTexture?.resize({ width, height });\n    }\n    this.width = width;\n    this.height = height;\n  }\n}\n"],"mappings":";;IAUqBA,iB;EAMnB,SAAAA,kBACUC,MADV,EAEUC,OAFV,EAGE;IAAAC,eAAA,OAAAH,iBAAA;IAAA,KAFQC,MAER,GAFQA,MAER;IAAA,KADQC,OACR,GADQA,OACR;IAAA,KARME,YAQN;IAAA,KAPMC,YAON;IAAA,KANMC,KAMN,GANsB,CAMtB;IAAA,KALMC,MAKN,GALuB,CAKvB;IAAA,IAAAC,QAAA,GACyDN,OADzD;MACQI,KADR,GAAAE,QAAA,CACQF,KADR;MACeC,MADf,GAAAC,QAAA,CACeD,MADf;MACuBE,KADvB,GAAAD,QAAA,CACuBC,KADvB;MAC8BC,MAD9B,GAAAF,QAAA,CAC8BE,MAD9B;MACsCC,KADtC,GAAAH,QAAA,CACsCG,KADtC;MAC6CC,OAD7C,GAAAJ,QAAA,CAC6CI,OAD7C;IAEA,IAAIH,KAAJ,EAAW;MACT,KAAKL,YAAL,GAAoBK,KAApB;IACD;IACD,IAAIE,KAAJ,EAAW;MACT,KAAKN,YAAL,GAAoBM,KAApB;IACD,CAPD,CAQA;EACD;;;0BAEY;MAAA,IAAAE,kBAAA,EAAAC,kBAAA;MACX,OAAO;QACLL,KAAK,GAAAI,kBAAA,GAAE,KAAKT,YAAP,cAAAS,kBAAA,uBAAEA,kBAAA,CAAmBE,GAAnB,EADF;QAELJ,KAAK,GAAAG,kBAAA,GAAE,KAAKT,YAAP,cAAAS,kBAAA,uBAAEA,kBAAA,CAAmBC,GAAnB;MAFF,CAAP;IAID;;;8BAEgB;MAAA,IAAAC,mBAAA,EAAAC,mBAAA;MACf,CAAAD,mBAAA,QAAKZ,YAAL,cAAAY,mBAAA,uBAAAA,mBAAA,CAAmBE,OAAnB;MACA,CAAAD,mBAAA,QAAKZ,YAAL,cAAAY,mBAAA,uBAAAA,mBAAA,CAAmBC,OAAnB;IACD;;;iCAEmE;MAAA,IAApDZ,KAAoD,GAAAa,IAAA,CAApDb,KAAoD;QAA7CC,MAA6C,GAAAY,IAAA,CAA7CZ,MAA6C;MAClE,IAAID,KAAK,KAAK,KAAKA,KAAf,IAAwBC,MAAM,KAAK,KAAKA,MAA5C,EAAoD;QAAA,IAAAa,mBAAA,EAAAC,mBAAA;QAClD,CAAAD,mBAAA,QAAKhB,YAAL,cAAAgB,mBAAA,uBAAAA,mBAAA,CAAmBE,MAAnB,CAA0B;UAAEhB,KAAK,EAALA,KAAF;UAASC,MAAM,EAANA;QAAT,CAA1B;QACA,CAAAc,mBAAA,QAAKhB,YAAL,cAAAgB,mBAAA,uBAAAA,mBAAA,CAAmBC,MAAnB,CAA0B;UAAEhB,KAAK,EAALA,KAAF;UAASC,MAAM,EAANA;QAAT,CAA1B;MACD;MACD,KAAKD,KAAL,GAAaA,KAAb;MACA,KAAKC,MAAL,GAAcA,MAAd;IACD;;;;SAvCkBP,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}