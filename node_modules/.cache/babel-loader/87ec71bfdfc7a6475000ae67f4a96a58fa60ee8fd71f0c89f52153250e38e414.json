{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nconst _excluded = [\"rasterData\"];\nimport RasterLayer from \"../../raster\";\nimport Tile from \"./Tile\";\nexport default class RasterTile extends Tile {\n  initTileLayer() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const attributes = _this.parent.getLayerAttributeConfig();\n      const layerOptions = _this.getLayerOptions();\n      const sourceOptions = _this.getSourceOption();\n      const layer = new RasterLayer(_objectSpread({}, layerOptions)).source(sourceOptions.data, sourceOptions.options);\n\n      // 初始化数据映射\n      // tslint:disable-next-line: no-unused-expression\n      attributes && Object.keys(attributes).forEach(type => {\n        var _attributes$attr, _attributes$attr2;\n        const attr = type;\n        // @ts-ignore\n        layer[attr]((_attributes$attr = attributes[attr]) === null || _attributes$attr === void 0 ? void 0 : _attributes$attr.field, (_attributes$attr2 = attributes[attr]) === null || _attributes$attr2 === void 0 ? void 0 : _attributes$attr2.values);\n      });\n      yield _this.addLayer(layer);\n      _this.isLoaded = true;\n    })();\n  }\n  getSourceOption() {\n    const rawSource = this.parent.getSource();\n    const _this$sourceTile$data = this.sourceTile.data.data,\n      {\n        rasterData\n      } = _this$sourceTile$data,\n      res = _objectWithoutProperties(_this$sourceTile$data, _excluded);\n    return {\n      data: rasterData,\n      // 栅格数\n      options: {\n        parser: _objectSpread({\n          type: 'rasterRgb',\n          extent: this.sourceTile.bounds\n        }, res),\n        transforms: rawSource.transforms\n      }\n    };\n  }\n}","map":{"version":3,"names":["_objectWithoutProperties","_objectSpread","_asyncToGenerator","_excluded","RasterLayer","Tile","RasterTile","initTileLayer","_this","attributes","parent","getLayerAttributeConfig","layerOptions","getLayerOptions","sourceOptions","getSourceOption","layer","source","data","options","Object","keys","forEach","type","_attributes$attr","_attributes$attr2","attr","field","values","addLayer","isLoaded","rawSource","getSource","_this$sourceTile$data","sourceTile","rasterData","res","parser","extent","bounds","transforms"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-layers/es/tile/tile/RasterRGBTile.js"],"sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nconst _excluded = [\"rasterData\"];\nimport RasterLayer from \"../../raster\";\nimport Tile from \"./Tile\";\nexport default class RasterTile extends Tile {\n  initTileLayer() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const attributes = _this.parent.getLayerAttributeConfig();\n      const layerOptions = _this.getLayerOptions();\n      const sourceOptions = _this.getSourceOption();\n      const layer = new RasterLayer(_objectSpread({}, layerOptions)).source(sourceOptions.data, sourceOptions.options);\n\n      // 初始化数据映射\n      // tslint:disable-next-line: no-unused-expression\n      attributes && Object.keys(attributes).forEach(type => {\n        var _attributes$attr, _attributes$attr2;\n        const attr = type;\n        // @ts-ignore\n        layer[attr]((_attributes$attr = attributes[attr]) === null || _attributes$attr === void 0 ? void 0 : _attributes$attr.field, (_attributes$attr2 = attributes[attr]) === null || _attributes$attr2 === void 0 ? void 0 : _attributes$attr2.values);\n      });\n      yield _this.addLayer(layer);\n      _this.isLoaded = true;\n    })();\n  }\n  getSourceOption() {\n    const rawSource = this.parent.getSource();\n    const _this$sourceTile$data = this.sourceTile.data.data,\n      {\n        rasterData\n      } = _this$sourceTile$data,\n      res = _objectWithoutProperties(_this$sourceTile$data, _excluded);\n    return {\n      data: rasterData,\n      // 栅格数\n      options: {\n        parser: _objectSpread({\n          type: 'rasterRgb',\n          extent: this.sourceTile.bounds\n        }, res),\n        transforms: rawSource.transforms\n      }\n    };\n  }\n}"],"mappings":"AAAA,OAAOA,wBAAwB,MAAM,oDAAoD;AACzF,OAAOC,aAAa,MAAM,0CAA0C;AACpE,OAAOC,iBAAiB,MAAM,6CAA6C;AAC3E,MAAMC,SAAS,GAAG,CAAC,YAAY,CAAC;AAChC,OAAOC,WAAW,MAAM,cAAc;AACtC,OAAOC,IAAI,MAAM,QAAQ;AACzB,eAAe,MAAMC,UAAU,SAASD,IAAI,CAAC;EAC3CE,aAAaA,CAAA,EAAG;IACd,IAAIC,KAAK,GAAG,IAAI;IAChB,OAAON,iBAAiB,CAAC,aAAa;MACpC,MAAMO,UAAU,GAAGD,KAAK,CAACE,MAAM,CAACC,uBAAuB,CAAC,CAAC;MACzD,MAAMC,YAAY,GAAGJ,KAAK,CAACK,eAAe,CAAC,CAAC;MAC5C,MAAMC,aAAa,GAAGN,KAAK,CAACO,eAAe,CAAC,CAAC;MAC7C,MAAMC,KAAK,GAAG,IAAIZ,WAAW,CAACH,aAAa,CAAC,CAAC,CAAC,EAAEW,YAAY,CAAC,CAAC,CAACK,MAAM,CAACH,aAAa,CAACI,IAAI,EAAEJ,aAAa,CAACK,OAAO,CAAC;;MAEhH;MACA;MACAV,UAAU,IAAIW,MAAM,CAACC,IAAI,CAACZ,UAAU,CAAC,CAACa,OAAO,CAACC,IAAI,IAAI;QACpD,IAAIC,gBAAgB,EAAEC,iBAAiB;QACvC,MAAMC,IAAI,GAAGH,IAAI;QACjB;QACAP,KAAK,CAACU,IAAI,CAAC,CAAC,CAACF,gBAAgB,GAAGf,UAAU,CAACiB,IAAI,CAAC,MAAM,IAAI,IAAIF,gBAAgB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAACG,KAAK,EAAE,CAACF,iBAAiB,GAAGhB,UAAU,CAACiB,IAAI,CAAC,MAAM,IAAI,IAAID,iBAAiB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,iBAAiB,CAACG,MAAM,CAAC;MACnP,CAAC,CAAC;MACF,MAAMpB,KAAK,CAACqB,QAAQ,CAACb,KAAK,CAAC;MAC3BR,KAAK,CAACsB,QAAQ,GAAG,IAAI;IACvB,CAAC,CAAC,CAAC,CAAC;EACN;EACAf,eAAeA,CAAA,EAAG;IAChB,MAAMgB,SAAS,GAAG,IAAI,CAACrB,MAAM,CAACsB,SAAS,CAAC,CAAC;IACzC,MAAMC,qBAAqB,GAAG,IAAI,CAACC,UAAU,CAAChB,IAAI,CAACA,IAAI;MACrD;QACEiB;MACF,CAAC,GAAGF,qBAAqB;MACzBG,GAAG,GAAGpC,wBAAwB,CAACiC,qBAAqB,EAAE9B,SAAS,CAAC;IAClE,OAAO;MACLe,IAAI,EAAEiB,UAAU;MAChB;MACAhB,OAAO,EAAE;QACPkB,MAAM,EAAEpC,aAAa,CAAC;UACpBsB,IAAI,EAAE,WAAW;UACjBe,MAAM,EAAE,IAAI,CAACJ,UAAU,CAACK;QAC1B,CAAC,EAAEH,GAAG,CAAC;QACPI,UAAU,EAAET,SAAS,CAACS;MACxB;IACF,CAAC;EACH;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}