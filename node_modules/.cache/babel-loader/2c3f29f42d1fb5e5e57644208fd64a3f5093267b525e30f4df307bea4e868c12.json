{"ast":null,"code":"const barycenter = (g, movable) => {\n  return movable.map(v => {\n    const inV = g.inEdges(v);\n    if (!(inV === null || inV === void 0 ? void 0 : inV.length)) {\n      return {\n        v\n      };\n    }\n    {\n      const result = {\n        sum: 0,\n        weight: 0\n      };\n      inV === null || inV === void 0 ? void 0 : inV.forEach(e => {\n        const edge = g.edge(e);\n        const nodeU = g.node(e.v);\n        result.sum += edge.weight * nodeU.order;\n        result.weight += edge.weight;\n      });\n      return {\n        v,\n        barycenter: result.sum / result.weight,\n        weight: result.weight\n      };\n    }\n  });\n};\nexport default barycenter;","map":{"version":3,"names":["barycenter","g","movable","map","v","inV","inEdges","length","result","sum","weight","forEach","e","edge","nodeU","node","order"],"sources":["../../../../../src/layout/dagre/src/order/barycenter.ts"],"sourcesContent":[null],"mappings":"AAIA,MAAMA,UAAU,GAAGA,CAACC,CAAQ,EAAEC,OAAiB,KAAI;EACjD,OAAOA,OAAO,CAACC,GAAG,CAAEC,CAAC,IAAI;IACvB,MAAMC,GAAG,GAAGJ,CAAC,CAACK,OAAO,CAACF,CAAC,CAAC;IACxB,IAAI,EAACC,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEE,MAAM,GAAE;MAChB,OAAO;QAAEH;MAAC,CAAE;;IACX;MACD,MAAMI,MAAM,GAAG;QAAEC,GAAG,EAAE,CAAC;QAAEC,MAAM,EAAE;MAAC,CAAE;MACpCL,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEM,OAAO,CAAEC,CAAC,IAAI;QACjB,MAAMC,IAAI,GAAGZ,CAAC,CAACY,IAAI,CAACD,CAAC,CAAC;QACtB,MAAME,KAAK,GAAGb,CAAC,CAACc,IAAI,CAACH,CAAC,CAACR,CAAC,CAAC;QACzBI,MAAM,CAACC,GAAG,IAAKI,IAAI,CAACH,MAAM,GAAII,KAAK,CAACE,KAAiB;QACrDR,MAAM,CAACE,MAAM,IAAIG,IAAI,CAACH,MAAM;MAC9B,CAAC,CAAC;MACF,OAAO;QACLN,CAAC;QACDJ,UAAU,EAAEQ,MAAM,CAACC,GAAG,GAAGD,MAAM,CAACE,MAAM;QACtCA,MAAM,EAAEF,MAAM,CAACE;OAChB;;EAEL,CAAC,CAAC;AACJ,CAAC;AAED,eAAeV,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}