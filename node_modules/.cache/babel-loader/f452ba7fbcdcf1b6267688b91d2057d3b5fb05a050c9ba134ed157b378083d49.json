{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nconst _excluded = [\"id\", \"mapInstance\", \"center\", \"token\", \"minZoom\", \"maxZoom\", \"logoVisible\"];\nimport { MapServiceEvent } from '@antv/l7-core';\nimport { MercatorCoordinate } from '@antv/l7-map';\nimport { DOM } from '@antv/l7-utils';\nimport { mat4, vec3 } from 'gl-matrix';\nimport Viewport from \"../lib/web-mercator-viewport\";\nimport BaseMapService from \"../utils/BaseMapService\";\nfunction loadStyles(css, doc) {\n  var isMiniAli = typeof my !== 'undefined' && !!my && typeof my.showToast === 'function' && my.isFRM !== true;\n  var isWeChatMiniProgram = typeof wx !== 'undefined' && wx !== null && (typeof wx.request !== 'undefined' || typeof wx.miniProgram !== 'undefined');\n  if (isMiniAli || isWeChatMiniProgram) {\n    return;\n  }\n  if (!doc) doc = document;\n  if (!doc) {\n    return;\n  }\n  var head = doc.head || doc.getElementsByTagName('head')[0];\n  if (!head) {\n    head = doc.createElement('head');\n    var body = doc.body || doc.getElementsByTagName('body')[0];\n    if (body) {\n      body.parentNode.insertBefore(head, body);\n    } else {\n      doc.documentElement.appendChild(head);\n    }\n  }\n  var style = doc.createElement('style');\n  style.type = 'text/css';\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(doc.createTextNode(css));\n  }\n  head.appendChild(style);\n  return style;\n}\nloadStyles(`img[src*='//mapapi.qq.com/web/jsapi/logo/logo_def.png'],.logo-text\n{\n  display: none !important;\n}\n`);\nimport GMapLoader from \"./maploader\";\nconst GMAP_API_KEY = 'AIzaSyDBDCfl4pvuDtaazdCog3LmhA7CQLhmcRE';\nconst EventMap = {\n  mapmove: 'center_changed',\n  camerachange: ['drag', 'pan', 'rotate', 'tilt', 'zoom_changed'],\n  zoomchange: 'zoom_changed',\n  dragging: 'drag'\n};\n\n// TODO: 基于抽象类 BaseMap 实现，补全缺失方法，解决类型问题\nexport default class TMapService extends BaseMapService {\n  constructor(...args) {\n    super(...args);\n    // @ts-ignore\n    _defineProperty(this, \"viewport\", null);\n    _defineProperty(this, \"evtCbProxyMap\", new Map());\n    _defineProperty(this, \"handleCameraChanged\", () => {\n      this.emit('mapchange');\n      const map = this.map;\n      const {\n        lng,\n        lat\n      } = map.getCenter();\n      const option = {\n        center: [lng(), lat()],\n        viewportHeight: map.getDiv().clientHeight,\n        viewportWidth: map.getDiv().clientWidth,\n        bearing: map.getHeading(),\n        pitch: map.getTilt(),\n        zoom: map.getZoom() - 1\n      };\n      this.viewport.syncWithMapCamera(option);\n      this.updateCoordinateSystemService();\n      this.cameraChangedCallback(this.viewport);\n    });\n  }\n  init() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      var _window$google;\n      _this.viewport = new Viewport();\n      const _this$config = _this.config,\n        {\n          id,\n          mapInstance,\n          center = [121.30654632240122, 31.25744185633306],\n          token = GMAP_API_KEY,\n          minZoom = 3,\n          maxZoom = 18,\n          logoVisible = true\n        } = _this$config,\n        rest = _objectWithoutProperties(_this$config, _excluded);\n      if (!((_window$google = window.google) !== null && _window$google !== void 0 && (_window$google = _window$google.maps) !== null && _window$google !== void 0 && _window$google.Map || mapInstance)) {\n        yield GMapLoader.load({\n          key: token\n        });\n      }\n      if (mapInstance) {\n        // If there's already a map instance, maybe not setting any other configurations\n        _this.map = mapInstance;\n        _this.$mapContainer = _this.map.getDiv();\n        if (logoVisible === false) {\n          _this.hideLogo();\n        }\n      } else {\n        if (!id) {\n          throw Error('No container id specified');\n        }\n        const mapContainer = DOM.getContainer(id);\n        const map = new google.maps.Map(mapContainer, _objectSpread({\n          maxZoom,\n          minZoom,\n          zoomControl: false,\n          fullscreenControl: false,\n          center: new google.maps.LatLng(center[1], center[0])\n        }, rest));\n        _this.map = map;\n        _this.$mapContainer = map.getDiv();\n        if (logoVisible === false) {\n          _this.hideLogo();\n        }\n      }\n\n      // TODO: 拖动快的时候，事件失效\n      google.maps.event.addListener(_this.map, 'drag', _this.handleCameraChanged);\n      google.maps.event.addListener(_this.map, 'pan', _this.handleCameraChanged);\n      google.maps.event.addListener(_this.map, 'rotate', _this.handleCameraChanged);\n\n      // 空闲时间\n      google.maps.event.addListener(_this.map, 'idle', _this.handleCameraChanged);\n      google.maps.event.addListener(_this.map, 'zoom_changed', _this.handleCameraChanged);\n      _this.handleCameraChanged();\n    })();\n  }\n  destroy() {\n    this.map.setMap(null);\n  }\n  onCameraChanged(callback) {\n    this.cameraChangedCallback = callback;\n  }\n  addMarkerContainer() {\n    // const container = this.map.getDiv();\n    // this.markerContainer = DOM.create('div', 'l7-marker-container', container);\n    // this.markerContainer.setAttribute('tabindex', '-1');\n    // this.markerContainer.style.zIndex = '2';\n  }\n  getMarkerContainer() {\n    return this.markerContainer;\n  }\n  getCanvasOverlays() {\n    // TODO: 由于 Google Map 的 loaded 提前触发，导致 Google Map 的 DOM 结构无法获取\n    return this.map.getDiv();\n  }\n\n  // MapEvent\n  on(type, handle) {\n    if (MapServiceEvent.indexOf(type) !== -1) {\n      this.eventEmitter.on(type, handle);\n    } else {\n      const onProxy = eventName => {\n        let cbProxyMap = this.evtCbProxyMap.get(eventName);\n        if (!cbProxyMap) {\n          this.evtCbProxyMap.set(eventName, cbProxyMap = new Map());\n        }\n        if (cbProxyMap.get(handle)) {\n          return;\n        }\n        const handleProxy = (...args) => {\n          if (args[0] && typeof args[0] === 'object' && !args[0].lngLat && !args[0].lnglat) {\n            args[0].lngLat = args[0].latlng || args[0].latLng;\n          }\n          handle(...args);\n        };\n        cbProxyMap.set(handle, handleProxy);\n        this.map.on(eventName, handleProxy);\n      };\n      if (Array.isArray(EventMap[type])) {\n        EventMap[type].forEach(eventName => {\n          onProxy(eventName || type);\n        });\n      } else {\n        onProxy(EventMap[type] || type);\n      }\n    }\n  }\n  off(type, handle) {\n    if (MapServiceEvent.indexOf(type) !== -1) {\n      this.eventEmitter.off(type, handle);\n      return;\n    }\n    const offProxy = eventName => {\n      var _this$evtCbProxyMap$g, _this$evtCbProxyMap$g2;\n      const handleProxy = (_this$evtCbProxyMap$g = this.evtCbProxyMap.get(type)) === null || _this$evtCbProxyMap$g === void 0 ? void 0 : _this$evtCbProxyMap$g.get(handle);\n      if (!handleProxy) {\n        return;\n      }\n      (_this$evtCbProxyMap$g2 = this.evtCbProxyMap.get(eventName)) === null || _this$evtCbProxyMap$g2 === void 0 || _this$evtCbProxyMap$g2.delete(handle);\n      this.map.off(eventName, handleProxy);\n    };\n    if (Array.isArray(EventMap[type])) {\n      EventMap[type].forEach(eventName => {\n        offProxy(eventName || type);\n      });\n    } else {\n      offProxy(EventMap[type] || type);\n    }\n  }\n  once() {\n    throw new Error('Method not implemented.');\n  }\n\n  // get dom\n  getContainer() {\n    return this.map.getDiv();\n  }\n  getSize() {\n    return [this.map.width, this.map.height];\n  }\n\n  // get map status method\n  getMinZoom() {\n    return this.map.transform._minZoom;\n  }\n  getMaxZoom() {\n    return this.map.transform._maxZoom;\n  }\n\n  // get map params\n  getType() {\n    return 'googlemap';\n  }\n  getZoom() {\n    return this.map.getZoom();\n  }\n  getCenter() {\n    const {\n      lng,\n      lat\n    } = this.map.getCenter();\n    return {\n      lng: lng(),\n      lat: lat()\n    };\n  }\n  getPitch() {\n    return this.map.getTilt();\n  }\n  getRotation() {\n    const rotation = this.map.getHeading();\n    return rotation;\n  }\n  getBounds() {\n    // TODO\n    // 官网解释：如果地图尚未初始化，或者尚未设置中心位置且未设置缩放，则结果为 undefine\n    const bounds = this.map.getBounds();\n    const ne = bounds === null || bounds === void 0 ? void 0 : bounds.getNorthEast();\n    const sw = bounds === null || bounds === void 0 ? void 0 : bounds.getSouthWest();\n    return [[sw.lng(), sw.lat()], [ne.lng(), ne.lat()]];\n  }\n  getMapContainer() {\n    return this.map.getDiv();\n  }\n  getMapCanvasContainer() {\n    var _this$map$getDiv;\n    return (_this$map$getDiv = this.map.getDiv()) === null || _this$map$getDiv === void 0 ? void 0 : _this$map$getDiv.getElementsByTagName('canvas')[0];\n  }\n  getMapStyleConfig() {\n    throw new Error('Method not implemented.');\n  }\n  setBgColor(color) {\n    this.bgColor = color;\n  }\n  setMapStyle(styleId) {\n    this.map.setMapStyleId(styleId);\n  }\n\n  // control with raw map\n  setRotation(rotation) {\n    this.map.setHeading(rotation);\n  }\n  zoomIn() {\n    const currentZoom = this.map.getZoom();\n    this.map.setZoom(currentZoom + 1);\n  }\n  zoomOut() {\n    const currentZoom = this.map.getZoom();\n    this.map.setZoom(currentZoom - 1);\n  }\n  panTo([lng, lat]) {\n    this.map.panTo({\n      lat,\n      lng\n    });\n  }\n  panBy(x, y) {\n    this.map.panBy(x, y);\n  }\n  fitBounds(bound, fitBoundsOptions) {\n    const [sw, ne] = bound;\n    const bounds = new google.maps.LatLngBounds({\n      lat: sw[1],\n      lng: sw[0]\n    }, {\n      lat: ne[1],\n      lng: ne[0]\n    });\n    this.map.fitBounds(bounds, fitBoundsOptions);\n  }\n  setZoomAndCenter(zoom, [lng, lat]) {\n    this.map.setZoom(zoom);\n    this.map.setCenter({\n      lat: lat,\n      lng: lng\n    });\n  }\n  setCenter([lng, lat]) {\n    this.map.setCenter({\n      lat: lat,\n      lng: lng\n    });\n  }\n  setPitch(pitch) {\n    this.map.setTilt(pitch);\n  }\n  setZoom(zoom) {\n    this.map.setZoom(zoom);\n  }\n  setMapStatus(option) {\n    Object.keys(option).map(status => {\n      switch (status) {\n        case 'doubleClickZoom':\n          this.map.setOptions({\n            gestureHandling: option.doubleClickZoom ? 'auto' : 'none'\n          });\n          break;\n        case 'dragEnable':\n          this.map.setOptions({\n            draggable: option.dragEnable\n          });\n          break;\n        case 'rotateEnable':\n          // Google Map 默认支持旋转，无需额外设置\n          break;\n        case 'zoomEnable':\n          this.map.setOptions({\n            zoomControl: option.zoomEnable\n          });\n          break;\n        case 'keyboardEnable':\n        case 'resizeEnable':\n        case 'showIndoorMap':\n          throw Error('Options may not be supported');\n        default:\n      }\n    });\n  }\n\n  // coordinates methods\n  meterToCoord([centerLon, centerLat], [outerLon, outerLat]) {\n    // @ts-ignore\n    // https://developers.google.com/maps/documentation/javascript/reference/geometry?hl=zh-cn#spherical.computeDistanceBetween\n    const metreDistance = google.maps.geometry.spherical.computeDistanceBetween([new google.maps.LatLng(centerLat, centerLon), new google.maps.LatLng(outerLat, outerLon)]);\n    const [x1, y1] = this.lngLatToCoord([centerLon, centerLat]);\n    const [x2, y2] = this.lngLatToCoord([outerLon, outerLat]);\n    const coordDistance = Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n    return coordDistance / metreDistance;\n  }\n  pixelToLngLat([x, y]) {\n    const {\n      lng: clng,\n      lat: clat\n    } = this.map.getCenter();\n    const {\n      x: centerPixelX,\n      y: centerPixelY\n    } = this.lngLatToPixel([clng(), clat()]);\n    const {\n      x: centerContainerX,\n      y: centerContainerY\n    } = this.lngLatToContainer([clng(), clat()]);\n    const {\n      lng,\n      lat\n    } = this.map.unprojectFromContainer(new google.maps.Point(centerContainerX + (x - centerPixelX), centerContainerY + (y - centerPixelY)));\n    return this.containerToLngLat([lng, lat]);\n  }\n  lngLatToPixel([lng, lat]) {\n    const latLng = new google.maps.LatLng(lat, lng);\n    const point = this.map.getProjection().fromLatLngToPoint(latLng);\n    return {\n      x: point.x,\n      y: point.y\n    };\n  }\n  containerToLngLat([x, y]) {\n    var _this$map$getProjecti;\n    const pixelCoordinate = new google.maps.Point(x, y);\n    const lngLat = (_this$map$getProjecti = this.map.getProjection()) === null || _this$map$getProjecti === void 0 ? void 0 : _this$map$getProjecti.fromPointToLatLng(pixelCoordinate);\n    return {\n      lng: lngLat.lng(),\n      lat: lngLat.lat()\n    };\n  }\n  lngLatToContainer([lng, lat]) {\n    var _this$map$getProjecti2, _this$map$getProjecti3;\n    const latLng = new google.maps.LatLng(lat, lng);\n    const pixel = (_this$map$getProjecti2 = this.map.getProjection()) === null || _this$map$getProjecti2 === void 0 || (_this$map$getProjecti3 = _this$map$getProjecti2.fromLatLngToContainerPixel) === null || _this$map$getProjecti3 === void 0 ? void 0 : _this$map$getProjecti3.call(_this$map$getProjecti2, latLng);\n    return {\n      x: pixel.x,\n      y: pixel.y\n    };\n  }\n  lngLatToCoord([lng, lat]) {\n    // TODO: Perhaps need to check the three.js coordinates\n    const {\n      x,\n      y\n    } = this.lngLatToPixel([lng, lat]);\n    return [x, -y];\n  }\n  lngLatToCoords(list) {\n    return list.map(item => Array.isArray(item[0]) ? this.lngLatToCoords(item) : this.lngLatToCoord(item));\n  }\n  lngLatToMercator(lnglat, altitude) {\n    // Use built in mercator tools due to Tencent not provided related methods\n    const {\n      x = 0,\n      y = 0,\n      z = 0\n    } = MercatorCoordinate.fromLngLat(lnglat, altitude);\n    return {\n      x,\n      y,\n      z\n    };\n  }\n  getModelMatrix(lnglat, altitude, rotate, scale = [1, 1, 1]) {\n    const flat = this.viewport.projectFlat(lnglat);\n    const modelMatrix = mat4.create();\n    mat4.translate(modelMatrix, modelMatrix, vec3.fromValues(flat[0], flat[1], altitude));\n    mat4.scale(modelMatrix, modelMatrix, vec3.fromValues(scale[0], scale[1], scale[2]));\n    mat4.rotateX(modelMatrix, modelMatrix, rotate[0]);\n    mat4.rotateY(modelMatrix, modelMatrix, rotate[1]);\n    mat4.rotateZ(modelMatrix, modelMatrix, rotate[2]);\n    return modelMatrix;\n  }\n  getCustomCoordCenter() {\n    throw new Error('Method not implemented.');\n  }\n  exportMap(type) {\n    const renderCanvas = this.getMapCanvasContainer();\n    const layersPng = type === 'jpg' ? renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/jpeg') : renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/png');\n    return layersPng;\n  }\n\n  // Method on earth mode\n  rotateY() {\n    throw new Error('Method not implemented.');\n  }\n  hideLogo() {\n    const container = this.map.getDiv();\n    if (!container) {\n      return;\n    }\n    DOM.addClass(container, 'tmap-contianer--hide-logo');\n  }\n}","map":{"version":3,"names":["_objectSpread","_objectWithoutProperties","_asyncToGenerator","_defineProperty","_excluded","MapServiceEvent","MercatorCoordinate","DOM","mat4","vec3","Viewport","BaseMapService","loadStyles","css","doc","isMiniAli","my","showToast","isFRM","isWeChatMiniProgram","wx","request","miniProgram","document","head","getElementsByTagName","createElement","body","parentNode","insertBefore","documentElement","appendChild","style","type","styleSheet","cssText","createTextNode","GMapLoader","GMAP_API_KEY","EventMap","mapmove","camerachange","zoomchange","dragging","TMapService","constructor","args","Map","emit","map","lng","lat","getCenter","option","center","viewportHeight","getDiv","clientHeight","viewportWidth","clientWidth","bearing","getHeading","pitch","getTilt","zoom","getZoom","viewport","syncWithMapCamera","updateCoordinateSystemService","cameraChangedCallback","init","_this","_window$google","_this$config","config","id","mapInstance","token","minZoom","maxZoom","logoVisible","rest","window","google","maps","load","key","$mapContainer","hideLogo","Error","mapContainer","getContainer","zoomControl","fullscreenControl","LatLng","event","addListener","handleCameraChanged","destroy","setMap","onCameraChanged","callback","addMarkerContainer","getMarkerContainer","markerContainer","getCanvasOverlays","on","handle","indexOf","eventEmitter","onProxy","eventName","cbProxyMap","evtCbProxyMap","get","set","handleProxy","lngLat","lnglat","latlng","latLng","Array","isArray","forEach","off","offProxy","_this$evtCbProxyMap$g","_this$evtCbProxyMap$g2","delete","once","getSize","width","height","getMinZoom","transform","_minZoom","getMaxZoom","_maxZoom","getType","getPitch","getRotation","rotation","getBounds","bounds","ne","getNorthEast","sw","getSouthWest","getMapContainer","getMapCanvasContainer","_this$map$getDiv","getMapStyleConfig","setBgColor","color","bgColor","setMapStyle","styleId","setMapStyleId","setRotation","setHeading","zoomIn","currentZoom","setZoom","zoomOut","panTo","panBy","x","y","fitBounds","bound","fitBoundsOptions","LatLngBounds","setZoomAndCenter","setCenter","setPitch","setTilt","setMapStatus","Object","keys","status","setOptions","gestureHandling","doubleClickZoom","draggable","dragEnable","zoomEnable","meterToCoord","centerLon","centerLat","outerLon","outerLat","metreDistance","geometry","spherical","computeDistanceBetween","x1","y1","lngLatToCoord","x2","y2","coordDistance","Math","sqrt","pow","pixelToLngLat","clng","clat","centerPixelX","centerPixelY","lngLatToPixel","centerContainerX","centerContainerY","lngLatToContainer","unprojectFromContainer","Point","containerToLngLat","point","getProjection","fromLatLngToPoint","_this$map$getProjecti","pixelCoordinate","fromPointToLatLng","_this$map$getProjecti2","_this$map$getProjecti3","pixel","fromLatLngToContainerPixel","call","lngLatToCoords","list","item","lngLatToMercator","altitude","z","fromLngLat","getModelMatrix","rotate","scale","flat","projectFlat","modelMatrix","create","translate","fromValues","rotateX","rotateY","rotateZ","getCustomCoordCenter","exportMap","renderCanvas","layersPng","toDataURL","container","addClass"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-maps/es/gmap/map.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nconst _excluded = [\"id\", \"mapInstance\", \"center\", \"token\", \"minZoom\", \"maxZoom\", \"logoVisible\"];\nimport { MapServiceEvent } from '@antv/l7-core';\nimport { MercatorCoordinate } from '@antv/l7-map';\nimport { DOM } from '@antv/l7-utils';\nimport { mat4, vec3 } from 'gl-matrix';\nimport Viewport from \"../lib/web-mercator-viewport\";\nimport BaseMapService from \"../utils/BaseMapService\";\nfunction loadStyles(css, doc) {\n  var isMiniAli = typeof my !== 'undefined' && !!my && typeof my.showToast === 'function' && my.isFRM !== true;\n  var isWeChatMiniProgram = typeof wx !== 'undefined' && wx !== null && (typeof wx.request !== 'undefined' || typeof wx.miniProgram !== 'undefined');\n  if (isMiniAli || isWeChatMiniProgram) {\n    return;\n  }\n  if (!doc) doc = document;\n  if (!doc) {\n    return;\n  }\n  var head = doc.head || doc.getElementsByTagName('head')[0];\n  if (!head) {\n    head = doc.createElement('head');\n    var body = doc.body || doc.getElementsByTagName('body')[0];\n    if (body) {\n      body.parentNode.insertBefore(head, body);\n    } else {\n      doc.documentElement.appendChild(head);\n    }\n  }\n  var style = doc.createElement('style');\n  style.type = 'text/css';\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(doc.createTextNode(css));\n  }\n  head.appendChild(style);\n  return style;\n}\nloadStyles(`img[src*='//mapapi.qq.com/web/jsapi/logo/logo_def.png'],.logo-text\n{\n  display: none !important;\n}\n`);\nimport GMapLoader from \"./maploader\";\nconst GMAP_API_KEY = 'AIzaSyDBDCfl4pvuDtaazdCog3LmhA7CQLhmcRE';\nconst EventMap = {\n  mapmove: 'center_changed',\n  camerachange: ['drag', 'pan', 'rotate', 'tilt', 'zoom_changed'],\n  zoomchange: 'zoom_changed',\n  dragging: 'drag'\n};\n\n// TODO: 基于抽象类 BaseMap 实现，补全缺失方法，解决类型问题\nexport default class TMapService extends BaseMapService {\n  constructor(...args) {\n    super(...args);\n    // @ts-ignore\n    _defineProperty(this, \"viewport\", null);\n    _defineProperty(this, \"evtCbProxyMap\", new Map());\n    _defineProperty(this, \"handleCameraChanged\", () => {\n      this.emit('mapchange');\n      const map = this.map;\n      const {\n        lng,\n        lat\n      } = map.getCenter();\n      const option = {\n        center: [lng(), lat()],\n        viewportHeight: map.getDiv().clientHeight,\n        viewportWidth: map.getDiv().clientWidth,\n        bearing: map.getHeading(),\n        pitch: map.getTilt(),\n        zoom: map.getZoom() - 1\n      };\n      this.viewport.syncWithMapCamera(option);\n      this.updateCoordinateSystemService();\n      this.cameraChangedCallback(this.viewport);\n    });\n  }\n  init() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      var _window$google;\n      _this.viewport = new Viewport();\n      const _this$config = _this.config,\n        {\n          id,\n          mapInstance,\n          center = [121.30654632240122, 31.25744185633306],\n          token = GMAP_API_KEY,\n          minZoom = 3,\n          maxZoom = 18,\n          logoVisible = true\n        } = _this$config,\n        rest = _objectWithoutProperties(_this$config, _excluded);\n      if (!((_window$google = window.google) !== null && _window$google !== void 0 && (_window$google = _window$google.maps) !== null && _window$google !== void 0 && _window$google.Map || mapInstance)) {\n        yield GMapLoader.load({\n          key: token\n        });\n      }\n      if (mapInstance) {\n        // If there's already a map instance, maybe not setting any other configurations\n        _this.map = mapInstance;\n        _this.$mapContainer = _this.map.getDiv();\n        if (logoVisible === false) {\n          _this.hideLogo();\n        }\n      } else {\n        if (!id) {\n          throw Error('No container id specified');\n        }\n        const mapContainer = DOM.getContainer(id);\n        const map = new google.maps.Map(mapContainer, _objectSpread({\n          maxZoom,\n          minZoom,\n          zoomControl: false,\n          fullscreenControl: false,\n          center: new google.maps.LatLng(center[1], center[0])\n        }, rest));\n        _this.map = map;\n        _this.$mapContainer = map.getDiv();\n        if (logoVisible === false) {\n          _this.hideLogo();\n        }\n      }\n\n      // TODO: 拖动快的时候，事件失效\n      google.maps.event.addListener(_this.map, 'drag', _this.handleCameraChanged);\n      google.maps.event.addListener(_this.map, 'pan', _this.handleCameraChanged);\n      google.maps.event.addListener(_this.map, 'rotate', _this.handleCameraChanged);\n\n      // 空闲时间\n      google.maps.event.addListener(_this.map, 'idle', _this.handleCameraChanged);\n      google.maps.event.addListener(_this.map, 'zoom_changed', _this.handleCameraChanged);\n      _this.handleCameraChanged();\n    })();\n  }\n  destroy() {\n    this.map.setMap(null);\n  }\n  onCameraChanged(callback) {\n    this.cameraChangedCallback = callback;\n  }\n  addMarkerContainer() {\n    // const container = this.map.getDiv();\n    // this.markerContainer = DOM.create('div', 'l7-marker-container', container);\n    // this.markerContainer.setAttribute('tabindex', '-1');\n    // this.markerContainer.style.zIndex = '2';\n  }\n  getMarkerContainer() {\n    return this.markerContainer;\n  }\n  getCanvasOverlays() {\n    // TODO: 由于 Google Map 的 loaded 提前触发，导致 Google Map 的 DOM 结构无法获取\n    return this.map.getDiv();\n  }\n\n  // MapEvent\n  on(type, handle) {\n    if (MapServiceEvent.indexOf(type) !== -1) {\n      this.eventEmitter.on(type, handle);\n    } else {\n      const onProxy = eventName => {\n        let cbProxyMap = this.evtCbProxyMap.get(eventName);\n        if (!cbProxyMap) {\n          this.evtCbProxyMap.set(eventName, cbProxyMap = new Map());\n        }\n        if (cbProxyMap.get(handle)) {\n          return;\n        }\n        const handleProxy = (...args) => {\n          if (args[0] && typeof args[0] === 'object' && !args[0].lngLat && !args[0].lnglat) {\n            args[0].lngLat = args[0].latlng || args[0].latLng;\n          }\n          handle(...args);\n        };\n        cbProxyMap.set(handle, handleProxy);\n        this.map.on(eventName, handleProxy);\n      };\n      if (Array.isArray(EventMap[type])) {\n        EventMap[type].forEach(eventName => {\n          onProxy(eventName || type);\n        });\n      } else {\n        onProxy(EventMap[type] || type);\n      }\n    }\n  }\n  off(type, handle) {\n    if (MapServiceEvent.indexOf(type) !== -1) {\n      this.eventEmitter.off(type, handle);\n      return;\n    }\n    const offProxy = eventName => {\n      var _this$evtCbProxyMap$g, _this$evtCbProxyMap$g2;\n      const handleProxy = (_this$evtCbProxyMap$g = this.evtCbProxyMap.get(type)) === null || _this$evtCbProxyMap$g === void 0 ? void 0 : _this$evtCbProxyMap$g.get(handle);\n      if (!handleProxy) {\n        return;\n      }\n      (_this$evtCbProxyMap$g2 = this.evtCbProxyMap.get(eventName)) === null || _this$evtCbProxyMap$g2 === void 0 || _this$evtCbProxyMap$g2.delete(handle);\n      this.map.off(eventName, handleProxy);\n    };\n    if (Array.isArray(EventMap[type])) {\n      EventMap[type].forEach(eventName => {\n        offProxy(eventName || type);\n      });\n    } else {\n      offProxy(EventMap[type] || type);\n    }\n  }\n  once() {\n    throw new Error('Method not implemented.');\n  }\n\n  // get dom\n  getContainer() {\n    return this.map.getDiv();\n  }\n  getSize() {\n    return [this.map.width, this.map.height];\n  }\n\n  // get map status method\n  getMinZoom() {\n    return this.map.transform._minZoom;\n  }\n  getMaxZoom() {\n    return this.map.transform._maxZoom;\n  }\n\n  // get map params\n  getType() {\n    return 'googlemap';\n  }\n  getZoom() {\n    return this.map.getZoom();\n  }\n  getCenter() {\n    const {\n      lng,\n      lat\n    } = this.map.getCenter();\n    return {\n      lng: lng(),\n      lat: lat()\n    };\n  }\n  getPitch() {\n    return this.map.getTilt();\n  }\n  getRotation() {\n    const rotation = this.map.getHeading();\n    return rotation;\n  }\n  getBounds() {\n    // TODO\n    // 官网解释：如果地图尚未初始化，或者尚未设置中心位置且未设置缩放，则结果为 undefine\n    const bounds = this.map.getBounds();\n    const ne = bounds === null || bounds === void 0 ? void 0 : bounds.getNorthEast();\n    const sw = bounds === null || bounds === void 0 ? void 0 : bounds.getSouthWest();\n    return [[sw.lng(), sw.lat()], [ne.lng(), ne.lat()]];\n  }\n  getMapContainer() {\n    return this.map.getDiv();\n  }\n  getMapCanvasContainer() {\n    var _this$map$getDiv;\n    return (_this$map$getDiv = this.map.getDiv()) === null || _this$map$getDiv === void 0 ? void 0 : _this$map$getDiv.getElementsByTagName('canvas')[0];\n  }\n  getMapStyleConfig() {\n    throw new Error('Method not implemented.');\n  }\n  setBgColor(color) {\n    this.bgColor = color;\n  }\n  setMapStyle(styleId) {\n    this.map.setMapStyleId(styleId);\n  }\n\n  // control with raw map\n  setRotation(rotation) {\n    this.map.setHeading(rotation);\n  }\n  zoomIn() {\n    const currentZoom = this.map.getZoom();\n    this.map.setZoom(currentZoom + 1);\n  }\n  zoomOut() {\n    const currentZoom = this.map.getZoom();\n    this.map.setZoom(currentZoom - 1);\n  }\n  panTo([lng, lat]) {\n    this.map.panTo({\n      lat,\n      lng\n    });\n  }\n  panBy(x, y) {\n    this.map.panBy(x, y);\n  }\n  fitBounds(bound, fitBoundsOptions) {\n    const [sw, ne] = bound;\n    const bounds = new google.maps.LatLngBounds({\n      lat: sw[1],\n      lng: sw[0]\n    }, {\n      lat: ne[1],\n      lng: ne[0]\n    });\n    this.map.fitBounds(bounds, fitBoundsOptions);\n  }\n  setZoomAndCenter(zoom, [lng, lat]) {\n    this.map.setZoom(zoom);\n    this.map.setCenter({\n      lat: lat,\n      lng: lng\n    });\n  }\n  setCenter([lng, lat]) {\n    this.map.setCenter({\n      lat: lat,\n      lng: lng\n    });\n  }\n  setPitch(pitch) {\n    this.map.setTilt(pitch);\n  }\n  setZoom(zoom) {\n    this.map.setZoom(zoom);\n  }\n  setMapStatus(option) {\n    Object.keys(option).map(status => {\n      switch (status) {\n        case 'doubleClickZoom':\n          this.map.setOptions({\n            gestureHandling: option.doubleClickZoom ? 'auto' : 'none'\n          });\n          break;\n        case 'dragEnable':\n          this.map.setOptions({\n            draggable: option.dragEnable\n          });\n          break;\n        case 'rotateEnable':\n          // Google Map 默认支持旋转，无需额外设置\n          break;\n        case 'zoomEnable':\n          this.map.setOptions({\n            zoomControl: option.zoomEnable\n          });\n          break;\n        case 'keyboardEnable':\n        case 'resizeEnable':\n        case 'showIndoorMap':\n          throw Error('Options may not be supported');\n        default:\n      }\n    });\n  }\n\n  // coordinates methods\n  meterToCoord([centerLon, centerLat], [outerLon, outerLat]) {\n    // @ts-ignore\n    // https://developers.google.com/maps/documentation/javascript/reference/geometry?hl=zh-cn#spherical.computeDistanceBetween\n    const metreDistance = google.maps.geometry.spherical.computeDistanceBetween([new google.maps.LatLng(centerLat, centerLon), new google.maps.LatLng(outerLat, outerLon)]);\n    const [x1, y1] = this.lngLatToCoord([centerLon, centerLat]);\n    const [x2, y2] = this.lngLatToCoord([outerLon, outerLat]);\n    const coordDistance = Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n    return coordDistance / metreDistance;\n  }\n  pixelToLngLat([x, y]) {\n    const {\n      lng: clng,\n      lat: clat\n    } = this.map.getCenter();\n    const {\n      x: centerPixelX,\n      y: centerPixelY\n    } = this.lngLatToPixel([clng(), clat()]);\n    const {\n      x: centerContainerX,\n      y: centerContainerY\n    } = this.lngLatToContainer([clng(), clat()]);\n    const {\n      lng,\n      lat\n    } = this.map.unprojectFromContainer(new google.maps.Point(centerContainerX + (x - centerPixelX), centerContainerY + (y - centerPixelY)));\n    return this.containerToLngLat([lng, lat]);\n  }\n  lngLatToPixel([lng, lat]) {\n    const latLng = new google.maps.LatLng(lat, lng);\n    const point = this.map.getProjection().fromLatLngToPoint(latLng);\n    return {\n      x: point.x,\n      y: point.y\n    };\n  }\n  containerToLngLat([x, y]) {\n    var _this$map$getProjecti;\n    const pixelCoordinate = new google.maps.Point(x, y);\n    const lngLat = (_this$map$getProjecti = this.map.getProjection()) === null || _this$map$getProjecti === void 0 ? void 0 : _this$map$getProjecti.fromPointToLatLng(pixelCoordinate);\n    return {\n      lng: lngLat.lng(),\n      lat: lngLat.lat()\n    };\n  }\n  lngLatToContainer([lng, lat]) {\n    var _this$map$getProjecti2, _this$map$getProjecti3;\n    const latLng = new google.maps.LatLng(lat, lng);\n    const pixel = (_this$map$getProjecti2 = this.map.getProjection()) === null || _this$map$getProjecti2 === void 0 || (_this$map$getProjecti3 = _this$map$getProjecti2.fromLatLngToContainerPixel) === null || _this$map$getProjecti3 === void 0 ? void 0 : _this$map$getProjecti3.call(_this$map$getProjecti2, latLng);\n    return {\n      x: pixel.x,\n      y: pixel.y\n    };\n  }\n  lngLatToCoord([lng, lat]) {\n    // TODO: Perhaps need to check the three.js coordinates\n    const {\n      x,\n      y\n    } = this.lngLatToPixel([lng, lat]);\n    return [x, -y];\n  }\n  lngLatToCoords(list) {\n    return list.map(item => Array.isArray(item[0]) ? this.lngLatToCoords(item) : this.lngLatToCoord(item));\n  }\n  lngLatToMercator(lnglat, altitude) {\n    // Use built in mercator tools due to Tencent not provided related methods\n    const {\n      x = 0,\n      y = 0,\n      z = 0\n    } = MercatorCoordinate.fromLngLat(lnglat, altitude);\n    return {\n      x,\n      y,\n      z\n    };\n  }\n  getModelMatrix(lnglat, altitude, rotate, scale = [1, 1, 1]) {\n    const flat = this.viewport.projectFlat(lnglat);\n    const modelMatrix = mat4.create();\n    mat4.translate(modelMatrix, modelMatrix, vec3.fromValues(flat[0], flat[1], altitude));\n    mat4.scale(modelMatrix, modelMatrix, vec3.fromValues(scale[0], scale[1], scale[2]));\n    mat4.rotateX(modelMatrix, modelMatrix, rotate[0]);\n    mat4.rotateY(modelMatrix, modelMatrix, rotate[1]);\n    mat4.rotateZ(modelMatrix, modelMatrix, rotate[2]);\n    return modelMatrix;\n  }\n  getCustomCoordCenter() {\n    throw new Error('Method not implemented.');\n  }\n  exportMap(type) {\n    const renderCanvas = this.getMapCanvasContainer();\n    const layersPng = type === 'jpg' ? renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/jpeg') : renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/png');\n    return layersPng;\n  }\n\n  // Method on earth mode\n  rotateY() {\n    throw new Error('Method not implemented.');\n  }\n  hideLogo() {\n    const container = this.map.getDiv();\n    if (!container) {\n      return;\n    }\n    DOM.addClass(container, 'tmap-contianer--hide-logo');\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}