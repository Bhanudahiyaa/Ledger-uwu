{"ast":null,"code":"import { NumberExt } from '../../util';\nimport { Point } from '../../geometry';\n// eslint-disable-next-line\nexport function resolve(fn) {\n  return function (view, magnet, ref, options) {\n    if (ref instanceof Element) {\n      const refView = this.graph.renderer.findViewByElem(ref);\n      let refPoint;\n      if (refView) {\n        if (refView.isEdgeElement(ref)) {\n          const distance = options.fixedAt != null ? options.fixedAt : '50%';\n          refPoint = getPointAtEdge(refView, distance);\n        } else {\n          refPoint = refView.getBBoxOfElement(ref).getCenter();\n        }\n      } else {\n        refPoint = new Point();\n      }\n      return fn.call(this, view, magnet, refPoint, options);\n    }\n    return fn.apply(this, arguments); // eslint-disable-line\n  };\n}\nexport function getPointAtEdge(edgeView, value) {\n  const isPercentage = NumberExt.isPercentage(value);\n  const num = typeof value === 'string' ? parseFloat(value) : value;\n  if (isPercentage) {\n    return edgeView.getPointAtRatio(num / 100);\n  }\n  return edgeView.getPointAtLength(num);\n}","map":{"version":3,"names":["NumberExt","Point","resolve","fn","view","magnet","ref","options","Element","refView","graph","renderer","findViewByElem","refPoint","isEdgeElement","distance","fixedAt","getPointAtEdge","getBBoxOfElement","getCenter","call","apply","arguments","edgeView","value","isPercentage","num","parseFloat","getPointAtRatio","getPointAtLength"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/x6/src/registry/node-anchor/util.ts"],"sourcesContent":["import { NumberExt } from '../../util'\nimport { Point } from '../../geometry'\nimport { EdgeView } from '../../view'\n\nexport interface ResolveOptions {\n  fixedAt?: number | string\n}\n\n// eslint-disable-next-line\nexport function resolve<S extends Function, T>(fn: S): T {\n  return function (\n    this: EdgeView,\n    view: EdgeView,\n    magnet: SVGElement,\n    ref: any,\n    options: ResolveOptions,\n  ) {\n    if (ref instanceof Element) {\n      const refView = this.graph.renderer.findViewByElem(ref)\n      let refPoint\n      if (refView) {\n        if (refView.isEdgeElement(ref)) {\n          const distance = options.fixedAt != null ? options.fixedAt : '50%'\n          refPoint = getPointAtEdge(refView as EdgeView, distance)\n        } else {\n          refPoint = refView.getBBoxOfElement(ref).getCenter()\n        }\n      } else {\n        refPoint = new Point()\n      }\n      return fn.call(this, view, magnet, refPoint, options)\n    }\n    return fn.apply(this, arguments) // eslint-disable-line\n  } as any as T\n}\n\nexport function getPointAtEdge(edgeView: EdgeView, value: string | number) {\n  const isPercentage = NumberExt.isPercentage(value)\n  const num = typeof value === 'string' ? parseFloat(value) : value\n  if (isPercentage) {\n    return edgeView.getPointAtRatio(num / 100)\n  }\n  return edgeView.getPointAtLength(num)\n}\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,YAAY;AACtC,SAASC,KAAK,QAAQ,gBAAgB;AAOtC;AACA,OAAM,SAAUC,OAAOA,CAAwBC,EAAK;EAClD,OAAO,UAELC,IAAc,EACdC,MAAkB,EAClBC,GAAQ,EACRC,OAAuB;IAEvB,IAAID,GAAG,YAAYE,OAAO,EAAE;MAC1B,MAAMC,OAAO,GAAG,IAAI,CAACC,KAAK,CAACC,QAAQ,CAACC,cAAc,CAACN,GAAG,CAAC;MACvD,IAAIO,QAAQ;MACZ,IAAIJ,OAAO,EAAE;QACX,IAAIA,OAAO,CAACK,aAAa,CAACR,GAAG,CAAC,EAAE;UAC9B,MAAMS,QAAQ,GAAGR,OAAO,CAACS,OAAO,IAAI,IAAI,GAAGT,OAAO,CAACS,OAAO,GAAG,KAAK;UAClEH,QAAQ,GAAGI,cAAc,CAACR,OAAmB,EAAEM,QAAQ,CAAC;SACzD,MAAM;UACLF,QAAQ,GAAGJ,OAAO,CAACS,gBAAgB,CAACZ,GAAG,CAAC,CAACa,SAAS,EAAE;;OAEvD,MAAM;QACLN,QAAQ,GAAG,IAAIZ,KAAK,EAAE;;MAExB,OAAOE,EAAE,CAACiB,IAAI,CAAC,IAAI,EAAEhB,IAAI,EAAEC,MAAM,EAAEQ,QAAQ,EAAEN,OAAO,CAAC;;IAEvD,OAAOJ,EAAE,CAACkB,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,EAAC;EACnC,CAAa;AACf;AAEA,OAAM,SAAUL,cAAcA,CAACM,QAAkB,EAAEC,KAAsB;EACvE,MAAMC,YAAY,GAAGzB,SAAS,CAACyB,YAAY,CAACD,KAAK,CAAC;EAClD,MAAME,GAAG,GAAG,OAAOF,KAAK,KAAK,QAAQ,GAAGG,UAAU,CAACH,KAAK,CAAC,GAAGA,KAAK;EACjE,IAAIC,YAAY,EAAE;IAChB,OAAOF,QAAQ,CAACK,eAAe,CAACF,GAAG,GAAG,GAAG,CAAC;;EAE5C,OAAOH,QAAQ,CAACM,gBAAgB,CAACH,GAAG,CAAC;AACvC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}