{"ast":null,"code":"/* eslint-disable jsx-a11y/click-events-have-key-events  */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport React from 'react';\nimport classNames from 'classnames';\nimport { Popover } from 'antd';\nimport addEventListener from 'rc-util/lib/Dom/addEventListener';\nimport { SketchPicker } from 'react-color';\nexport class ColorPicker extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onDocumentClick = e => {\n      const target = e.target;\n      if (target === this.container || this.container.contains(target)) {\n        return;\n      }\n      this.setState({\n        active: false\n      });\n      this.unbindDocEvent();\n    };\n    this.handleChange = (value, event) => {\n      if (this.props.onChange) {\n        this.props.onChange(value, event);\n      }\n      this.setState({\n        active: false,\n        color: value.rgb\n      });\n      this.unbindDocEvent();\n    };\n    this.handleClick = e => {\n      e.stopPropagation();\n      if (this.state.active) {\n        this.setState({\n          active: false\n        });\n        this.unbindDocEvent();\n      } else {\n        this.setState({\n          active: true\n        });\n        if (!this.removeDocClickEvent) {\n          this.removeDocClickEvent = addEventListener(document.documentElement, 'click', this.onDocumentClick).remove;\n        }\n      }\n    };\n    this.refContainer = container => {\n      this.container = container;\n    };\n    this.state = {\n      active: false,\n      color: props.color\n    };\n  }\n  componentWillUnmount() {\n    this.unbindDocEvent();\n  }\n  unbindDocEvent() {\n    if (this.removeDocClickEvent) {\n      this.removeDocClickEvent();\n      this.removeDocClickEvent = null;\n    }\n  }\n  renderPicker() {\n    const _a = this.props,\n      {\n        prefixCls,\n        disabled,\n        style\n      } = _a,\n      props = __rest(_a, [\"prefixCls\", \"disabled\", \"style\"]);\n    return React.createElement(SketchPicker, Object.assign({\n      width: \"240px\"\n    }, props, {\n      onChange: this.handleChange\n    }));\n  }\n  render() {\n    const {\n      color\n    } = this.state;\n    const {\n      disabled,\n      overlayProps,\n      style\n    } = this.props;\n    const baseCls = `${this.props.prefixCls}-color-picker`;\n    const popoverProps = {};\n    if (disabled) {\n      popoverProps.visible = false;\n      // Support for antd 5.0\n      popoverProps.open = false;\n    } else {\n      popoverProps.visible = this.state.active;\n      // Support for antd 5.0\n      popoverProps.open = this.state.active;\n    }\n    const colorStr = typeof color === 'string' ? color : `rgba(${color.r},${color.g},${color.b},${color.a})`;\n    return React.createElement(Popover, Object.assign({\n      placement: \"topLeft\"\n    }, overlayProps, popoverProps, {\n      content: this.renderPicker(),\n      overlayClassName: `${baseCls}-overlay`\n    }), React.createElement(\"div\", {\n      style: style,\n      ref: this.refContainer,\n      onClick: this.handleClick,\n      className: classNames(baseCls, {\n        [`${baseCls}-disabled`]: disabled\n      })\n    }, React.createElement(\"div\", {\n      className: `${baseCls}-block`,\n      style: {\n        backgroundColor: disabled ? '#c4c4c4' : colorStr\n      }\n    })));\n  }\n}\n(function (ColorPicker) {\n  ColorPicker.defaultProps = {\n    prefixCls: 'x6',\n    color: '#1890FF'\n  };\n})(ColorPicker || (ColorPicker = {}));","map":{"version":3,"names":["React","classNames","Popover","addEventListener","SketchPicker","ColorPicker","Component","constructor","props","onDocumentClick","e","target","container","contains","setState","active","unbindDocEvent","handleChange","value","event","onChange","color","rgb","handleClick","stopPropagation","state","removeDocClickEvent","document","documentElement","remove","refContainer","componentWillUnmount","renderPicker","_a","prefixCls","disabled","style","__rest","createElement","Object","assign","width","render","overlayProps","baseCls","popoverProps","visible","open","colorStr","r","g","b","a","placement","content","overlayClassName","ref","onClick","className","backgroundColor","defaultProps"],"sources":["../../src/color-picker/index.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}