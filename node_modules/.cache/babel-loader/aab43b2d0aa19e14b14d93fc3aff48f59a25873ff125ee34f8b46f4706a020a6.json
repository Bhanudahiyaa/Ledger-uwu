{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport React from 'react';\nimport {\n// app service\nIconStore } from '@antv/xflow-core';\nimport { Menu } from '@antv/x6-react-components';\nexport const renderMenuOptions = props => {\n  const {\n    idx,\n    menuOptions: menuItem,\n    target,\n    modelService,\n    commandService,\n    onHide\n  } = props;\n  const {\n    id,\n    label,\n    isEnabled = true,\n    isVisible = true,\n    iconName,\n    submenu = [],\n    active,\n    hotkey,\n    render,\n    onClick\n  } = menuItem;\n  if (!isVisible) {\n    return null;\n  }\n  /** 分隔符：separator */\n  if (menuItem.type === 'separator') {\n    return React.createElement(Menu.Divider, {\n      key: String(menuItem.id) + idx\n    });\n  }\n  /** 根结点：root */\n  if (menuItem.type === 'root') {\n    return React.createElement(Menu, {\n      hasIcon: true\n    }, submenu.map((item, submenuIdx) => renderMenuOptions({\n      idx: submenuIdx,\n      target,\n      commandService,\n      modelService,\n      menuOptions: item,\n      onHide\n    })));\n  }\n  /** 子菜单：submenu */\n  if (menuItem.submenu && Array.isArray(menuItem.submenu)) {\n    const Icon = IconStore.get(iconName);\n    const isDisable = !isEnabled;\n    return React.createElement(Menu.SubMenu, {\n      key: String(id),\n      text: label,\n      disabled: isDisable || submenu.length === 0,\n      icon: Icon ? React.createElement(Icon, null) : null,\n      active: active,\n      hotkey: hotkey\n    }, submenu.map((item, submenuIdx) => renderMenuOptions({\n      idx: submenuIdx,\n      target,\n      commandService,\n      modelService,\n      menuOptions: item,\n      onHide\n    })));\n  }\n  /** 叶子节点 */\n  const Icon = IconStore.get(iconName);\n  if (render) {\n    return React.createElement(render, {\n      menuItem,\n      target,\n      commandService,\n      modelService,\n      onHide\n    }, [React.createElement(Menu.Item, {\n      key: String(id),\n      text: label,\n      disabled: !isEnabled,\n      icon: Icon ? React.createElement(Icon, null) : null,\n      active: active,\n      hotkey: hotkey\n    })]);\n  }\n  return React.createElement(Menu.Item, {\n    key: String(id),\n    text: label,\n    disabled: !isEnabled,\n    icon: Icon ? React.createElement(Icon, null) : null,\n    active: active,\n    hotkey: hotkey,\n    onClick: () => __awaiter(void 0, void 0, void 0, function* () {\n      yield onClick({\n        menuItem,\n        target,\n        commandService,\n        modelService\n      });\n      onHide && onHide();\n    })\n  });\n};","map":{"version":3,"names":["React","IconStore","Menu","renderMenuOptions","props","idx","menuOptions","menuItem","target","modelService","commandService","onHide","id","label","isEnabled","isVisible","iconName","submenu","active","hotkey","render","onClick","type","createElement","Divider","key","String","hasIcon","map","item","submenuIdx","Array","isArray","Icon","get","isDisable","SubMenu","text","disabled","length","icon","Item","__awaiter"],"sources":["../../../src/canvas-context-menu/components/menu-render.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}