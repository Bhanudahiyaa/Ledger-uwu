{"ast":null,"code":"import React from 'react';\nimport { Spin } from 'antd';\nimport classnames from 'classnames';\nimport { usePositionStyle } from '@antv/xflow-core';\n// component\nimport { Toolbar } from '@antv/x6-react-components';\nimport { ToolbarGroup } from './toolbar-group';\nimport { useToolbarModel } from '../service';\nimport classNames from 'classnames';\n/** render toolbar */\nconst ToolbarRender = props => {\n  const {\n    idx,\n    groups,\n    layout,\n    toolbarOptions\n  } = props;\n  const {\n    hoverEffect = true\n  } = toolbarOptions;\n  return React.createElement(Toolbar, {\n    hoverEffect: hoverEffect\n  }, groups.map((g, gIdx) => {\n    const key = idx + gIdx;\n    return React.createElement(ToolbarGroup, {\n      key: key,\n      group: g,\n      layout: layout\n    });\n  }));\n};\nconst InnerRender = props => {\n  const {\n    isModelReady,\n    state\n  } = useToolbarModel(props);\n  const positionStyle = usePositionStyle(props.position);\n  const {\n    mainGroups = [],\n    extraGroups = [],\n    layout,\n    customRender\n  } = state;\n  const containerClz = classNames(props.className, layout, 'xflow-toolbar');\n  const clz = classnames({\n    [layout]: true,\n    ['xflow-toolbar-root']: true\n  });\n  // loading\n  if (!isModelReady) {\n    return React.createElement(\"div\", {\n      className: containerClz,\n      style: Object.assign(Object.assign({}, positionStyle), props.style)\n    }, React.createElement(Spin, {\n      spinning: true,\n      size: \"small\"\n    }));\n  }\n  // render custom component\n  if (customRender) {\n    return React.createElement(\"div\", {\n      className: containerClz,\n      style: Object.assign(Object.assign({}, positionStyle), props.style)\n    }, React.createElement(customRender, {\n      config: state\n    }));\n  }\n  // render toolbars\n  return React.createElement(\"div\", {\n    className: containerClz,\n    style: Object.assign(Object.assign({}, positionStyle), props.style)\n  }, React.createElement(\"div\", {\n    className: clz\n  }, mainGroups.length > 0 && React.createElement(ToolbarRender, {\n    idx: \"mainGroups\",\n    groups: mainGroups,\n    layout: layout,\n    toolbarOptions: state\n  }), extraGroups.length > 0 && React.createElement(ToolbarRender, {\n    idx: \"extraGroups\",\n    groups: extraGroups,\n    layout: layout,\n    toolbarOptions: state\n  })));\n};\n/** connect 数据 */\nexport const XFlowToolbar = React.memo(InnerRender);","map":{"version":3,"names":["React","Spin","classnames","usePositionStyle","Toolbar","ToolbarGroup","useToolbarModel","classNames","ToolbarRender","props","idx","groups","layout","toolbarOptions","hoverEffect","createElement","map","g","gIdx","key","group","InnerRender","isModelReady","state","positionStyle","position","mainGroups","extraGroups","customRender","containerClz","className","clz","style","Object","assign","spinning","size","config","length","XFlowToolbar","memo"],"sources":["../../../src/canvas-toolbar/render-components/index.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}