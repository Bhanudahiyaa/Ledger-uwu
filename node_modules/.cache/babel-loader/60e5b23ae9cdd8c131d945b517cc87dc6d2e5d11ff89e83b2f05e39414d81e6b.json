{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport React from 'react';\nimport { useExtensionRegistry } from './extension-context';\nexport function XFlowAppExtensionModule(props) {\n  const {\n    createModule,\n    children\n  } = props;\n  /** 获取扩展Registry */\n  const extensionRegistry = useExtensionRegistry();\n  /** Config */\n  const config = React.useMemo(() => props.config || {\n    CONFIG_TYPE: '',\n    getConfig: () => __awaiter(this, void 0, void 0, function* () {\n      return {};\n    })\n  }, /* eslint-disable-next-line  */\n  []);\n  React.useEffect(() => {\n    /** 注册 extension 到 Registry */\n    const disposable = extensionRegistry.addExtension({\n      config: config,\n      createModule\n    });\n    return () => {\n      disposable.dispose();\n    };\n    /* eslint-disable-next-line  */\n  }, []);\n  /** 可以 Wrap Children组件 */\n  if (Array.isArray(children) || React.isValidElement(children)) {\n    return React.createElement(React.Fragment, null, \" \", children, \" \");\n  }\n  return null;\n}","map":{"version":3,"names":["React","useExtensionRegistry","XFlowAppExtensionModule","props","createModule","children","extensionRegistry","config","useMemo","CONFIG_TYPE","getConfig","__awaiter","useEffect","disposable","addExtension","dispose","Array","isArray","isValidElement","createElement","Fragment"],"sources":["../../../src/xflow-main/components/app-extension-module.tsx"],"sourcesContent":[null],"mappings":";AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,oBAAoB,QAAQ,qBAAqB;AAO1D,OAAM,SAAUC,uBAAuBA,CAAIC,KAAgC;EACzE,MAAM;IAAEC,YAAY;IAAEC;EAAQ,CAAE,GAAGF,KAAK;EACxC;EACA,MAAMG,iBAAiB,GAAGL,oBAAoB,EAAE;EAEhD;EACA,MAAMM,MAAM,GAAGP,KAAK,CAACQ,OAAO,CAC1B,MAAML,KAAK,CAACI,MAAM,IAAI;IAAEE,WAAW,EAAE,EAAE;IAAEC,SAAS,EAAEA,CAAA,KAAWC,SAAA;MAAC,OAAC,EAAQ;IAAA;EAAA,CAAE,EAC3E;EACA,EAAE,CACH;EAEDX,KAAK,CAACY,SAAS,CAAC,MAAK;IACnB;IACA,MAAMC,UAAU,GAAGP,iBAAiB,CAACQ,YAAY,CAAC;MAChDP,MAAM,EAAEA,MAAM;MACdH;KACD,CAAC;IACF,OAAO,MAAK;MACVS,UAAU,CAACE,OAAO,EAAE;IACtB,CAAC;IACD;EACF,CAAC,EAAE,EAAE,CAAC;EAEN;EACA,IAAIC,KAAK,CAACC,OAAO,CAACZ,QAAQ,CAAC,IAAIL,KAAK,CAACkB,cAAc,CAACb,QAAQ,CAAC,EAAE;IAC7D,OAAOL,KAAA,CAAAmB,aAAA,CAAAnB,KAAA,CAAAoB,QAAA,Q,KAAIf,QAAQ,E,IAAK;;EAG1B,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}