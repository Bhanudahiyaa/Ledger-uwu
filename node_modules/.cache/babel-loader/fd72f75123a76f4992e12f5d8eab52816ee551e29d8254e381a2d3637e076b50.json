{"ast":null,"code":"export class MappingSource {\n  static aggregation(source, aggregation) {\n    const {\n      type = 'grid',\n      radius,\n      method,\n      field\n    } = aggregation;\n    const config = {\n      type,\n      size: radius,\n      method,\n      field\n    };\n    if (source.transforms) {\n      // 过滤 transform 有相同配置情况\n      source.transforms = source.transforms.filter(transform => transform.type !== config.type);\n      source.transforms.push(config);\n    } else {\n      source.transforms = [config];\n    }\n  }\n}","map":{"version":3,"names":["MappingSource","aggregation","source","type","radius","method","field","config","size","transforms","filter","transform","push"],"sources":["../../../../src/adaptor/source/index.ts"],"sourcesContent":[null],"mappings":"AAEA,OAAM,MAAOA,aAAa;EACxB,OAAOC,WAAWA,CAACC,MAA8B,EAAED,WAA4B;IAC7E,MAAM;MAAEE,IAAI,GAAG,MAAM;MAAEC,MAAM;MAAEC,MAAM;MAAEC;IAAK,CAAE,GAAGL,WAAW;IAC5D,MAAMM,MAAM,GAAG;MAAEJ,IAAI;MAAEK,IAAI,EAAEJ,MAAM;MAAEC,MAAM;MAAEC;IAAK,CAAE;IACpD,IAAIJ,MAAM,CAACO,UAAU,EAAE;MACrB;MACAP,MAAM,CAACO,UAAU,GAAGP,MAAM,CAACO,UAAU,CAACC,MAAM,CAAEC,SAAS,IAAKA,SAAS,CAACR,IAAI,KAAKI,MAAM,CAACJ,IAAI,CAAC;MAC3FD,MAAM,CAACO,UAAU,CAACG,IAAI,CAACL,MAAM,CAAC;IAChC,CAAC,MAAM;MACLL,MAAM,CAACO,UAAU,GAAG,CAACF,MAAM,CAAC;IAC9B;EACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}