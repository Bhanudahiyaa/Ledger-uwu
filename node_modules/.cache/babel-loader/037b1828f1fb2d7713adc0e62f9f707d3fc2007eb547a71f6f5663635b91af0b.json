{"ast":null,"code":"export { isFunction, once, noop, debounce, defer } from 'lodash-es';\nexport function apply(fn, ctx, args) {\n  if (args) {\n    switch (args.length) {\n      case 0:\n        return fn.call(ctx);\n      case 1:\n        return fn.call(ctx, args[0]);\n      case 2:\n        return fn.call(ctx, args[0], args[1]);\n      case 3:\n        return fn.call(ctx, args[0], args[1], args[2]);\n      case 4:\n        return fn.call(ctx, args[0], args[1], args[2], args[3]);\n      case 5:\n        return fn.call(ctx, args[0], args[1], args[2], args[3], args[4]);\n      case 6:\n        return fn.call(ctx, args[0], args[1], args[2], args[3], args[4], args[5]);\n      default:\n        return fn.apply(ctx, args);\n    }\n  }\n  return fn.call(ctx);\n}\nexport function call(fn, ctx, ...args) {\n  return apply(fn, ctx, args);\n}\nfunction repush(array, item) {\n  for (let i = 0, ii = array.length; i < ii; i += 1) {\n    if (array[i] === item) {\n      return array.push(array.splice(i, 1)[0]);\n    }\n  }\n}\nexport function cacher(fn, ctx, postProcessor) {\n  const keys = [];\n  const cache = {};\n  const f = (...args) => {\n    let hasCache = false;\n    const key = args.join('\\u2400');\n    if (key in cache) {\n      hasCache = true;\n      repush(keys, key);\n    } else {\n      if (keys.length >= 1000) {\n        delete cache[keys.shift()];\n      }\n      keys.push(key);\n      cache[key] = apply(fn, ctx || null, args);\n    }\n    return postProcessor ? postProcessor(cache[key], hasCache) : cache[key];\n  };\n  return f;\n}","map":{"version":3,"names":["isFunction","once","noop","debounce","defer","apply","fn","ctx","args","length","call","repush","array","item","i","ii","push","splice","cacher","postProcessor","keys","cache","f","hasCache","key","join","shift"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/x6/src/util/function/function.ts"],"sourcesContent":["export { isFunction, once, noop, debounce, defer } from 'lodash-es'\n\ntype Fn = (...args: any[]) => any\n\nexport function apply<T extends Fn>(\n  fn: T,\n  ctx: ThisParameterType<T>,\n  args?: Parameters<T>,\n): ReturnType<T> {\n  if (args) {\n    switch (args.length) {\n      case 0:\n        return fn.call(ctx)\n      case 1:\n        return fn.call(ctx, args[0])\n      case 2:\n        return fn.call(ctx, args[0], args[1])\n      case 3:\n        return fn.call(ctx, args[0], args[1], args[2])\n      case 4:\n        return fn.call(ctx, args[0], args[1], args[2], args[3])\n      case 5:\n        return fn.call(ctx, args[0], args[1], args[2], args[3], args[4])\n      case 6:\n        return fn.call(\n          ctx,\n          args[0],\n          args[1],\n          args[2],\n          args[3],\n          args[4],\n          args[5],\n        )\n      default:\n        return fn.apply(ctx, args)\n    }\n  }\n\n  return fn.call(ctx)\n}\n\nexport function call<T extends Fn>(\n  fn: T,\n  ctx: ThisParameterType<T>,\n  ...args: Parameters<T>\n): ReturnType<T> {\n  return apply(fn, ctx, args)\n}\n\nfunction repush<T>(array: T[], item: T) {\n  for (let i = 0, ii = array.length; i < ii; i += 1) {\n    if (array[i] === item) {\n      return array.push(array.splice(i, 1)[0])\n    }\n  }\n}\n\nexport function cacher<T extends Fn>(\n  fn: T,\n  ctx?: ThisParameterType<T>,\n  postProcessor?: (v: any, hasCache?: boolean) => any,\n): T {\n  const keys: string[] = []\n  const cache: { [kry: string]: any } = {}\n  const f = (...args: Parameters<T>) => {\n    let hasCache = false\n    const key = args.join('\\u2400')\n    if (key in cache) {\n      hasCache = true\n      repush(keys, key)\n    } else {\n      if (keys.length >= 1000) {\n        delete cache[keys.shift()!]\n      }\n      keys.push(key)\n      cache[key] = apply(fn, ctx || (null as ThisParameterType<T>), args)\n    }\n\n    return postProcessor ? postProcessor(cache[key], hasCache) : cache[key]\n  }\n\n  return f as T\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}