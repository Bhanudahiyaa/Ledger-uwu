{"ast":null,"code":"/* eslint-disable @typescript-eslint/lines-between-class-members */\nimport { ReactShape } from '@antv/x6-react-shape';\nimport { Node } from '@antv/x6';\nimport { XFLOW_NODE_SHAPE, NODE_DEFAULT_WIDTH, NODE_DEFAULT_HEIGHT } from '../constants';\nimport { NsGraph, XFlowConstants } from '@antv/xflow-core';\nlet XFlowNode;\nconst {\n  AnchorGroup\n} = NsGraph;\nif (Node.registry.exist(XFLOW_NODE_SHAPE)) {\n  XFlowNode = Node.registry.get(XFLOW_NODE_SHAPE);\n} else {\n  XFlowNode = ReactShape.define({\n    width: NODE_DEFAULT_WIDTH,\n    height: NODE_DEFAULT_HEIGHT,\n    shape: XFLOW_NODE_SHAPE,\n    // X6_NODE_PORTAL_NODE_VIEW\n    view: XFlowConstants.X6_NODE_PORTAL_NODE_VIEW,\n    ports: {\n      groups: {\n        top: {\n          zIndex: 2,\n          position: {\n            name: AnchorGroup.TOP\n          }\n        },\n        bottom: {\n          zIndex: 2,\n          position: {\n            name: AnchorGroup.BOTTOM\n          }\n        },\n        right: {\n          zIndex: 2,\n          position: {\n            name: AnchorGroup.RIGHT\n          }\n        },\n        left: {\n          zIndex: 2,\n          position: {\n            name: AnchorGroup.LEFT\n          }\n        }\n      }\n    },\n    attrs: {\n      body: {\n        magnet: false,\n        fill: 'none',\n        stroke: 'none',\n        refWidth: '100%',\n        refHeight: '100%',\n        zIndex: 1\n      }\n    },\n    portMarkup: [{\n      tagName: 'g',\n      selector: 'xflow-port-group',\n      className: 'xflow-port-group',\n      attrs: {\n        width: 8,\n        height: 8,\n        x: -4,\n        y: -4,\n        zIndex: 10,\n        // magnet决定是否可交互\n        magnet: 'true'\n      },\n      children: [{\n        tagName: 'circle',\n        selector: 'xflow-port',\n        className: 'xflow-port',\n        attrs: {\n          r: 4,\n          fill: '#fff',\n          stroke: '#d9d9d9',\n          zIndex: 12\n        }\n      }, {\n        tagName: 'polygon',\n        selector: 'xflow-port-arrow',\n        className: 'xflow-port-arrow',\n        attrs: {\n          points: '0,0 8,0 4,4 ',\n          fill: '#d9d9d9',\n          stroke: '#d9d9d9',\n          zIndex: 13,\n          transform: 'translate(-4,0)'\n        }\n      }]\n    }]\n  });\n}\nexport { XFlowNode, AnchorGroup };","map":{"version":3,"names":["ReactShape","Node","XFLOW_NODE_SHAPE","NODE_DEFAULT_WIDTH","NODE_DEFAULT_HEIGHT","NsGraph","XFlowConstants","XFlowNode","AnchorGroup","registry","exist","get","define","width","height","shape","view","X6_NODE_PORTAL_NODE_VIEW","ports","groups","top","zIndex","position","name","TOP","bottom","BOTTOM","right","RIGHT","left","LEFT","attrs","body","magnet","fill","stroke","refWidth","refHeight","portMarkup","tagName","selector","className","x","y","children","r","points","transform"],"sources":["../../../src/canvas-dag-extension/x6-extension/node.ts"],"sourcesContent":[null],"mappings":"AAAA;AACA,SAASA,UAAU,QAAQ,sBAAsB;AACjD,SAASC,IAAI,QAAQ,UAAU;AAE/B,SAASC,gBAAgB,EAAEC,kBAAkB,EAAEC,mBAAmB,QAAQ,cAAc;AACxF,SAASC,OAAO,EAAEC,cAAc,QAAQ,kBAAkB;AAE1D,IAAIC,SAA0B;AAE9B,MAAM;EAAEC;AAAW,CAAE,GAAGH,OAAO;AAE/B,IAAIJ,IAAI,CAACQ,QAAQ,CAACC,KAAK,CAACR,gBAAgB,CAAC,EAAE;EACzCK,SAAS,GAAGN,IAAI,CAACQ,QAAQ,CAACE,GAAG,CAACT,gBAAgB,CAAC;CAChD,MAAM;EACLK,SAAS,GAAGP,UAAU,CAACY,MAAM,CAAC;IAC5BC,KAAK,EAAEV,kBAAkB;IACzBW,MAAM,EAAEV,mBAAmB;IAC3BW,KAAK,EAAEb,gBAAgB;IACvB;IACAc,IAAI,EAAEV,cAAc,CAACW,wBAAwB;IAC7CC,KAAK,EAAE;MACLC,MAAM,EAAE;QACNC,GAAG,EAAE;UACHC,MAAM,EAAE,CAAC;UACTC,QAAQ,EAAE;YACRC,IAAI,EAAEf,WAAW,CAACgB;;SAErB;QACDC,MAAM,EAAE;UACNJ,MAAM,EAAE,CAAC;UACTC,QAAQ,EAAE;YACRC,IAAI,EAAEf,WAAW,CAACkB;;SAErB;QACDC,KAAK,EAAE;UACLN,MAAM,EAAE,CAAC;UACTC,QAAQ,EAAE;YACRC,IAAI,EAAEf,WAAW,CAACoB;;SAErB;QACDC,IAAI,EAAE;UACJR,MAAM,EAAE,CAAC;UACTC,QAAQ,EAAE;YACRC,IAAI,EAAEf,WAAW,CAACsB;;;;KAIzB;IACDC,KAAK,EAAE;MACLC,IAAI,EAAE;QACJC,MAAM,EAAE,KAAK;QACbC,IAAI,EAAE,MAAM;QACZC,MAAM,EAAE,MAAM;QACdC,QAAQ,EAAE,MAAM;QAChBC,SAAS,EAAE,MAAM;QACjBhB,MAAM,EAAE;;KAEX;IACDiB,UAAU,EAAE,CACV;MACEC,OAAO,EAAE,GAAG;MACZC,QAAQ,EAAE,kBAAkB;MAC5BC,SAAS,EAAE,kBAAkB;MAC7BV,KAAK,EAAE;QACLlB,KAAK,EAAE,CAAC;QACRC,MAAM,EAAE,CAAC;QACT4B,CAAC,EAAE,CAAC,CAAC;QACLC,CAAC,EAAE,CAAC,CAAC;QACLtB,MAAM,EAAE,EAAE;QACV;QACAY,MAAM,EAAE;OACT;MACDW,QAAQ,EAAE,CACR;QACEL,OAAO,EAAE,QAAQ;QACjBC,QAAQ,EAAE,YAAY;QACtBC,SAAS,EAAE,YAAY;QACvBV,KAAK,EAAE;UACLc,CAAC,EAAE,CAAC;UACJX,IAAI,EAAE,MAAM;UACZC,MAAM,EAAE,SAAS;UACjBd,MAAM,EAAE;;OAEX,EACD;QACEkB,OAAO,EAAE,SAAS;QAClBC,QAAQ,EAAE,kBAAkB;QAC5BC,SAAS,EAAE,kBAAkB;QAC7BV,KAAK,EAAE;UACLe,MAAM,EAAE,cAAc;UACtBZ,IAAI,EAAE,SAAS;UACfC,MAAM,EAAE,SAAS;UACjBd,MAAM,EAAE,EAAE;UACV0B,SAAS,EAAE;;OAEd;KAEJ;GAEJ,CAAC;;AAGJ,SAASxC,SAAS,EAAEC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}