{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Popper } from \"../../utils/popper\";\nimport ButtonControl from \"./buttonControl\";\nexport { PopperControl };\nconst PopperPlacementMap = {\n  topleft: 'right-start',\n  topcenter: 'bottom',\n  topright: 'left-start',\n  bottomleft: 'right-end',\n  bottomcenter: 'top',\n  bottomright: 'left-end',\n  lefttop: 'bottom-start',\n  leftcenter: 'right',\n  leftbottom: 'top-start',\n  righttop: 'bottom-end',\n  rightcenter: 'left',\n  rightbottom: 'top-end'\n};\nexport default class PopperControl extends ButtonControl {\n  constructor(...args) {\n    super(...args);\n    /**\n     * 气泡实例\n     * @protected\n     */\n    _defineProperty(this, \"popper\", void 0);\n  }\n  getPopper() {\n    return this.popper;\n  }\n  hide() {\n    this.popper.hide();\n    super.hide();\n  }\n\n  /**\n   * 获取默认配置\n   * @param option\n   */\n  getDefault(option) {\n    var _option$position;\n    const defaultOption = super.getDefault(option);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const position = (_option$position = option === null || option === void 0 ? void 0 : option.position) !== null && _option$position !== void 0 ? _option$position : defaultOption.position;\n    return _objectSpread(_objectSpread({}, super.getDefault(option)), {}, {\n      popperPlacement: position instanceof Element ? 'bottom' : PopperPlacementMap[position],\n      popperTrigger: 'click'\n    });\n  }\n  onAdd() {\n    const button = super.onAdd();\n    this.initPopper();\n    return button;\n  }\n  onRemove() {\n    this.popper.destroy();\n  }\n  initPopper() {\n    const {\n      popperClassName,\n      popperPlacement,\n      popperTrigger\n    } = this.controlOption;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const popperContainer = this.mapsService.getMapContainer();\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.popper = new Popper(this.button, {\n      className: popperClassName,\n      placement: popperPlacement,\n      trigger: popperTrigger,\n      container: popperContainer,\n      unique: true\n    });\n    this.popper.on('show', () => {\n      this.emit('popperShow', this);\n    }).on('hide', () => {\n      this.emit('popperHide', this);\n    });\n    return this.popper;\n  }\n  setOptions(option) {\n    super.setOptions(option);\n    if (this.checkUpdateOption(option, ['popperPlacement', 'popperTrigger', 'popperClassName'])) {\n      const content = this.popper.getContent();\n      this.popper.destroy();\n      this.initPopper();\n      this.popper.setContent(content);\n    }\n  }\n}","map":{"version":3,"names":["_objectSpread","_defineProperty","Popper","ButtonControl","PopperControl","PopperPlacementMap","topleft","topcenter","topright","bottomleft","bottomcenter","bottomright","lefttop","leftcenter","leftbottom","righttop","rightcenter","rightbottom","constructor","args","getPopper","popper","hide","getDefault","option","_option$position","defaultOption","position","popperPlacement","Element","popperTrigger","onAdd","button","initPopper","onRemove","destroy","popperClassName","controlOption","popperContainer","mapsService","getMapContainer","className","placement","trigger","container","unique","on","emit","setOptions","checkUpdateOption","content","getContent","setContent"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-component/es/control/baseControl/popperControl.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Popper } from \"../../utils/popper\";\nimport ButtonControl from \"./buttonControl\";\nexport { PopperControl };\nconst PopperPlacementMap = {\n  topleft: 'right-start',\n  topcenter: 'bottom',\n  topright: 'left-start',\n  bottomleft: 'right-end',\n  bottomcenter: 'top',\n  bottomright: 'left-end',\n  lefttop: 'bottom-start',\n  leftcenter: 'right',\n  leftbottom: 'top-start',\n  righttop: 'bottom-end',\n  rightcenter: 'left',\n  rightbottom: 'top-end'\n};\nexport default class PopperControl extends ButtonControl {\n  constructor(...args) {\n    super(...args);\n    /**\n     * 气泡实例\n     * @protected\n     */\n    _defineProperty(this, \"popper\", void 0);\n  }\n  getPopper() {\n    return this.popper;\n  }\n  hide() {\n    this.popper.hide();\n    super.hide();\n  }\n\n  /**\n   * 获取默认配置\n   * @param option\n   */\n  getDefault(option) {\n    var _option$position;\n    const defaultOption = super.getDefault(option);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const position = (_option$position = option === null || option === void 0 ? void 0 : option.position) !== null && _option$position !== void 0 ? _option$position : defaultOption.position;\n    return _objectSpread(_objectSpread({}, super.getDefault(option)), {}, {\n      popperPlacement: position instanceof Element ? 'bottom' : PopperPlacementMap[position],\n      popperTrigger: 'click'\n    });\n  }\n  onAdd() {\n    const button = super.onAdd();\n    this.initPopper();\n    return button;\n  }\n  onRemove() {\n    this.popper.destroy();\n  }\n  initPopper() {\n    const {\n      popperClassName,\n      popperPlacement,\n      popperTrigger\n    } = this.controlOption;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const popperContainer = this.mapsService.getMapContainer();\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.popper = new Popper(this.button, {\n      className: popperClassName,\n      placement: popperPlacement,\n      trigger: popperTrigger,\n      container: popperContainer,\n      unique: true\n    });\n    this.popper.on('show', () => {\n      this.emit('popperShow', this);\n    }).on('hide', () => {\n      this.emit('popperHide', this);\n    });\n    return this.popper;\n  }\n  setOptions(option) {\n    super.setOptions(option);\n    if (this.checkUpdateOption(option, ['popperPlacement', 'popperTrigger', 'popperClassName'])) {\n      const content = this.popper.getContent();\n      this.popper.destroy();\n      this.initPopper();\n      this.popper.setContent(content);\n    }\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}