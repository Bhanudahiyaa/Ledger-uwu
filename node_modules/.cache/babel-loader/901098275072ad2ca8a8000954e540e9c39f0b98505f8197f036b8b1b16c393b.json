{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nexport default class PopupService {\n  constructor() {\n    _defineProperty(this, \"scene\", void 0);\n    _defineProperty(this, \"mapsService\", void 0);\n    _defineProperty(this, \"popups\", []);\n    _defineProperty(this, \"unAddPopups\", []);\n  }\n  get isMarkerReady() {\n    return this.mapsService.map && this.mapsService.getMarkerContainer();\n  }\n  removePopup(popup) {\n    if (popup !== null && popup !== void 0 && popup.isOpen()) {\n      popup.remove();\n    }\n    const targetIndex = this.popups.indexOf(popup);\n    if (targetIndex > -1) {\n      this.popups.splice(targetIndex, 1);\n    }\n    const targetUnAddIndex = this.unAddPopups.indexOf(popup);\n    if (targetUnAddIndex > -1) {\n      this.unAddPopups.splice(targetUnAddIndex, 1);\n    }\n  }\n  destroy() {\n    this.popups.forEach(popup => popup.remove());\n  }\n  addPopup(popup) {\n    if (popup && popup.getOptions().autoClose) {\n      [...this.popups, ...this.unAddPopups].forEach(otherPopup => {\n        if (otherPopup.getOptions().autoClose) {\n          this.removePopup(otherPopup);\n        }\n      });\n    }\n    if (this.isMarkerReady) {\n      popup.addTo(this.scene);\n      this.popups.push(popup);\n    } else {\n      this.unAddPopups.push(popup);\n    }\n    popup.on('close', () => {\n      this.removePopup(popup);\n    });\n  }\n  initPopup() {\n    if (this.unAddPopups.length) {\n      this.unAddPopups.forEach(popup => {\n        this.addPopup(popup);\n        this.unAddPopups = [];\n      });\n    }\n  }\n  init(scene) {\n    this.scene = scene;\n    this.mapsService = scene.mapService;\n  }\n}","map":{"version":3,"names":["_defineProperty","PopupService","constructor","isMarkerReady","mapsService","map","getMarkerContainer","removePopup","popup","isOpen","remove","targetIndex","popups","indexOf","splice","targetUnAddIndex","unAddPopups","destroy","forEach","addPopup","getOptions","autoClose","otherPopup","addTo","scene","push","on","initPopup","length","init","mapService"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-core/es/services/component/PopupService.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nexport default class PopupService {\n  constructor() {\n    _defineProperty(this, \"scene\", void 0);\n    _defineProperty(this, \"mapsService\", void 0);\n    _defineProperty(this, \"popups\", []);\n    _defineProperty(this, \"unAddPopups\", []);\n  }\n  get isMarkerReady() {\n    return this.mapsService.map && this.mapsService.getMarkerContainer();\n  }\n  removePopup(popup) {\n    if (popup !== null && popup !== void 0 && popup.isOpen()) {\n      popup.remove();\n    }\n    const targetIndex = this.popups.indexOf(popup);\n    if (targetIndex > -1) {\n      this.popups.splice(targetIndex, 1);\n    }\n    const targetUnAddIndex = this.unAddPopups.indexOf(popup);\n    if (targetUnAddIndex > -1) {\n      this.unAddPopups.splice(targetUnAddIndex, 1);\n    }\n  }\n  destroy() {\n    this.popups.forEach(popup => popup.remove());\n  }\n  addPopup(popup) {\n    if (popup && popup.getOptions().autoClose) {\n      [...this.popups, ...this.unAddPopups].forEach(otherPopup => {\n        if (otherPopup.getOptions().autoClose) {\n          this.removePopup(otherPopup);\n        }\n      });\n    }\n    if (this.isMarkerReady) {\n      popup.addTo(this.scene);\n      this.popups.push(popup);\n    } else {\n      this.unAddPopups.push(popup);\n    }\n    popup.on('close', () => {\n      this.removePopup(popup);\n    });\n  }\n  initPopup() {\n    if (this.unAddPopups.length) {\n      this.unAddPopups.forEach(popup => {\n        this.addPopup(popup);\n        this.unAddPopups = [];\n      });\n    }\n  }\n  init(scene) {\n    this.scene = scene;\n    this.mapsService = scene.mapService;\n  }\n}"],"mappings":"AAAA,OAAOA,eAAe,MAAM,2CAA2C;AACvE,eAAe,MAAMC,YAAY,CAAC;EAChCC,WAAWA,CAAA,EAAG;IACZF,eAAe,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IACtCA,eAAe,CAAC,IAAI,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;IAC5CA,eAAe,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC;IACnCA,eAAe,CAAC,IAAI,EAAE,aAAa,EAAE,EAAE,CAAC;EAC1C;EACA,IAAIG,aAAaA,CAAA,EAAG;IAClB,OAAO,IAAI,CAACC,WAAW,CAACC,GAAG,IAAI,IAAI,CAACD,WAAW,CAACE,kBAAkB,CAAC,CAAC;EACtE;EACAC,WAAWA,CAACC,KAAK,EAAE;IACjB,IAAIA,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,KAAK,CAAC,IAAIA,KAAK,CAACC,MAAM,CAAC,CAAC,EAAE;MACxDD,KAAK,CAACE,MAAM,CAAC,CAAC;IAChB;IACA,MAAMC,WAAW,GAAG,IAAI,CAACC,MAAM,CAACC,OAAO,CAACL,KAAK,CAAC;IAC9C,IAAIG,WAAW,GAAG,CAAC,CAAC,EAAE;MACpB,IAAI,CAACC,MAAM,CAACE,MAAM,CAACH,WAAW,EAAE,CAAC,CAAC;IACpC;IACA,MAAMI,gBAAgB,GAAG,IAAI,CAACC,WAAW,CAACH,OAAO,CAACL,KAAK,CAAC;IACxD,IAAIO,gBAAgB,GAAG,CAAC,CAAC,EAAE;MACzB,IAAI,CAACC,WAAW,CAACF,MAAM,CAACC,gBAAgB,EAAE,CAAC,CAAC;IAC9C;EACF;EACAE,OAAOA,CAAA,EAAG;IACR,IAAI,CAACL,MAAM,CAACM,OAAO,CAACV,KAAK,IAAIA,KAAK,CAACE,MAAM,CAAC,CAAC,CAAC;EAC9C;EACAS,QAAQA,CAACX,KAAK,EAAE;IACd,IAAIA,KAAK,IAAIA,KAAK,CAACY,UAAU,CAAC,CAAC,CAACC,SAAS,EAAE;MACzC,CAAC,GAAG,IAAI,CAACT,MAAM,EAAE,GAAG,IAAI,CAACI,WAAW,CAAC,CAACE,OAAO,CAACI,UAAU,IAAI;QAC1D,IAAIA,UAAU,CAACF,UAAU,CAAC,CAAC,CAACC,SAAS,EAAE;UACrC,IAAI,CAACd,WAAW,CAACe,UAAU,CAAC;QAC9B;MACF,CAAC,CAAC;IACJ;IACA,IAAI,IAAI,CAACnB,aAAa,EAAE;MACtBK,KAAK,CAACe,KAAK,CAAC,IAAI,CAACC,KAAK,CAAC;MACvB,IAAI,CAACZ,MAAM,CAACa,IAAI,CAACjB,KAAK,CAAC;IACzB,CAAC,MAAM;MACL,IAAI,CAACQ,WAAW,CAACS,IAAI,CAACjB,KAAK,CAAC;IAC9B;IACAA,KAAK,CAACkB,EAAE,CAAC,OAAO,EAAE,MAAM;MACtB,IAAI,CAACnB,WAAW,CAACC,KAAK,CAAC;IACzB,CAAC,CAAC;EACJ;EACAmB,SAASA,CAAA,EAAG;IACV,IAAI,IAAI,CAACX,WAAW,CAACY,MAAM,EAAE;MAC3B,IAAI,CAACZ,WAAW,CAACE,OAAO,CAACV,KAAK,IAAI;QAChC,IAAI,CAACW,QAAQ,CAACX,KAAK,CAAC;QACpB,IAAI,CAACQ,WAAW,GAAG,EAAE;MACvB,CAAC,CAAC;IACJ;EACF;EACAa,IAAIA,CAACL,KAAK,EAAE;IACV,IAAI,CAACA,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACpB,WAAW,GAAGoB,KAAK,CAACM,UAAU;EACrC;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}