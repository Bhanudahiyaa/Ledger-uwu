{"ast":null,"code":"import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { InputNumber as AInputNumber } from 'antd';\nfunction transformValue(val) {\n  const result = Number(val);\n  return Number.isNaN(result) ? undefined : result;\n}\nexport const InputNumber = props => {\n  const {\n    disabled,\n    placeholder,\n    value,\n    onChange\n  } = props;\n  const [innerValue, setInnerValue] = useState(transformValue(value));\n  const mountedRef = useRef(false);\n  useEffect(() => {\n    if (!mountedRef.current) {\n      mountedRef.current = true;\n    }\n    setInnerValue(transformValue(value));\n  }, [value]);\n  const onValueChange = useCallback(nextValue => {\n    setInnerValue(nextValue);\n    if (typeof onChange === 'function') {\n      if (nextValue === undefined) {\n        onChange('');\n      } else if (typeof transformValue(nextValue) === 'number') {\n        onChange(transformValue(nextValue));\n      }\n    }\n  }, [onChange]);\n  return React.createElement(AInputNumber, {\n    style: {\n      width: '100%'\n    },\n    size: \"small\",\n    placeholder: placeholder,\n    value: innerValue,\n    onChange: onValueChange,\n    disabled: disabled\n  });\n};","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","InputNumber","AInputNumber","transformValue","val","result","Number","isNaN","undefined","props","disabled","placeholder","value","onChange","innerValue","setInnerValue","mountedRef","current","onValueChange","nextValue","createElement","style","width","size"],"sources":["../../../../../src/canvas-json-schema-form/schema-form/control-map/float/input-number.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACvE,SAASC,WAAW,IAAIC,YAAY,QAAQ,MAAM;AASlD,SAASC,cAAcA,CAACC,GAAgC;EACtD,MAAMC,MAAM,GAAGC,MAAM,CAACF,GAAG,CAAC;EAC1B,OAAOE,MAAM,CAACC,KAAK,CAACF,MAAM,CAAC,GAAGG,SAAS,GAAGH,MAAM;AAClD;AAEA,OAAO,MAAMJ,WAAW,GAAoBQ,KAAK,IAAG;EAClD,MAAM;IAAEC,QAAQ;IAAEC,WAAW;IAAEC,KAAK;IAAEC;EAAQ,CAAE,GAAGJ,KAAK;EACxD,MAAM,CAACK,UAAU,EAAEC,aAAa,CAAC,GAAGlB,QAAQ,CAAqBM,cAAc,CAACS,KAAK,CAAC,CAAC;EACvF,MAAMI,UAAU,GAAGjB,MAAM,CAAU,KAAK,CAAC;EAEzCD,SAAS,CAAC,MAAK;IACb,IAAI,CAACkB,UAAU,CAACC,OAAO,EAAE;MACvBD,UAAU,CAACC,OAAO,GAAG,IAAI;;IAE3BF,aAAa,CAACZ,cAAc,CAACS,KAAK,CAAC,CAAC;EACtC,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,MAAMM,aAAa,GAAGlB,WAAW,CAC9BmB,SAAsC,IAAI;IACzCJ,aAAa,CAACI,SAAgB,CAAC;IAC/B,IAAI,OAAON,QAAQ,KAAK,UAAU,EAAE;MAClC,IAAIM,SAAS,KAAKX,SAAS,EAAE;QAC3BK,QAAQ,CAAC,EAAE,CAAC;OACb,MAAM,IAAI,OAAOV,cAAc,CAACgB,SAAS,CAAC,KAAK,QAAQ,EAAE;QACxDN,QAAQ,CAACV,cAAc,CAACgB,SAAS,CAAW,CAAC;;;EAGnD,CAAC,EACD,CAACN,QAAQ,CAAC,CACX;EAED,OACEjB,KAAA,CAAAwB,aAAA,CAAClB,YAAY;IACXmB,KAAK,EAAE;MAAEC,KAAK,EAAE;IAAM,CAAE;IACxBC,IAAI,EAAC,OAAO;IACZZ,WAAW,EAAEA,WAAW;IACxBC,KAAK,EAAEE,UAAU;IACjBD,QAAQ,EAAEK,aAAa;IACvBR,QAAQ,EAAEA;EAAQ,EAClB;AAEN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}