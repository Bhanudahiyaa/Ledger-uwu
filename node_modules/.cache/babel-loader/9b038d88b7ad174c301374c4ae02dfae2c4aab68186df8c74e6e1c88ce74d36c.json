{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM, anchorTranslate, anchorType, applyAnchorClass, bindAll, isPC } from '@antv/l7-utils';\nimport { EventEmitter } from 'eventemitter3';\n\n//  marker 支持 dragger 未完成\nexport default class Marker extends EventEmitter {\n  // tslint:disable-next-line: no-empty\n  getMarkerLayerContainerSize() {}\n  constructor(option) {\n    super();\n    _defineProperty(this, \"markerOption\", void 0);\n    _defineProperty(this, \"popup\", void 0);\n    _defineProperty(this, \"mapsService\", void 0);\n    _defineProperty(this, \"lngLat\", void 0);\n    _defineProperty(this, \"scene\", void 0);\n    _defineProperty(this, \"added\", false);\n    _defineProperty(this, \"preLngLat\", {\n      lng: 0,\n      lat: 0\n    });\n    _defineProperty(this, \"onMarkerDragStart\", e => {\n      const mapContainer = this.mapsService.getContainer();\n      if (!mapContainer) {\n        return;\n      }\n      this.mapsService.setMapStatus({\n        dragEnable: false,\n        zoomEnable: false\n      });\n      const {\n        left: containerX,\n        top: containerY\n      } = mapContainer.getClientRects()[0];\n      const {\n        x: clickX,\n        y: clickY\n      } = e;\n      this.preLngLat = this.mapsService.containerToLngLat([clickX - containerX, clickY - containerY]);\n      this.mapsService.on('mousemove', this.onMarkerDragMove);\n      document.addEventListener('mouseup', this.onMarkerDragEnd);\n      this.emit('dragstart', this.lngLat);\n    });\n    _defineProperty(this, \"onMarkerDragMove\", e => {\n      // 适配不同底图，事件返回的数据名称不一致\n      const lngLat = e.lngLat || e.lnglat;\n      const {\n        lng: preLng,\n        lat: preLat\n      } = this.preLngLat;\n      const {\n        lng: curLng,\n        lat: curLat\n      } = lngLat;\n      const newLngLat = {\n        lng: this.lngLat.lng + curLng - preLng,\n        lat: this.lngLat.lat + curLat - preLat\n      };\n      this.setLnglat(newLngLat);\n      this.preLngLat = lngLat;\n      this.emit('dragging', newLngLat);\n    });\n    _defineProperty(this, \"onMarkerDragEnd\", () => {\n      this.mapsService.setMapStatus({\n        dragEnable: true,\n        zoomEnable: true\n      });\n      this.mapsService.off('mousemove', this.onMarkerDragMove);\n      document.removeEventListener('mouseup', this.onMarkerDragEnd);\n      this.emit('dragend', this.lngLat);\n    });\n    _defineProperty(this, \"eventHandle\", e => {\n      this.polyfillEvent(e);\n      this.emit(e.type, {\n        target: e,\n        data: this.markerOption.extData,\n        lngLat: this.lngLat\n      });\n    });\n    /**\n     * 高德 2.x 使用了 fastClick.js 避免延迟，导致 IOS 移动端的 click 事件不会正常触发，需要手动触发\n     * @param e\n     */\n    _defineProperty(this, \"touchStartTime\", void 0);\n    this.markerOption = _objectSpread(_objectSpread({}, this.getDefault()), option);\n    bindAll(['update', 'onMove', 'onMapClick', 'updatePositionWhenZoom'], this);\n    this.init();\n  }\n  getDefault() {\n    return {\n      element: undefined,\n      // DOM element\n      anchor: anchorType.BOTTOM,\n      offsets: [0, 0],\n      color: '#5B8FF9',\n      draggable: false,\n      overflowHide: true\n    };\n  }\n  addTo(scene) {\n    this.scene = scene;\n    this.mapsService = scene.mapService;\n    const {\n      element\n    } = this.markerOption;\n    this.mapsService.getMarkerContainer().appendChild(element);\n    this.registerMarkerEvent(element);\n    this.mapsService.on('camerachange', this.update); // 注册高德1.x 的地图事件监听\n    this.update();\n    this.updateDraggable();\n    this.added = true;\n    this.emit('added');\n    return this;\n  }\n  remove() {\n    if (this.mapsService) {\n      this.mapsService.off('click', this.onMapClick);\n      this.mapsService.off('move', this.update);\n      this.mapsService.off('moveend', this.update);\n      this.mapsService.off('camerachange', this.update);\n    }\n    this.unRegisterMarkerEvent();\n    this.removeAllListeners();\n    const {\n      element\n    } = this.markerOption;\n    if (element) {\n      DOM.remove(element);\n    }\n    if (this.popup) {\n      this.popup.remove();\n    }\n    return this;\n  }\n  setLnglat(lngLat) {\n    this.lngLat = lngLat;\n    if (Array.isArray(lngLat)) {\n      this.lngLat = {\n        lng: lngLat[0],\n        lat: lngLat[1]\n      };\n    }\n    if (this.popup) {\n      this.popup.setLnglat(this.lngLat);\n    }\n    this.update();\n    return this;\n  }\n  getLnglat() {\n    return this.lngLat;\n  }\n  getElement() {\n    return this.markerOption.element;\n  }\n  setElement(el) {\n    if (!this.added) {\n      this.once('added', () => {\n        this.setElement(el);\n      });\n      return this;\n    }\n    const {\n      element\n    } = this.markerOption;\n    if (element) {\n      DOM.remove(element);\n    }\n    this.markerOption.element = el;\n    this.init();\n    this.mapsService.getMarkerContainer().appendChild(el);\n    this.registerMarkerEvent(el);\n    this.updateDraggable();\n    this.update();\n    return this;\n  }\n  openPopup() {\n    if (!this.added) {\n      this.once('added', () => {\n        this.openPopup();\n      });\n      return this;\n    }\n    const popup = this.popup;\n    if (!popup) {\n      return this;\n    }\n    if (!popup.isOpen()) {\n      popup.addTo(this.scene);\n    }\n    return this;\n  }\n  closePopup() {\n    if (!this.added) {\n      this.once('added', () => {\n        this.closePopup();\n      });\n    }\n    const popup = this.popup;\n    if (popup) {\n      popup.remove();\n    }\n    return this;\n  }\n  setPopup(popup) {\n    this.popup = popup;\n    if (this.lngLat) {\n      this.popup.setLnglat(this.lngLat);\n    }\n    return this;\n  }\n  togglePopup() {\n    const popup = this.popup;\n    if (!popup) {\n      return this;\n    } else if (popup.isOpen()) {\n      popup.remove();\n    } else {\n      popup.addTo(this.scene);\n    }\n    return this;\n  }\n  getPopup() {\n    return this.popup;\n  }\n  getOffset() {\n    return this.markerOption.offsets;\n  }\n  setDraggable(draggable) {\n    this.markerOption.draggable = draggable;\n    this.updateDraggable();\n  }\n  getDraggable() {\n    return this.markerOption.draggable;\n  }\n  getExtData() {\n    return this.markerOption.extData;\n  }\n  setExtData(data) {\n    this.markerOption.extData = data;\n  }\n  update() {\n    if (!this.mapsService) {\n      return;\n    }\n    const {\n      element,\n      anchor\n    } = this.markerOption;\n    this.updatePosition();\n    DOM.setTransform(element, `${anchorTranslate[anchor]}`);\n  }\n  //天地图在开始缩放时触发 更新目标位置时添加过渡效果\n  updatePositionWhenZoom(ev) {\n    if (!this.mapsService) {\n      return;\n    }\n    const {\n      element,\n      offsets\n    } = this.markerOption;\n    const {\n      lng,\n      lat\n    } = this.lngLat;\n    if (element) {\n      element.style.display = 'block';\n      element.style.whiteSpace = 'nowrap';\n      const {\n        containerHeight,\n        containerWidth,\n        bounds\n      } = this.getMarkerLayerContainerSize() || this.getCurrentContainerSize();\n      if (!bounds) {\n        return;\n      }\n      const map = ev.map;\n      const center = ev.center;\n      const zoom = ev.zoom;\n      const projectedCenter = map.DE(this.lngLat, zoom, center);\n      projectedCenter.x = Math.round(projectedCenter.x + offsets[0]);\n      projectedCenter.y = Math.round(projectedCenter.y - offsets[1]);\n      // 当前可视区域包含跨日界线\n      if (Math.abs(bounds[0][0]) > 180 || Math.abs(bounds[1][0]) > 180) {\n        if (projectedCenter.x > containerWidth) {\n          // 日界线右侧点左移\n          const newPos = this.mapsService.lngLatToContainer([lng - 360, lat]);\n          projectedCenter.x = newPos.x;\n        }\n        if (projectedCenter.x < 0) {\n          // 日界线左侧点右移\n          const newPos = this.mapsService.lngLatToContainer([lng + 360, lat]);\n          projectedCenter.x = newPos.x;\n        }\n      }\n      if (projectedCenter.x > containerWidth || projectedCenter.x < 0 || projectedCenter.y > containerHeight || projectedCenter.y < 0) {\n        element.style.display = 'none';\n      }\n      element.style.left = projectedCenter.x + 'px';\n      element.style.top = projectedCenter.y + 'px';\n      element.style.transition = 'left 0.25s cubic-bezier(0,0,0.25,1), top 0.25s cubic-bezier(0,0,0.25,1)';\n    }\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onMapClick(e) {\n    const {\n      element\n    } = this.markerOption;\n    if (this.popup && element) {\n      this.togglePopup();\n    }\n  }\n  getCurrentContainerSize() {\n    const container = this.mapsService.getContainer();\n    return {\n      containerHeight: (container === null || container === void 0 ? void 0 : container.scrollHeight) || 0,\n      containerWidth: (container === null || container === void 0 ? void 0 : container.scrollWidth) || 0,\n      bounds: this.mapsService.getBounds()\n    };\n  }\n  updateDraggable() {\n    const {\n      element\n    } = this.markerOption;\n    element === null || element === void 0 || element.removeEventListener('mousedown', this.onMarkerDragStart);\n    this.mapsService.off('mousemove', this.onMarkerDragMove);\n    document.removeEventListener('mouseup', this.onMarkerDragEnd);\n    if (this.markerOption.draggable) {\n      element === null || element === void 0 || element.addEventListener('mousedown', this.onMarkerDragStart);\n    }\n  }\n  updatePosition() {\n    if (!this.mapsService) {\n      return;\n    }\n    const {\n      element,\n      offsets\n    } = this.markerOption;\n    const {\n      lng,\n      lat\n    } = this.lngLat;\n    const pos = this.mapsService.lngLatToContainer([lng, lat]);\n    if (element) {\n      element.style.display = 'block';\n      element.style.whiteSpace = 'nowrap';\n      const {\n        containerHeight,\n        containerWidth,\n        bounds\n      } = this.getMarkerLayerContainerSize() || this.getCurrentContainerSize();\n      if (!bounds) {\n        return;\n      }\n      // 当前可视区域包含跨日界线\n      if (Math.abs(bounds[0][0]) > 180 || Math.abs(bounds[1][0]) > 180) {\n        if (pos.x > containerWidth) {\n          // 日界线右侧点左移\n          const newPos = this.mapsService.lngLatToContainer([lng - 360, lat]);\n          pos.x = newPos.x;\n        }\n        if (pos.x < 0) {\n          // 日界线左侧点右移\n          const newPos = this.mapsService.lngLatToContainer([lng + 360, lat]);\n          pos.x = newPos.x;\n        }\n      }\n      if (this.markerOption.overflowHide) {\n        // 不在当前可视区域内隐藏点\n        if (pos.x > containerWidth || pos.x < 0 || pos.y > containerHeight || pos.y < 0) {\n          element.style.display = 'none';\n        }\n      }\n      element.style.left = pos.x + offsets[0] + 'px';\n      element.style.top = pos.y - offsets[1] + 'px';\n    }\n  }\n  init() {\n    let {\n      element\n    } = this.markerOption;\n    const {\n      color,\n      anchor\n    } = this.markerOption;\n    if (!element) {\n      element = DOM.create('div');\n      this.markerOption.element = element;\n      const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      svg.setAttributeNS(null, 'display', 'block');\n      svg.setAttributeNS(null, 'height', '48px');\n      svg.setAttributeNS(null, 'width', '48px');\n      svg.setAttributeNS(null, 'viewBox', '0 0 1024 1024');\n      const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n      path.setAttributeNS(null, 'd', 'M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z');\n      path.setAttributeNS(null, 'fill', color);\n      svg.appendChild(path);\n      element.appendChild(svg);\n    }\n    DOM.addClass(element, 'l7-marker');\n    Object.keys(this.markerOption.style || {}).forEach(\n    // @ts-ignore\n    key => {\n      var _this$markerOption, _this$markerOption2;\n      const value = ((_this$markerOption = this.markerOption) === null || _this$markerOption === void 0 ? void 0 : _this$markerOption.style) && ((_this$markerOption2 = this.markerOption) === null || _this$markerOption2 === void 0 ? void 0 : _this$markerOption2.style[key]);\n      if (element) {\n        // @ts-ignore\n        element.style[key] = value;\n      }\n    });\n    applyAnchorClass(element, anchor, 'marker');\n  }\n  registerMarkerEvent(element) {\n    element.addEventListener('click', this.onMapClick);\n    element.addEventListener('mousemove', this.eventHandle);\n    element.addEventListener('click', this.eventHandle);\n    element.addEventListener('mousedown', this.eventHandle);\n    element.addEventListener('mouseup', this.eventHandle);\n    element.addEventListener('dblclick', this.eventHandle);\n    element.addEventListener('contextmenu', this.eventHandle);\n    element.addEventListener('mouseover', this.eventHandle);\n    element.addEventListener('mouseout', this.eventHandle);\n    element.addEventListener('touchstart', this.eventHandle);\n    element.addEventListener('touchend', this.eventHandle);\n  }\n  unRegisterMarkerEvent() {\n    const element = this.getElement();\n    element.removeEventListener('click', this.onMapClick);\n    element.removeEventListener('mousemove', this.eventHandle);\n    element.removeEventListener('click', this.eventHandle);\n    element.removeEventListener('mousedown', this.eventHandle);\n    element.removeEventListener('mouseup', this.eventHandle);\n    element.removeEventListener('dblclick', this.eventHandle);\n    element.removeEventListener('contextmenu', this.eventHandle);\n    element.removeEventListener('mouseover', this.eventHandle);\n    element.removeEventListener('mouseout', this.eventHandle);\n    element.removeEventListener('touchstart', this.eventHandle);\n    element.removeEventListener('touchend', this.eventHandle);\n  }\n  polyfillEvent(e) {\n    if (!this.mapsService || this.mapsService.getType() !== 'amap') {\n      return;\n    }\n    if (!isPC()) {\n      if (e.type === 'touchstart') {\n        this.touchStartTime = Date.now();\n      }\n      if (e.type === 'touchend' && Date.now() - this.touchStartTime < 300) {\n        this.emit('click', {\n          target: e,\n          data: this.markerOption.extData,\n          lngLat: this.lngLat\n        });\n      }\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  addDragHandler(e) {\n    return null;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onUp(e) {\n    throw new Error('Method not implemented.');\n  }\n}","map":{"version":3,"names":["_objectSpread","_defineProperty","DOM","anchorTranslate","anchorType","applyAnchorClass","bindAll","isPC","EventEmitter","Marker","getMarkerLayerContainerSize","constructor","option","lng","lat","e","mapContainer","mapsService","getContainer","setMapStatus","dragEnable","zoomEnable","left","containerX","top","containerY","getClientRects","x","clickX","y","clickY","preLngLat","containerToLngLat","on","onMarkerDragMove","document","addEventListener","onMarkerDragEnd","emit","lngLat","lnglat","preLng","preLat","curLng","curLat","newLngLat","setLnglat","off","removeEventListener","polyfillEvent","type","target","data","markerOption","extData","getDefault","init","element","undefined","anchor","BOTTOM","offsets","color","draggable","overflowHide","addTo","scene","mapService","getMarkerContainer","appendChild","registerMarkerEvent","update","updateDraggable","added","remove","onMapClick","unRegisterMarkerEvent","removeAllListeners","popup","Array","isArray","getLnglat","getElement","setElement","el","once","openPopup","isOpen","closePopup","setPopup","togglePopup","getPopup","getOffset","setDraggable","getDraggable","getExtData","setExtData","updatePosition","setTransform","updatePositionWhenZoom","ev","style","display","whiteSpace","containerHeight","containerWidth","bounds","getCurrentContainerSize","map","center","zoom","projectedCenter","DE","Math","round","abs","newPos","lngLatToContainer","transition","container","scrollHeight","scrollWidth","getBounds","onMarkerDragStart","pos","create","svg","createElementNS","setAttributeNS","path","addClass","Object","keys","forEach","key","_this$markerOption","_this$markerOption2","value","eventHandle","getType","touchStartTime","Date","now","addDragHandler","onUp","Error"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-component/es/marker.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM, anchorTranslate, anchorType, applyAnchorClass, bindAll, isPC } from '@antv/l7-utils';\nimport { EventEmitter } from 'eventemitter3';\n\n//  marker 支持 dragger 未完成\nexport default class Marker extends EventEmitter {\n  // tslint:disable-next-line: no-empty\n  getMarkerLayerContainerSize() {}\n  constructor(option) {\n    super();\n    _defineProperty(this, \"markerOption\", void 0);\n    _defineProperty(this, \"popup\", void 0);\n    _defineProperty(this, \"mapsService\", void 0);\n    _defineProperty(this, \"lngLat\", void 0);\n    _defineProperty(this, \"scene\", void 0);\n    _defineProperty(this, \"added\", false);\n    _defineProperty(this, \"preLngLat\", {\n      lng: 0,\n      lat: 0\n    });\n    _defineProperty(this, \"onMarkerDragStart\", e => {\n      const mapContainer = this.mapsService.getContainer();\n      if (!mapContainer) {\n        return;\n      }\n      this.mapsService.setMapStatus({\n        dragEnable: false,\n        zoomEnable: false\n      });\n      const {\n        left: containerX,\n        top: containerY\n      } = mapContainer.getClientRects()[0];\n      const {\n        x: clickX,\n        y: clickY\n      } = e;\n      this.preLngLat = this.mapsService.containerToLngLat([clickX - containerX, clickY - containerY]);\n      this.mapsService.on('mousemove', this.onMarkerDragMove);\n      document.addEventListener('mouseup', this.onMarkerDragEnd);\n      this.emit('dragstart', this.lngLat);\n    });\n    _defineProperty(this, \"onMarkerDragMove\", e => {\n      // 适配不同底图，事件返回的数据名称不一致\n      const lngLat = e.lngLat || e.lnglat;\n      const {\n        lng: preLng,\n        lat: preLat\n      } = this.preLngLat;\n      const {\n        lng: curLng,\n        lat: curLat\n      } = lngLat;\n      const newLngLat = {\n        lng: this.lngLat.lng + curLng - preLng,\n        lat: this.lngLat.lat + curLat - preLat\n      };\n      this.setLnglat(newLngLat);\n      this.preLngLat = lngLat;\n      this.emit('dragging', newLngLat);\n    });\n    _defineProperty(this, \"onMarkerDragEnd\", () => {\n      this.mapsService.setMapStatus({\n        dragEnable: true,\n        zoomEnable: true\n      });\n      this.mapsService.off('mousemove', this.onMarkerDragMove);\n      document.removeEventListener('mouseup', this.onMarkerDragEnd);\n      this.emit('dragend', this.lngLat);\n    });\n    _defineProperty(this, \"eventHandle\", e => {\n      this.polyfillEvent(e);\n      this.emit(e.type, {\n        target: e,\n        data: this.markerOption.extData,\n        lngLat: this.lngLat\n      });\n    });\n    /**\n     * 高德 2.x 使用了 fastClick.js 避免延迟，导致 IOS 移动端的 click 事件不会正常触发，需要手动触发\n     * @param e\n     */\n    _defineProperty(this, \"touchStartTime\", void 0);\n    this.markerOption = _objectSpread(_objectSpread({}, this.getDefault()), option);\n    bindAll(['update', 'onMove', 'onMapClick', 'updatePositionWhenZoom'], this);\n    this.init();\n  }\n  getDefault() {\n    return {\n      element: undefined,\n      // DOM element\n      anchor: anchorType.BOTTOM,\n      offsets: [0, 0],\n      color: '#5B8FF9',\n      draggable: false,\n      overflowHide: true\n    };\n  }\n  addTo(scene) {\n    this.scene = scene;\n    this.mapsService = scene.mapService;\n    const {\n      element\n    } = this.markerOption;\n    this.mapsService.getMarkerContainer().appendChild(element);\n    this.registerMarkerEvent(element);\n    this.mapsService.on('camerachange', this.update); // 注册高德1.x 的地图事件监听\n    this.update();\n    this.updateDraggable();\n    this.added = true;\n    this.emit('added');\n    return this;\n  }\n  remove() {\n    if (this.mapsService) {\n      this.mapsService.off('click', this.onMapClick);\n      this.mapsService.off('move', this.update);\n      this.mapsService.off('moveend', this.update);\n      this.mapsService.off('camerachange', this.update);\n    }\n    this.unRegisterMarkerEvent();\n    this.removeAllListeners();\n    const {\n      element\n    } = this.markerOption;\n    if (element) {\n      DOM.remove(element);\n    }\n    if (this.popup) {\n      this.popup.remove();\n    }\n    return this;\n  }\n  setLnglat(lngLat) {\n    this.lngLat = lngLat;\n    if (Array.isArray(lngLat)) {\n      this.lngLat = {\n        lng: lngLat[0],\n        lat: lngLat[1]\n      };\n    }\n    if (this.popup) {\n      this.popup.setLnglat(this.lngLat);\n    }\n    this.update();\n    return this;\n  }\n  getLnglat() {\n    return this.lngLat;\n  }\n  getElement() {\n    return this.markerOption.element;\n  }\n  setElement(el) {\n    if (!this.added) {\n      this.once('added', () => {\n        this.setElement(el);\n      });\n      return this;\n    }\n    const {\n      element\n    } = this.markerOption;\n    if (element) {\n      DOM.remove(element);\n    }\n    this.markerOption.element = el;\n    this.init();\n    this.mapsService.getMarkerContainer().appendChild(el);\n    this.registerMarkerEvent(el);\n    this.updateDraggable();\n    this.update();\n    return this;\n  }\n  openPopup() {\n    if (!this.added) {\n      this.once('added', () => {\n        this.openPopup();\n      });\n      return this;\n    }\n    const popup = this.popup;\n    if (!popup) {\n      return this;\n    }\n    if (!popup.isOpen()) {\n      popup.addTo(this.scene);\n    }\n    return this;\n  }\n  closePopup() {\n    if (!this.added) {\n      this.once('added', () => {\n        this.closePopup();\n      });\n    }\n    const popup = this.popup;\n    if (popup) {\n      popup.remove();\n    }\n    return this;\n  }\n  setPopup(popup) {\n    this.popup = popup;\n    if (this.lngLat) {\n      this.popup.setLnglat(this.lngLat);\n    }\n    return this;\n  }\n  togglePopup() {\n    const popup = this.popup;\n    if (!popup) {\n      return this;\n    } else if (popup.isOpen()) {\n      popup.remove();\n    } else {\n      popup.addTo(this.scene);\n    }\n    return this;\n  }\n  getPopup() {\n    return this.popup;\n  }\n  getOffset() {\n    return this.markerOption.offsets;\n  }\n  setDraggable(draggable) {\n    this.markerOption.draggable = draggable;\n    this.updateDraggable();\n  }\n  getDraggable() {\n    return this.markerOption.draggable;\n  }\n  getExtData() {\n    return this.markerOption.extData;\n  }\n  setExtData(data) {\n    this.markerOption.extData = data;\n  }\n  update() {\n    if (!this.mapsService) {\n      return;\n    }\n    const {\n      element,\n      anchor\n    } = this.markerOption;\n    this.updatePosition();\n    DOM.setTransform(element, `${anchorTranslate[anchor]}`);\n  }\n  //天地图在开始缩放时触发 更新目标位置时添加过渡效果\n  updatePositionWhenZoom(ev) {\n    if (!this.mapsService) {\n      return;\n    }\n    const {\n      element,\n      offsets\n    } = this.markerOption;\n    const {\n      lng,\n      lat\n    } = this.lngLat;\n    if (element) {\n      element.style.display = 'block';\n      element.style.whiteSpace = 'nowrap';\n      const {\n        containerHeight,\n        containerWidth,\n        bounds\n      } = this.getMarkerLayerContainerSize() || this.getCurrentContainerSize();\n      if (!bounds) {\n        return;\n      }\n      const map = ev.map;\n      const center = ev.center;\n      const zoom = ev.zoom;\n      const projectedCenter = map.DE(this.lngLat, zoom, center);\n      projectedCenter.x = Math.round(projectedCenter.x + offsets[0]);\n      projectedCenter.y = Math.round(projectedCenter.y - offsets[1]);\n      // 当前可视区域包含跨日界线\n      if (Math.abs(bounds[0][0]) > 180 || Math.abs(bounds[1][0]) > 180) {\n        if (projectedCenter.x > containerWidth) {\n          // 日界线右侧点左移\n          const newPos = this.mapsService.lngLatToContainer([lng - 360, lat]);\n          projectedCenter.x = newPos.x;\n        }\n        if (projectedCenter.x < 0) {\n          // 日界线左侧点右移\n          const newPos = this.mapsService.lngLatToContainer([lng + 360, lat]);\n          projectedCenter.x = newPos.x;\n        }\n      }\n      if (projectedCenter.x > containerWidth || projectedCenter.x < 0 || projectedCenter.y > containerHeight || projectedCenter.y < 0) {\n        element.style.display = 'none';\n      }\n      element.style.left = projectedCenter.x + 'px';\n      element.style.top = projectedCenter.y + 'px';\n      element.style.transition = 'left 0.25s cubic-bezier(0,0,0.25,1), top 0.25s cubic-bezier(0,0,0.25,1)';\n    }\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onMapClick(e) {\n    const {\n      element\n    } = this.markerOption;\n    if (this.popup && element) {\n      this.togglePopup();\n    }\n  }\n  getCurrentContainerSize() {\n    const container = this.mapsService.getContainer();\n    return {\n      containerHeight: (container === null || container === void 0 ? void 0 : container.scrollHeight) || 0,\n      containerWidth: (container === null || container === void 0 ? void 0 : container.scrollWidth) || 0,\n      bounds: this.mapsService.getBounds()\n    };\n  }\n  updateDraggable() {\n    const {\n      element\n    } = this.markerOption;\n    element === null || element === void 0 || element.removeEventListener('mousedown', this.onMarkerDragStart);\n    this.mapsService.off('mousemove', this.onMarkerDragMove);\n    document.removeEventListener('mouseup', this.onMarkerDragEnd);\n    if (this.markerOption.draggable) {\n      element === null || element === void 0 || element.addEventListener('mousedown', this.onMarkerDragStart);\n    }\n  }\n  updatePosition() {\n    if (!this.mapsService) {\n      return;\n    }\n    const {\n      element,\n      offsets\n    } = this.markerOption;\n    const {\n      lng,\n      lat\n    } = this.lngLat;\n    const pos = this.mapsService.lngLatToContainer([lng, lat]);\n    if (element) {\n      element.style.display = 'block';\n      element.style.whiteSpace = 'nowrap';\n      const {\n        containerHeight,\n        containerWidth,\n        bounds\n      } = this.getMarkerLayerContainerSize() || this.getCurrentContainerSize();\n      if (!bounds) {\n        return;\n      }\n      // 当前可视区域包含跨日界线\n      if (Math.abs(bounds[0][0]) > 180 || Math.abs(bounds[1][0]) > 180) {\n        if (pos.x > containerWidth) {\n          // 日界线右侧点左移\n          const newPos = this.mapsService.lngLatToContainer([lng - 360, lat]);\n          pos.x = newPos.x;\n        }\n        if (pos.x < 0) {\n          // 日界线左侧点右移\n          const newPos = this.mapsService.lngLatToContainer([lng + 360, lat]);\n          pos.x = newPos.x;\n        }\n      }\n      if (this.markerOption.overflowHide) {\n        // 不在当前可视区域内隐藏点\n        if (pos.x > containerWidth || pos.x < 0 || pos.y > containerHeight || pos.y < 0) {\n          element.style.display = 'none';\n        }\n      }\n      element.style.left = pos.x + offsets[0] + 'px';\n      element.style.top = pos.y - offsets[1] + 'px';\n    }\n  }\n  init() {\n    let {\n      element\n    } = this.markerOption;\n    const {\n      color,\n      anchor\n    } = this.markerOption;\n    if (!element) {\n      element = DOM.create('div');\n      this.markerOption.element = element;\n      const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      svg.setAttributeNS(null, 'display', 'block');\n      svg.setAttributeNS(null, 'height', '48px');\n      svg.setAttributeNS(null, 'width', '48px');\n      svg.setAttributeNS(null, 'viewBox', '0 0 1024 1024');\n      const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n      path.setAttributeNS(null, 'd', 'M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z');\n      path.setAttributeNS(null, 'fill', color);\n      svg.appendChild(path);\n      element.appendChild(svg);\n    }\n    DOM.addClass(element, 'l7-marker');\n    Object.keys(this.markerOption.style || {}).forEach(\n    // @ts-ignore\n    key => {\n      var _this$markerOption, _this$markerOption2;\n      const value = ((_this$markerOption = this.markerOption) === null || _this$markerOption === void 0 ? void 0 : _this$markerOption.style) && ((_this$markerOption2 = this.markerOption) === null || _this$markerOption2 === void 0 ? void 0 : _this$markerOption2.style[key]);\n      if (element) {\n        // @ts-ignore\n        element.style[key] = value;\n      }\n    });\n    applyAnchorClass(element, anchor, 'marker');\n  }\n  registerMarkerEvent(element) {\n    element.addEventListener('click', this.onMapClick);\n    element.addEventListener('mousemove', this.eventHandle);\n    element.addEventListener('click', this.eventHandle);\n    element.addEventListener('mousedown', this.eventHandle);\n    element.addEventListener('mouseup', this.eventHandle);\n    element.addEventListener('dblclick', this.eventHandle);\n    element.addEventListener('contextmenu', this.eventHandle);\n    element.addEventListener('mouseover', this.eventHandle);\n    element.addEventListener('mouseout', this.eventHandle);\n    element.addEventListener('touchstart', this.eventHandle);\n    element.addEventListener('touchend', this.eventHandle);\n  }\n  unRegisterMarkerEvent() {\n    const element = this.getElement();\n    element.removeEventListener('click', this.onMapClick);\n    element.removeEventListener('mousemove', this.eventHandle);\n    element.removeEventListener('click', this.eventHandle);\n    element.removeEventListener('mousedown', this.eventHandle);\n    element.removeEventListener('mouseup', this.eventHandle);\n    element.removeEventListener('dblclick', this.eventHandle);\n    element.removeEventListener('contextmenu', this.eventHandle);\n    element.removeEventListener('mouseover', this.eventHandle);\n    element.removeEventListener('mouseout', this.eventHandle);\n    element.removeEventListener('touchstart', this.eventHandle);\n    element.removeEventListener('touchend', this.eventHandle);\n  }\n  polyfillEvent(e) {\n    if (!this.mapsService || this.mapsService.getType() !== 'amap') {\n      return;\n    }\n    if (!isPC()) {\n      if (e.type === 'touchstart') {\n        this.touchStartTime = Date.now();\n      }\n      if (e.type === 'touchend' && Date.now() - this.touchStartTime < 300) {\n        this.emit('click', {\n          target: e,\n          data: this.markerOption.extData,\n          lngLat: this.lngLat\n        });\n      }\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  addDragHandler(e) {\n    return null;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  onUp(e) {\n    throw new Error('Method not implemented.');\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}