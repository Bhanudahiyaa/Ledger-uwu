{"ast":null,"code":"import 'reflect-metadata';\n/** Application 扩展依赖 */\nimport { HookConfig } from './config';\nimport { HookRegistry } from './hook-registry';\nimport { Contribution, Module } from 'mana-syringe';\nimport { RuntimeContribution } from './contributions/default';\nimport { GraphEventContribution } from './contributions/graph';\nimport { IHookContribution } from './interface';\n/** 依赖扩展模块，必须要加载 */\nconst createModule = config => {\n  return Module(register => {\n    /** 注册 IGraphHookContribution 成为一个新扩展点 */\n    Contribution.register(register, IHookContribution);\n    /** 扩展 runtime hook */\n    register(RuntimeContribution);\n    /** 扩展 graph event hook */\n    register(GraphEventContribution);\n    /** 注册 HookRegistry 到 IFrontendApplicationContribution */\n    /** 注册 HookRegistry */\n    register(HookRegistry);\n    /** 注册 XFlowHookConfig */\n    register(HookConfig, {\n      useValue: config\n    });\n  });\n};\nexport { HookRegistry, createModule, IHookContribution, HookConfig as XFlowHookConfig };","map":{"version":3,"names":["HookConfig","HookRegistry","Contribution","Module","RuntimeContribution","GraphEventContribution","IHookContribution","createModule","config","register","useValue","XFlowHookConfig"],"sources":["../../src/hooks/module.ts"],"sourcesContent":[null],"mappings":"AAAA,OAAO,kBAAkB;AACzB;AACA,SAASA,UAAU,QAAQ,UAAU;AACrC,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,YAAY,EAAEC,MAAM,QAAQ,cAAc;AACnD,SAASC,mBAAmB,QAAQ,yBAAyB;AAC7D,SAASC,sBAAsB,QAAQ,uBAAuB;AAC9D,SAASC,iBAAiB,QAAQ,aAAa;AAE/C;AACA,MAAMC,YAAY,GAAIC,MAAkB,IAAI;EAC1C,OAAOL,MAAM,CAACM,QAAQ,IAAG;IACvB;IACAP,YAAY,CAACO,QAAQ,CAACA,QAAQ,EAAEH,iBAAiB,CAAC;IAClD;IACAG,QAAQ,CAACL,mBAAmB,CAAC;IAC7B;IACAK,QAAQ,CAACJ,sBAAsB,CAAC;IAChC;IACA;IACAI,QAAQ,CAACR,YAAY,CAAC;IACtB;IACAQ,QAAQ,CAACT,UAAU,EAAE;MAAEU,QAAQ,EAAEF;IAAM,CAAE,CAAC;EAC5C,CAAC,CAAC;AACJ,CAAC;AAED,SAASP,YAAY,EAAEM,YAAY,EAAED,iBAAiB,EAAEN,UAAU,IAAIW,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}