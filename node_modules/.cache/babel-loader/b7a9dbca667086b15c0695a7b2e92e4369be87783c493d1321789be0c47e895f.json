{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../core/BaseLayer\";\nimport EarthAtomSphereModel from \"./models/atmosphere\";\nimport BaseEarthModel from \"./models/base\";\nimport EarthBloomSphereModel from \"./models/bloomsphere\";\nconst EarthModels = {\n  base: BaseEarthModel,\n  atomSphere: EarthAtomSphereModel,\n  bloomSphere: EarthBloomSphereModel\n};\nconst earthLayerTypes = ['base', 'atomSphere', 'bloomSphere'];\nexport default class EarthLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'EarthLayer');\n    _defineProperty(this, \"defaultSourceConfig\", {\n      data: [],\n      options: {\n        parser: {\n          type: 'json'\n        }\n      }\n    });\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const shape = _this.getModelType();\n      _this.layerModel = new EarthModels[shape](_this);\n      yield _this.initLayerModels();\n    })();\n  }\n\n  /**\n   * 设置当前地球时间\n   * @param time\n   */\n  setEarthTime(time) {\n    if (this.layerModel && this.layerModel.setEarthTime) {\n      this.layerModel.setEarthTime(time);\n    } else {\n      console.warn('请在 scene loaded 之后执行该方法！');\n    }\n  }\n  getModelType() {\n    var _shapeAttribute$scale;\n    const shapeAttribute = this.styleAttributeService.getLayerStyleAttribute('shape');\n    let shape = (shapeAttribute === null || shapeAttribute === void 0 || (_shapeAttribute$scale = shapeAttribute.scale) === null || _shapeAttribute$scale === void 0 ? void 0 : _shapeAttribute$scale.field) || 'base';\n    if (earthLayerTypes.indexOf(shape) < 0) {\n      shape = 'base';\n    }\n    return shape;\n  }\n}","map":{"version":3,"names":["_asyncToGenerator","_defineProperty","BaseLayer","EarthAtomSphereModel","BaseEarthModel","EarthBloomSphereModel","EarthModels","base","atomSphere","bloomSphere","earthLayerTypes","EarthLayer","constructor","args","data","options","parser","type","buildModels","_this","shape","getModelType","layerModel","initLayerModels","setEarthTime","time","console","warn","_shapeAttribute$scale","shapeAttribute","styleAttributeService","getLayerStyleAttribute","scale","field","indexOf"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-layers/es/earth/index.js"],"sourcesContent":["import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport BaseLayer from \"../core/BaseLayer\";\nimport EarthAtomSphereModel from \"./models/atmosphere\";\nimport BaseEarthModel from \"./models/base\";\nimport EarthBloomSphereModel from \"./models/bloomsphere\";\nconst EarthModels = {\n  base: BaseEarthModel,\n  atomSphere: EarthAtomSphereModel,\n  bloomSphere: EarthBloomSphereModel\n};\nconst earthLayerTypes = ['base', 'atomSphere', 'bloomSphere'];\nexport default class EarthLayer extends BaseLayer {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"type\", 'EarthLayer');\n    _defineProperty(this, \"defaultSourceConfig\", {\n      data: [],\n      options: {\n        parser: {\n          type: 'json'\n        }\n      }\n    });\n  }\n  buildModels() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const shape = _this.getModelType();\n      _this.layerModel = new EarthModels[shape](_this);\n      yield _this.initLayerModels();\n    })();\n  }\n\n  /**\n   * 设置当前地球时间\n   * @param time\n   */\n  setEarthTime(time) {\n    if (this.layerModel && this.layerModel.setEarthTime) {\n      this.layerModel.setEarthTime(time);\n    } else {\n      console.warn('请在 scene loaded 之后执行该方法！');\n    }\n  }\n  getModelType() {\n    var _shapeAttribute$scale;\n    const shapeAttribute = this.styleAttributeService.getLayerStyleAttribute('shape');\n    let shape = (shapeAttribute === null || shapeAttribute === void 0 || (_shapeAttribute$scale = shapeAttribute.scale) === null || _shapeAttribute$scale === void 0 ? void 0 : _shapeAttribute$scale.field) || 'base';\n    if (earthLayerTypes.indexOf(shape) < 0) {\n      shape = 'base';\n    }\n    return shape;\n  }\n}"],"mappings":"AAAA,OAAOA,iBAAiB,MAAM,6CAA6C;AAC3E,OAAOC,eAAe,MAAM,2CAA2C;AACvE,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,oBAAoB,MAAM,qBAAqB;AACtD,OAAOC,cAAc,MAAM,eAAe;AAC1C,OAAOC,qBAAqB,MAAM,sBAAsB;AACxD,MAAMC,WAAW,GAAG;EAClBC,IAAI,EAAEH,cAAc;EACpBI,UAAU,EAAEL,oBAAoB;EAChCM,WAAW,EAAEJ;AACf,CAAC;AACD,MAAMK,eAAe,GAAG,CAAC,MAAM,EAAE,YAAY,EAAE,aAAa,CAAC;AAC7D,eAAe,MAAMC,UAAU,SAAST,SAAS,CAAC;EAChDU,WAAWA,CAAC,GAAGC,IAAI,EAAE;IACnB,KAAK,CAAC,GAAGA,IAAI,CAAC;IACdZ,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE,YAAY,CAAC;IAC3CA,eAAe,CAAC,IAAI,EAAE,qBAAqB,EAAE;MAC3Ca,IAAI,EAAE,EAAE;MACRC,OAAO,EAAE;QACPC,MAAM,EAAE;UACNC,IAAI,EAAE;QACR;MACF;IACF,CAAC,CAAC;EACJ;EACAC,WAAWA,CAAA,EAAG;IACZ,IAAIC,KAAK,GAAG,IAAI;IAChB,OAAOnB,iBAAiB,CAAC,aAAa;MACpC,MAAMoB,KAAK,GAAGD,KAAK,CAACE,YAAY,CAAC,CAAC;MAClCF,KAAK,CAACG,UAAU,GAAG,IAAIhB,WAAW,CAACc,KAAK,CAAC,CAACD,KAAK,CAAC;MAChD,MAAMA,KAAK,CAACI,eAAe,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC,CAAC;EACN;;EAEA;AACF;AACA;AACA;EACEC,YAAYA,CAACC,IAAI,EAAE;IACjB,IAAI,IAAI,CAACH,UAAU,IAAI,IAAI,CAACA,UAAU,CAACE,YAAY,EAAE;MACnD,IAAI,CAACF,UAAU,CAACE,YAAY,CAACC,IAAI,CAAC;IACpC,CAAC,MAAM;MACLC,OAAO,CAACC,IAAI,CAAC,0BAA0B,CAAC;IAC1C;EACF;EACAN,YAAYA,CAAA,EAAG;IACb,IAAIO,qBAAqB;IACzB,MAAMC,cAAc,GAAG,IAAI,CAACC,qBAAqB,CAACC,sBAAsB,CAAC,OAAO,CAAC;IACjF,IAAIX,KAAK,GAAG,CAACS,cAAc,KAAK,IAAI,IAAIA,cAAc,KAAK,KAAK,CAAC,IAAI,CAACD,qBAAqB,GAAGC,cAAc,CAACG,KAAK,MAAM,IAAI,IAAIJ,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACK,KAAK,KAAK,MAAM;IAClN,IAAIvB,eAAe,CAACwB,OAAO,CAACd,KAAK,CAAC,GAAG,CAAC,EAAE;MACtCA,KAAK,GAAG,MAAM;IAChB;IACA,OAAOA,KAAK;EACd;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}