{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = value => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = value => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = x => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/index.ts\nimport { Logo } from \"@antv/l7-component\";\nimport { SceneEventList, createLayerContainer, createSceneContainer } from \"@antv/l7-core\";\nimport { MaskLayer, TileLayer } from \"@antv/l7-layers\";\nimport { DeviceRendererService, ReglRendererService } from \"@antv/l7-renderer\";\nimport { DOM, SceneConifg } from \"@antv/l7-utils\";\nimport BoxSelect, { BoxSelectEventList } from \"./boxSelect\";\nvar Scene = class {\n  constructor(config) {\n    const {\n      id,\n      map,\n      renderer = \"device\"\n    } = config;\n    const sceneContainer = createSceneContainer();\n    this.container = sceneContainer;\n    map.setContainer(sceneContainer, id);\n    if (renderer === \"regl\") {\n      sceneContainer.rendererService = new ReglRendererService();\n    } else {\n      sceneContainer.rendererService = new DeviceRendererService();\n    }\n    this.sceneService = sceneContainer.sceneService;\n    this.mapService = sceneContainer.mapService;\n    this.iconService = sceneContainer.iconService;\n    this.fontService = sceneContainer.fontService;\n    this.controlService = sceneContainer.controlService;\n    this.layerService = sceneContainer.layerService;\n    this.debugService = sceneContainer.debugService;\n    this.debugService.setEnable(config.debug);\n    this.markerService = sceneContainer.markerService;\n    this.interactionService = sceneContainer.interactionService;\n    this.popupService = sceneContainer.popupService;\n    this.boxSelect = new BoxSelect(this, {});\n    this.initComponent(id);\n    this.sceneService.init(config);\n    this.initControl();\n  }\n  get map() {\n    return this.mapService.map;\n  }\n  get loaded() {\n    return this.sceneService.loaded;\n  }\n  getServiceContainer() {\n    return this.container;\n  }\n  getSize() {\n    return this.mapService.getSize();\n  }\n  getMinZoom() {\n    return this.mapService.getMinZoom();\n  }\n  getMaxZoom() {\n    return this.mapService.getMaxZoom();\n  }\n  getType() {\n    return this.mapService.getType();\n  }\n  getMapContainer() {\n    return this.mapService.getMapContainer();\n  }\n  getMapCanvasContainer() {\n    return this.mapService.getMapCanvasContainer();\n  }\n  getMapService() {\n    return this.mapService;\n  }\n  /**\n   * 对外暴露 debugService\n   * @returns\n   */\n  getDebugService() {\n    return this.debugService;\n  }\n  exportPng(type) {\n    return __async(this, null, function* () {\n      return this.sceneService.exportPng(type);\n    });\n  }\n  exportMap(type) {\n    return __async(this, null, function* () {\n      return this.sceneService.exportPng(type);\n    });\n  }\n  registerRenderService(render) {\n    if (this.sceneService.loaded) {\n      const renderSerivce = new render(this);\n      renderSerivce.init();\n    } else {\n      this.on(\"loaded\", () => {\n        const renderSerivce = new render(this);\n        renderSerivce.init();\n      });\n    }\n  }\n  setBgColor(color) {\n    this.mapService.setBgColor(color);\n  }\n  addLayer(layer) {\n    if (this.loaded) {\n      this.preAddLayer(layer);\n    } else {\n      this.once(\"loaded\", () => {\n        this.preAddLayer(layer);\n      });\n    }\n  }\n  // layer 管理\n  preAddLayer(layer) {\n    const layerContainer = createLayerContainer(this.container);\n    layer.setContainer(layerContainer);\n    this.sceneService.addLayer(layer);\n    if (layer.inited) {\n      this.initTileLayer(layer);\n      const maskInstance = this.initMask(layer);\n      this.addMask(maskInstance, layer.id);\n    } else {\n      layer.on(\"inited\", () => {\n        this.initTileLayer(layer);\n        const maskInstance = this.initMask(layer);\n        this.addMask(maskInstance, layer.id);\n      });\n    }\n  }\n  // 兼容历史接口\n  initMask(layer) {\n    const {\n      mask,\n      maskfence,\n      maskColor = \"#000\",\n      maskOpacity = 0\n    } = layer.getLayerConfig();\n    if (!mask || !maskfence) {\n      return void 0;\n    }\n    const maskInstance = new MaskLayer().source(maskfence).shape(\"fill\").style({\n      color: maskColor,\n      opacity: maskOpacity\n    });\n    return maskInstance;\n  }\n  addMask(mask, layerId) {\n    if (!mask) {\n      return;\n    }\n    const parent = this.getLayer(layerId);\n    if (parent) {\n      const layerContainer = createLayerContainer(this.container);\n      mask.setContainer(layerContainer);\n      parent.addMaskLayer(mask);\n      this.sceneService.addMask(mask);\n    } else {\n      console.warn(\"parent layer not find!\");\n    }\n  }\n  getPickedLayer() {\n    return this.layerService.pickedLayerId;\n  }\n  getLayers() {\n    return this.layerService.getLayers();\n  }\n  getLayer(id) {\n    return this.layerService.getLayer(id);\n  }\n  getLayerByName(name) {\n    return this.layerService.getLayerByName(name);\n  }\n  removeLayer(layer, parentLayer) {\n    return __async(this, null, function* () {\n      yield this.layerService.remove(layer, parentLayer);\n    });\n  }\n  removeAllLayer() {\n    return __async(this, null, function* () {\n      yield this.layerService.removeAllLayers();\n    });\n  }\n  render() {\n    this.sceneService.render();\n  }\n  setEnableRender(flag) {\n    this.layerService.setEnableRender(flag);\n  }\n  // asset method\n  /**\n   * 为 layer/point/text 支持 iconfont 模式支持\n   * @param fontUnicode\n   * @param name\n   */\n  addIconFont(name, fontUnicode) {\n    this.fontService.addIconFont(name, fontUnicode);\n  }\n  addIconFonts(options) {\n    options.forEach(([name, fontUnicode]) => {\n      this.fontService.addIconFont(name, fontUnicode);\n    });\n  }\n  /**\n   * 用户自定义添加第三方字体\n   * @param fontFamily\n   * @param fontPath\n   */\n  addFontFace(fontFamily, fontPath) {\n    this.fontService.once(\"fontloaded\", e => {\n      this.emit(\"fontloaded\", e);\n    });\n    this.fontService.addFontFace(fontFamily, fontPath);\n  }\n  addImage(id, img) {\n    return __async(this, null, function* () {\n      yield this.iconService.addImage(id, img);\n    });\n  }\n  hasImage(id) {\n    return this.iconService.hasImage(id);\n  }\n  removeImage(id) {\n    this.iconService.removeImage(id);\n  }\n  addIconFontGlyphs(fontFamily, glyphs) {\n    this.fontService.addIconGlyphs(glyphs);\n  }\n  // map control method\n  addControl(ctr) {\n    this.controlService.addControl(ctr, this.container);\n  }\n  removeControl(ctr) {\n    this.controlService.removeControl(ctr);\n  }\n  getControlByName(name) {\n    return this.controlService.getControlByName(name);\n  }\n  // marker\n  addMarker(marker) {\n    this.markerService.addMarker(marker);\n  }\n  addMarkerLayer(layer) {\n    this.markerService.addMarkerLayer(layer);\n  }\n  removeMarkerLayer(layer) {\n    this.markerService.removeMarkerLayer(layer);\n  }\n  removeAllMarkers() {\n    this.markerService.removeAllMarkers();\n  }\n  removeAllMakers() {\n    console.warn(\"removeAllMakers 已废弃，请使用 removeAllMarkers\");\n    this.markerService.removeAllMarkers();\n  }\n  addPopup(popup) {\n    this.popupService.addPopup(popup);\n  }\n  removePopup(popup) {\n    this.popupService.removePopup(popup);\n  }\n  on(type, handle) {\n    var _a;\n    if (BoxSelectEventList.includes(type)) {\n      (_a = this.boxSelect) == null ? void 0 : _a.on(type, handle);\n    } else if (SceneEventList.includes(type)) {\n      this.sceneService.on(type, handle);\n    } else {\n      this.mapService.on(type, handle);\n    }\n  }\n  once(type, handle) {\n    var _a;\n    if (BoxSelectEventList.includes(type)) {\n      (_a = this.boxSelect) == null ? void 0 : _a.once(type, handle);\n    } else if (SceneEventList.includes(type)) {\n      this.sceneService.once(type, handle);\n    } else {\n      this.mapService.once(type, handle);\n    }\n  }\n  emit(type, handle) {\n    SceneEventList.indexOf(type) === -1 ? this.mapService.on(type, handle) : this.sceneService.emit(type, handle);\n  }\n  off(type, handle) {\n    var _a;\n    if (BoxSelectEventList.includes(type)) {\n      (_a = this.boxSelect) == null ? void 0 : _a.off(type, handle);\n    } else if (SceneEventList.includes(type)) {\n      this.sceneService.off(type, handle);\n    } else {\n      this.mapService.off(type, handle);\n    }\n  }\n  // implements IMapController\n  getZoom() {\n    return this.mapService.getZoom();\n  }\n  getCenter(options) {\n    return this.mapService.getCenter(options);\n  }\n  setCenter(center, options) {\n    return this.mapService.setCenter(center, options);\n  }\n  getPitch() {\n    return this.mapService.getPitch();\n  }\n  setPitch(pitch) {\n    return this.mapService.setPitch(pitch);\n  }\n  getRotation() {\n    return this.mapService.getRotation();\n  }\n  getBounds() {\n    return this.mapService.getBounds();\n  }\n  setRotation(rotation) {\n    this.mapService.setRotation(rotation);\n  }\n  zoomIn() {\n    this.mapService.zoomIn();\n  }\n  zoomOut() {\n    this.mapService.zoomOut();\n  }\n  panTo(p) {\n    this.mapService.panTo(p);\n  }\n  panBy(x, y) {\n    this.mapService.panBy(x, y);\n  }\n  getContainer() {\n    return this.mapService.getContainer();\n  }\n  setZoom(zoom) {\n    this.mapService.setZoom(zoom);\n  }\n  fitBounds(bound, options) {\n    const {\n      fitBoundsOptions,\n      animate\n    } = this.sceneService.getSceneConfig();\n    this.mapService.fitBounds(bound,\n    // 选项优先级：用户传入，覆盖animate直接配置，覆盖Scene配置项传入\n    options || __spreadProps(__spreadValues({}, fitBoundsOptions), {\n      animate\n    }));\n  }\n  setZoomAndCenter(zoom, center) {\n    this.mapService.setZoomAndCenter(zoom, center);\n  }\n  setMapStyle(style) {\n    this.mapService.setMapStyle(style);\n  }\n  setMapStatus(options) {\n    this.mapService.setMapStatus(options);\n  }\n  // conversion Method\n  pixelToLngLat(pixel) {\n    return this.mapService.pixelToLngLat(pixel);\n  }\n  lngLatToPixel(lnglat) {\n    return this.mapService.lngLatToPixel(lnglat);\n  }\n  containerToLngLat(pixel) {\n    return this.mapService.containerToLngLat(pixel);\n  }\n  lngLatToContainer(lnglat) {\n    return this.mapService.lngLatToContainer(lnglat);\n  }\n  destroy() {\n    this.sceneService.destroy();\n  }\n  registerPostProcessingPass(constructor) {\n    this.container.postProcessingPass.name = new constructor();\n  }\n  // 控制 shader pick 计算\n  enableShaderPick() {\n    this.layerService.enableShaderPick();\n  }\n  diasbleShaderPick() {\n    this.layerService.disableShaderPick();\n  }\n  enableBoxSelect(once = true) {\n    this.boxSelect.enable();\n    if (once) {\n      this.boxSelect.once(\"selectend\", () => {\n        this.disableBoxSelect();\n      });\n    }\n  }\n  disableBoxSelect() {\n    this.boxSelect.disable();\n  }\n  // 数据协议\n  static addProtocol(protocol, handler) {\n    SceneConifg.REGISTERED_PROTOCOLS[protocol] = handler;\n  }\n  static removeProtocol(protocol) {\n    delete SceneConifg.REGISTERED_PROTOCOLS[protocol];\n  }\n  getProtocol(protocol) {\n    return SceneConifg.REGISTERED_PROTOCOLS[protocol];\n  }\n  startAnimate() {\n    this.layerService.startAnimate();\n  }\n  stopAnimate() {\n    this.layerService.stopAnimate();\n  }\n  // get current point size info\n  getPointSizeRange() {\n    return this.sceneService.getPointSizeRange();\n  }\n  initComponent(id) {\n    this.controlService.init({\n      container: DOM.getContainer(id)\n    }, this.container);\n    this.markerService.init(this.container);\n    this.popupService.init(this.container);\n  }\n  initControl() {\n    const {\n      logoVisible,\n      logoPosition\n    } = this.sceneService.getSceneConfig();\n    if (logoVisible) {\n      this.addControl(new Logo({\n        position: logoPosition\n      }));\n    }\n  }\n  initTileLayer(layer) {\n    if (layer.getSource().isTile) {\n      layer.tileLayer = new TileLayer(layer);\n    }\n  }\n};\nexport { Scene };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","__async","__this","__arguments","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","throw","x","done","then","apply","Logo","SceneEventList","createLayerContainer","createSceneContainer","MaskLayer","TileLayer","DeviceRendererService","ReglRendererService","DOM","SceneConifg","BoxSelect","BoxSelectEventList","Scene","constructor","config","id","map","renderer","sceneContainer","container","setContainer","rendererService","sceneService","mapService","iconService","fontService","controlService","layerService","debugService","setEnable","debug","markerService","interactionService","popupService","boxSelect","initComponent","init","initControl","loaded","getServiceContainer","getSize","getMinZoom","getMaxZoom","getType","getMapContainer","getMapCanvasContainer","getMapService","getDebugService","exportPng","type","exportMap","registerRenderService","render","renderSerivce","on","setBgColor","color","addLayer","layer","preAddLayer","once","layerContainer","inited","initTileLayer","maskInstance","initMask","addMask","mask","maskfence","maskColor","maskOpacity","getLayerConfig","source","shape","style","opacity","layerId","parent","getLayer","addMaskLayer","console","warn","getPickedLayer","pickedLayerId","getLayers","getLayerByName","name","removeLayer","parentLayer","remove","removeAllLayer","removeAllLayers","setEnableRender","flag","addIconFont","fontUnicode","addIconFonts","options","forEach","addFontFace","fontFamily","fontPath","emit","addImage","img","hasImage","removeImage","addIconFontGlyphs","glyphs","addIconGlyphs","addControl","ctr","removeControl","getControlByName","addMarker","marker","addMarkerLayer","removeMarkerLayer","removeAllMarkers","removeAllMakers","addPopup","popup","removePopup","handle","_a","includes","indexOf","off","getZoom","getCenter","setCenter","center","getPitch","setPitch","pitch","getRotation","getBounds","setRotation","rotation","zoomIn","zoomOut","panTo","p","panBy","y","getContainer","setZoom","zoom","fitBounds","bound","fitBoundsOptions","animate","getSceneConfig","setZoomAndCenter","setMapStyle","setMapStatus","pixelToLngLat","pixel","lngLatToPixel","lnglat","containerToLngLat","lngLatToContainer","destroy","registerPostProcessingPass","postProcessingPass","enableShaderPick","diasbleShaderPick","disableShaderPick","enableBoxSelect","enable","disableBoxSelect","disable","addProtocol","protocol","handler","REGISTERED_PROTOCOLS","removeProtocol","getProtocol","startAnimate","stopAnimate","getPointSizeRange","logoVisible","logoPosition","position","getSource","isTile","tileLayer"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-scene/es/index.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/index.ts\nimport { Logo } from \"@antv/l7-component\";\nimport { SceneEventList, createLayerContainer, createSceneContainer } from \"@antv/l7-core\";\nimport { MaskLayer, TileLayer } from \"@antv/l7-layers\";\nimport { DeviceRendererService, ReglRendererService } from \"@antv/l7-renderer\";\nimport { DOM, SceneConifg } from \"@antv/l7-utils\";\nimport BoxSelect, { BoxSelectEventList } from \"./boxSelect\";\nvar Scene = class {\n  constructor(config) {\n    const { id, map, renderer = \"device\" } = config;\n    const sceneContainer = createSceneContainer();\n    this.container = sceneContainer;\n    map.setContainer(sceneContainer, id);\n    if (renderer === \"regl\") {\n      sceneContainer.rendererService = new ReglRendererService();\n    } else {\n      sceneContainer.rendererService = new DeviceRendererService();\n    }\n    this.sceneService = sceneContainer.sceneService;\n    this.mapService = sceneContainer.mapService;\n    this.iconService = sceneContainer.iconService;\n    this.fontService = sceneContainer.fontService;\n    this.controlService = sceneContainer.controlService;\n    this.layerService = sceneContainer.layerService;\n    this.debugService = sceneContainer.debugService;\n    this.debugService.setEnable(config.debug);\n    this.markerService = sceneContainer.markerService;\n    this.interactionService = sceneContainer.interactionService;\n    this.popupService = sceneContainer.popupService;\n    this.boxSelect = new BoxSelect(this, {});\n    this.initComponent(id);\n    this.sceneService.init(config);\n    this.initControl();\n  }\n  get map() {\n    return this.mapService.map;\n  }\n  get loaded() {\n    return this.sceneService.loaded;\n  }\n  getServiceContainer() {\n    return this.container;\n  }\n  getSize() {\n    return this.mapService.getSize();\n  }\n  getMinZoom() {\n    return this.mapService.getMinZoom();\n  }\n  getMaxZoom() {\n    return this.mapService.getMaxZoom();\n  }\n  getType() {\n    return this.mapService.getType();\n  }\n  getMapContainer() {\n    return this.mapService.getMapContainer();\n  }\n  getMapCanvasContainer() {\n    return this.mapService.getMapCanvasContainer();\n  }\n  getMapService() {\n    return this.mapService;\n  }\n  /**\n   * 对外暴露 debugService\n   * @returns\n   */\n  getDebugService() {\n    return this.debugService;\n  }\n  exportPng(type) {\n    return __async(this, null, function* () {\n      return this.sceneService.exportPng(type);\n    });\n  }\n  exportMap(type) {\n    return __async(this, null, function* () {\n      return this.sceneService.exportPng(type);\n    });\n  }\n  registerRenderService(render) {\n    if (this.sceneService.loaded) {\n      const renderSerivce = new render(this);\n      renderSerivce.init();\n    } else {\n      this.on(\"loaded\", () => {\n        const renderSerivce = new render(this);\n        renderSerivce.init();\n      });\n    }\n  }\n  setBgColor(color) {\n    this.mapService.setBgColor(color);\n  }\n  addLayer(layer) {\n    if (this.loaded) {\n      this.preAddLayer(layer);\n    } else {\n      this.once(\"loaded\", () => {\n        this.preAddLayer(layer);\n      });\n    }\n  }\n  // layer 管理\n  preAddLayer(layer) {\n    const layerContainer = createLayerContainer(this.container);\n    layer.setContainer(layerContainer);\n    this.sceneService.addLayer(layer);\n    if (layer.inited) {\n      this.initTileLayer(layer);\n      const maskInstance = this.initMask(layer);\n      this.addMask(maskInstance, layer.id);\n    } else {\n      layer.on(\"inited\", () => {\n        this.initTileLayer(layer);\n        const maskInstance = this.initMask(layer);\n        this.addMask(maskInstance, layer.id);\n      });\n    }\n  }\n  // 兼容历史接口\n  initMask(layer) {\n    const { mask, maskfence, maskColor = \"#000\", maskOpacity = 0 } = layer.getLayerConfig();\n    if (!mask || !maskfence) {\n      return void 0;\n    }\n    const maskInstance = new MaskLayer().source(maskfence).shape(\"fill\").style({\n      color: maskColor,\n      opacity: maskOpacity\n    });\n    return maskInstance;\n  }\n  addMask(mask, layerId) {\n    if (!mask) {\n      return;\n    }\n    const parent = this.getLayer(layerId);\n    if (parent) {\n      const layerContainer = createLayerContainer(this.container);\n      mask.setContainer(layerContainer);\n      parent.addMaskLayer(mask);\n      this.sceneService.addMask(mask);\n    } else {\n      console.warn(\"parent layer not find!\");\n    }\n  }\n  getPickedLayer() {\n    return this.layerService.pickedLayerId;\n  }\n  getLayers() {\n    return this.layerService.getLayers();\n  }\n  getLayer(id) {\n    return this.layerService.getLayer(id);\n  }\n  getLayerByName(name) {\n    return this.layerService.getLayerByName(name);\n  }\n  removeLayer(layer, parentLayer) {\n    return __async(this, null, function* () {\n      yield this.layerService.remove(layer, parentLayer);\n    });\n  }\n  removeAllLayer() {\n    return __async(this, null, function* () {\n      yield this.layerService.removeAllLayers();\n    });\n  }\n  render() {\n    this.sceneService.render();\n  }\n  setEnableRender(flag) {\n    this.layerService.setEnableRender(flag);\n  }\n  // asset method\n  /**\n   * 为 layer/point/text 支持 iconfont 模式支持\n   * @param fontUnicode\n   * @param name\n   */\n  addIconFont(name, fontUnicode) {\n    this.fontService.addIconFont(name, fontUnicode);\n  }\n  addIconFonts(options) {\n    options.forEach(([name, fontUnicode]) => {\n      this.fontService.addIconFont(name, fontUnicode);\n    });\n  }\n  /**\n   * 用户自定义添加第三方字体\n   * @param fontFamily\n   * @param fontPath\n   */\n  addFontFace(fontFamily, fontPath) {\n    this.fontService.once(\"fontloaded\", (e) => {\n      this.emit(\"fontloaded\", e);\n    });\n    this.fontService.addFontFace(fontFamily, fontPath);\n  }\n  addImage(id, img) {\n    return __async(this, null, function* () {\n      yield this.iconService.addImage(id, img);\n    });\n  }\n  hasImage(id) {\n    return this.iconService.hasImage(id);\n  }\n  removeImage(id) {\n    this.iconService.removeImage(id);\n  }\n  addIconFontGlyphs(fontFamily, glyphs) {\n    this.fontService.addIconGlyphs(glyphs);\n  }\n  // map control method\n  addControl(ctr) {\n    this.controlService.addControl(ctr, this.container);\n  }\n  removeControl(ctr) {\n    this.controlService.removeControl(ctr);\n  }\n  getControlByName(name) {\n    return this.controlService.getControlByName(name);\n  }\n  // marker\n  addMarker(marker) {\n    this.markerService.addMarker(marker);\n  }\n  addMarkerLayer(layer) {\n    this.markerService.addMarkerLayer(layer);\n  }\n  removeMarkerLayer(layer) {\n    this.markerService.removeMarkerLayer(layer);\n  }\n  removeAllMarkers() {\n    this.markerService.removeAllMarkers();\n  }\n  removeAllMakers() {\n    console.warn(\"removeAllMakers 已废弃，请使用 removeAllMarkers\");\n    this.markerService.removeAllMarkers();\n  }\n  addPopup(popup) {\n    this.popupService.addPopup(popup);\n  }\n  removePopup(popup) {\n    this.popupService.removePopup(popup);\n  }\n  on(type, handle) {\n    var _a;\n    if (BoxSelectEventList.includes(type)) {\n      (_a = this.boxSelect) == null ? void 0 : _a.on(type, handle);\n    } else if (SceneEventList.includes(type)) {\n      this.sceneService.on(type, handle);\n    } else {\n      this.mapService.on(type, handle);\n    }\n  }\n  once(type, handle) {\n    var _a;\n    if (BoxSelectEventList.includes(type)) {\n      (_a = this.boxSelect) == null ? void 0 : _a.once(type, handle);\n    } else if (SceneEventList.includes(type)) {\n      this.sceneService.once(type, handle);\n    } else {\n      this.mapService.once(type, handle);\n    }\n  }\n  emit(type, handle) {\n    SceneEventList.indexOf(type) === -1 ? this.mapService.on(type, handle) : this.sceneService.emit(type, handle);\n  }\n  off(type, handle) {\n    var _a;\n    if (BoxSelectEventList.includes(type)) {\n      (_a = this.boxSelect) == null ? void 0 : _a.off(type, handle);\n    } else if (SceneEventList.includes(type)) {\n      this.sceneService.off(type, handle);\n    } else {\n      this.mapService.off(type, handle);\n    }\n  }\n  // implements IMapController\n  getZoom() {\n    return this.mapService.getZoom();\n  }\n  getCenter(options) {\n    return this.mapService.getCenter(options);\n  }\n  setCenter(center, options) {\n    return this.mapService.setCenter(center, options);\n  }\n  getPitch() {\n    return this.mapService.getPitch();\n  }\n  setPitch(pitch) {\n    return this.mapService.setPitch(pitch);\n  }\n  getRotation() {\n    return this.mapService.getRotation();\n  }\n  getBounds() {\n    return this.mapService.getBounds();\n  }\n  setRotation(rotation) {\n    this.mapService.setRotation(rotation);\n  }\n  zoomIn() {\n    this.mapService.zoomIn();\n  }\n  zoomOut() {\n    this.mapService.zoomOut();\n  }\n  panTo(p) {\n    this.mapService.panTo(p);\n  }\n  panBy(x, y) {\n    this.mapService.panBy(x, y);\n  }\n  getContainer() {\n    return this.mapService.getContainer();\n  }\n  setZoom(zoom) {\n    this.mapService.setZoom(zoom);\n  }\n  fitBounds(bound, options) {\n    const { fitBoundsOptions, animate } = this.sceneService.getSceneConfig();\n    this.mapService.fitBounds(\n      bound,\n      // 选项优先级：用户传入，覆盖animate直接配置，覆盖Scene配置项传入\n      options || __spreadProps(__spreadValues({}, fitBoundsOptions), {\n        animate\n      })\n    );\n  }\n  setZoomAndCenter(zoom, center) {\n    this.mapService.setZoomAndCenter(zoom, center);\n  }\n  setMapStyle(style) {\n    this.mapService.setMapStyle(style);\n  }\n  setMapStatus(options) {\n    this.mapService.setMapStatus(options);\n  }\n  // conversion Method\n  pixelToLngLat(pixel) {\n    return this.mapService.pixelToLngLat(pixel);\n  }\n  lngLatToPixel(lnglat) {\n    return this.mapService.lngLatToPixel(lnglat);\n  }\n  containerToLngLat(pixel) {\n    return this.mapService.containerToLngLat(pixel);\n  }\n  lngLatToContainer(lnglat) {\n    return this.mapService.lngLatToContainer(lnglat);\n  }\n  destroy() {\n    this.sceneService.destroy();\n  }\n  registerPostProcessingPass(constructor) {\n    this.container.postProcessingPass.name = new constructor();\n  }\n  // 控制 shader pick 计算\n  enableShaderPick() {\n    this.layerService.enableShaderPick();\n  }\n  diasbleShaderPick() {\n    this.layerService.disableShaderPick();\n  }\n  enableBoxSelect(once = true) {\n    this.boxSelect.enable();\n    if (once) {\n      this.boxSelect.once(\"selectend\", () => {\n        this.disableBoxSelect();\n      });\n    }\n  }\n  disableBoxSelect() {\n    this.boxSelect.disable();\n  }\n  // 数据协议\n  static addProtocol(protocol, handler) {\n    SceneConifg.REGISTERED_PROTOCOLS[protocol] = handler;\n  }\n  static removeProtocol(protocol) {\n    delete SceneConifg.REGISTERED_PROTOCOLS[protocol];\n  }\n  getProtocol(protocol) {\n    return SceneConifg.REGISTERED_PROTOCOLS[protocol];\n  }\n  startAnimate() {\n    this.layerService.startAnimate();\n  }\n  stopAnimate() {\n    this.layerService.stopAnimate();\n  }\n  // get current point size info\n  getPointSizeRange() {\n    return this.sceneService.getPointSizeRange();\n  }\n  initComponent(id) {\n    this.controlService.init(\n      {\n        container: DOM.getContainer(id)\n      },\n      this.container\n    );\n    this.markerService.init(this.container);\n    this.popupService.init(this.container);\n  }\n  initControl() {\n    const { logoVisible, logoPosition } = this.sceneService.getSceneConfig();\n    if (logoVisible) {\n      this.addControl(new Logo({ position: logoPosition }));\n    }\n  }\n  initTileLayer(layer) {\n    if (layer.getSource().isTile) {\n      layer.tileLayer = new TileLayer(layer);\n    }\n  }\n};\nexport {\n  Scene\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}