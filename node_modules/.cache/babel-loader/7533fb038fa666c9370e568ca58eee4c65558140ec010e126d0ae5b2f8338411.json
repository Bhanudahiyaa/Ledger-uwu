{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nconst _excluded = [\"id\", \"center\", \"zoom\", \"token\", \"mapInstance\", \"version\", \"mapSize\", \"minZoom\", \"maxZoom\"];\nimport { MapServiceEvent } from '@antv/l7-core';\nimport { DOM } from '@antv/l7-utils';\nimport { mat4, vec3 } from 'gl-matrix';\nimport Viewport from \"../lib/web-mercator-viewport\";\nimport BaseMapService from \"../utils/BaseMapService\";\nimport { toPaddingOptions } from \"../utils/utils\";\nimport BMapGLLoader from \"./bmapglloader\";\nfunction loadStyles(css, doc) {\n  var isMiniAli = typeof my !== 'undefined' && !!my && typeof my.showToast === 'function' && my.isFRM !== true;\n  var isWeChatMiniProgram = typeof wx !== 'undefined' && wx !== null && (typeof wx.request !== 'undefined' || typeof wx.miniProgram !== 'undefined');\n  if (isMiniAli || isWeChatMiniProgram) {\n    return;\n  }\n  if (!doc) doc = document;\n  if (!doc) {\n    return;\n  }\n  var head = doc.head || doc.getElementsByTagName('head')[0];\n  if (!head) {\n    head = doc.createElement('head');\n    var body = doc.body || doc.getElementsByTagName('body')[0];\n    if (body) {\n      body.parentNode.insertBefore(head, body);\n    } else {\n      doc.documentElement.appendChild(head);\n    }\n  }\n  var style = doc.createElement('style');\n  style.type = 'text/css';\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(doc.createTextNode(css));\n  }\n  head.appendChild(style);\n  return style;\n}\nloadStyles(`.BMap_cpyCtrl .anchorBL {\n  display: none !important;\n}\n\n.anchorBL {\n  display: none !important;\n}\n`);\nconst EventMap = {\n  mapmove: 'moving',\n  contextmenu: 'rightclick',\n  camerachange: 'update',\n  zoomchange: 'zoomend'\n};\nconst BMAP_API_KEY = 'zLhopYPPERGtpGOgimcdKcCimGRyyIsh';\nconst BMAP_VERSION = '1.0';\n\n// TODO: 基于抽象类 BaseMap 实现，补全缺失方法，解决类型问题\nexport default class BMapService extends BaseMapService {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"viewport\", void 0);\n    _defineProperty(this, \"styleConfig\", {\n      normal: []\n    });\n    _defineProperty(this, \"currentStyle\", 'normal');\n    // 事件回调代理\n    _defineProperty(this, \"evtCbProxyMap\", new Map());\n    _defineProperty(this, \"handleCameraChanged\", () => {\n      this.emit('mapchange');\n      const map = this.getMap();\n      const {\n        lng,\n        lat\n      } = map.getCenter();\n      const option = {\n        center: [lng, lat],\n        viewportHeight: map.getContainer().clientHeight,\n        viewportWidth: map.getContainer().clientWidth,\n        bearing: 360 - map.getHeading(),\n        pitch: map.getTilt(),\n        zoom: map.getZoom() - 1.75\n      };\n      this.viewport.syncWithMapCamera(option);\n      this.updateCoordinateSystemService();\n      this.cameraChangedCallback(this.viewport);\n    });\n  }\n  getMap() {\n    return this.map;\n  }\n  setBgColor(color) {\n    this.bgColor = color;\n  }\n  init() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.viewport = new Viewport();\n      const _this$config = _this.config,\n        {\n          id,\n          center = [121.30654632240122, 31.25744185633306],\n          zoom = 12,\n          token = BMAP_API_KEY,\n          mapInstance,\n          version = BMAP_VERSION,\n          mapSize = 10000,\n          minZoom = 0,\n          maxZoom = 21\n        } = _this$config,\n        rest = _objectWithoutProperties(_this$config, _excluded);\n      _this.viewport = new Viewport();\n      _this.version = version;\n      _this.simpleMapCoord.setSize(mapSize);\n      if (!(window.BMapGL || mapInstance)) {\n        yield BMapGLLoader.load({\n          key: token,\n          // 申请好的Web端开发者Key，首次调用 load 时必填\n          version: BMAP_VERSION // 指定要加载的 JSAPI 的gl版本，缺省时默认为 1.0\n        });\n      }\n      if (mapInstance) {\n        // @ts-ignore\n        _this.map = mapInstance;\n        _this.$mapContainer = _this.map.getContainer();\n        const point = new BMapGL.Point(center[0], center[1]);\n        // false，表示用户未执行centerAndZoom进行地图初始渲染\n        // @ts-ignore\n        if (!_this.map.isLoaded()) {\n          _this.map.centerAndZoom(point, zoom);\n        }\n        _this.initMapByConfig(_this.config);\n        _this.map.on('update', _this.handleCameraChanged);\n      } else {\n        const mapConstructorOptions = _objectSpread({\n          enableWheelZoom: true,\n          minZoom,\n          maxZoom\n        }, rest);\n        if (token === BMAP_API_KEY) {\n          console.warn(`%c${_this.configService.getSceneWarninfo('MapToken')}!`, 'color: #873bf4;font-weigh:900;font-size: 16px;');\n        }\n        if (!id) {\n          throw Error('No container id specified');\n        }\n        const mapContainer = DOM.getContainer(id);\n\n        // 存储控件等容器，百度地图实例会被卸载掉，所以实例化后需要重新挂载\n        // @ts-ignore\n        let mapChildNodes = [...mapContainer.childNodes];\n        // @ts-ignore\n        const map = new BMapGL.Map(mapContainer, mapConstructorOptions);\n        _this.$mapContainer = map.getContainer();\n        mapChildNodes.forEach(child => {\n          _this.$mapContainer.appendChild(child);\n        });\n        // @ts-ignore\n        mapChildNodes = null;\n\n        // @ts-ignore\n        _this.map = map;\n        const point = new BMapGL.Point(center[0], center[1]);\n        _this.map.centerAndZoom(point, zoom);\n        _this.initMapByConfig(_this.config);\n        // 监听地图相机事件\n        // @ts-ignore\n        map.on('update', _this.handleCameraChanged);\n      }\n    })();\n  }\n  destroy() {\n    this.getMap().destroy();\n  }\n  onCameraChanged(callback) {\n    this.cameraChangedCallback = callback;\n  }\n\n  // tslint:disable-next-line:no-empty\n  addMarkerContainer() {}\n  getMarkerContainer() {\n    return this.map.getPanes().markerPane;\n  }\n  getCanvasOverlays() {\n    var _this$getMap$getConta;\n    return (_this$getMap$getConta = this.getMap().getContainer().querySelector('#platform')) === null || _this$getMap$getConta === void 0 ? void 0 : _this$getMap$getConta.lastChild;\n  }\n\n  // MapEvent // 定义事件类型\n  on(type, handle) {\n    if (MapServiceEvent.indexOf(type) !== -1) {\n      this.eventEmitter.on(type, handle);\n      return;\n    }\n    let cbProxyMap = this.evtCbProxyMap.get(type);\n    if (!cbProxyMap) {\n      this.evtCbProxyMap.set(type, cbProxyMap = new Map());\n    }\n\n    // 忽略重复监听回调\n    if (cbProxyMap.get(handle)) {\n      return;\n    }\n\n    // 对事件对象的经纬度进行统一处理l7需要的\n    const handleProxy = (...args) => {\n      if (args[0] && typeof args[0] === 'object' && !args[0].lngLat && !args[0].lnglat) {\n        args[0].lngLat = args[0].latlng || args[0].latLng;\n      }\n      handle(...args);\n    };\n    cbProxyMap.set(handle, handleProxy);\n    this.map.on(EventMap[type] || type, handleProxy);\n  }\n  off(type, handle) {\n    var _this$evtCbProxyMap$g, _this$evtCbProxyMap$g2;\n    if (MapServiceEvent.indexOf(type) !== -1) {\n      this.eventEmitter.off(type, handle);\n      return;\n    }\n    const handleProxy = (_this$evtCbProxyMap$g = this.evtCbProxyMap.get(type)) === null || _this$evtCbProxyMap$g === void 0 ? void 0 : _this$evtCbProxyMap$g.get(handle);\n    if (!handleProxy) {\n      return;\n    }\n    (_this$evtCbProxyMap$g2 = this.evtCbProxyMap.get(type)) === null || _this$evtCbProxyMap$g2 === void 0 || _this$evtCbProxyMap$g2.delete(handle);\n    this.map.off(EventMap[type] || type, handleProxy);\n  }\n  once(type, handler) {\n    this.eventEmitter.once(type, handler);\n  }\n  getContainer() {\n    return this.getMap().getContainer();\n  }\n  getSize() {\n    const size = this.getMap().getSize();\n    return [size.width, size.height];\n  }\n  // 百度地图缩放等级\n  getMinZoom() {\n    return this.map.getMinZoom();\n  }\n  getMaxZoom() {\n    return this.map.getMaxZoom();\n  }\n\n  // get map params\n  getType() {\n    return 'bmap';\n  }\n  getZoom() {\n    return this.getMap().getZoom();\n  }\n  getCenter(options) {\n    if (options !== null && options !== void 0 && options.padding) {\n      const originCenter = this.getCenter();\n      const padding = toPaddingOptions(options.padding);\n      const px = this.lngLatToPixel([originCenter.lng, originCenter.lat]);\n      const offsetPx = [(padding.right - padding.left) / 2, (padding.bottom - padding.top) / 2];\n      const newCenter = this.pixelToLngLat([px.x - offsetPx[0], px.y - offsetPx[1]]);\n      return newCenter;\n    }\n    const center = this.map.getCenter();\n    return {\n      lng: center.lng,\n      lat: center.lat\n    };\n  }\n  getPitch() {\n    return this.getMap().getTilt();\n  }\n  getRotation() {\n    return 360 - this.getMap().getHeading();\n  }\n  getBounds() {\n    const bounds = this.getMap().getBounds();\n    const ne = bounds.getNorthEast();\n    const sw = bounds.getSouthWest();\n    return [[sw.lng, sw.lat], [ne.lng, ne.lat]];\n  }\n  getMapContainer() {\n    return this.getMap().getContainer();\n  }\n  getMapCanvasContainer() {\n    return this.getMap().getContainer();\n  }\n  getMapStyleConfig() {\n    return this.styleConfig;\n  }\n  getMapStyleValue(name) {\n    return this.styleConfig[name];\n  }\n  setMapStyle(style) {\n    if (this.currentStyle === style) {\n      return;\n    }\n    const styleVal = Array.isArray(style) ? style : this.styleConfig[style] || style;\n    if (Array.isArray(styleVal)) {\n      this.map.setMapStyleV2({\n        styleJson: styleVal\n      });\n      this.currentStyle = style;\n      return;\n    }\n    if (typeof styleVal === 'string') {\n      this.map.setMapStyleV2({\n        styleId: styleVal\n      });\n      this.currentStyle = style;\n      return;\n    }\n  }\n  setRotation(rotation) {\n    this.getMap().setHeading(rotation);\n  }\n  zoomIn() {\n    this.getMap().zoomIn();\n  }\n  zoomOut() {\n    this.getMap().zoomOut();\n  }\n  panTo(p) {\n    this.getMap().panTo(new BMapGL.Point(p[0], p[1]));\n  }\n  panBy(x, y) {\n    this.getMap().panBy(x, y);\n  }\n  fitBounds(bound, fitBoundsOptions) {\n    this.map.setViewport(bound.map(item => new BMapGL.Point(item[0], item[1])), fitBoundsOptions);\n  }\n  setZoomAndCenter(zoom, [lng, lat]) {\n    this.getMap().centerAndZoom(new BMapGL.Point(lng, lat), zoom + 1.75);\n  }\n  setCenter([lng, lat], options) {\n    let newCenter = {\n      lng,\n      lat\n    };\n    if (options !== null && options !== void 0 && options.padding) {\n      const padding = toPaddingOptions(options.padding);\n      const px = this.lngLatToPixel([lng, lat]);\n      const offsetPx = [(padding.right - padding.left) / 2, (padding.bottom - padding.top) / 2];\n      newCenter = this.pixelToLngLat([px.x + offsetPx[0], px.y + offsetPx[1]]);\n    }\n    this.getMap().setCenter(new BMapGL.Point(newCenter.lng, newCenter.lat));\n  }\n  setPitch(pitch) {\n    this.getMap().setTilt(pitch);\n  }\n  setZoom(zoom) {\n    this.getMap().setZoom(zoom);\n  }\n  setMapStatus(option) {\n    const map = this.getMap();\n    Object.keys(option).map(status => {\n      switch (status) {\n        case 'doubleClickZoom':\n          option.doubleClickZoom ? map.enableDoubleClickZoom() : map.disableDoubleClickZoom();\n          break;\n        case 'dragEnable':\n          option.dragEnable ? map.enableDragging() : map.disableDragging();\n          break;\n        case 'keyboardEnable':\n          option.keyboardEnable ? map.enableKeyboard() : map.disableKeyboard();\n          break;\n        case 'resizeEnable':\n          option.resizeEnable ? map.enableAutoResize() : map.disableAutoResize();\n          break;\n        case 'rotateEnable':\n          if (option.rotateEnable) {\n            map.enableRotate();\n            map.enableRotateGestures();\n          } else {\n            map.disableRotate();\n            map.disableRotateGestures();\n          }\n          break;\n        case 'zoomEnable':\n          if (option.zoomEnable) {\n            this.map.enableDoubleClickZoom();\n            this.map.enableScrollWheelZoom();\n            this.map.enablePinchToZoom();\n          } else {\n            this.map.disableDoubleClickZoom();\n            this.map.disableScrollWheelZoom();\n            this.map.disablePinchToZoom();\n          }\n          break;\n        case 'showIndoorMap':\n          map.setDisplayOptions({\n            indoor: !!option.showIndoorMap\n          });\n          break;\n        default:\n      }\n    });\n  }\n\n  // coordinates methods\n  meterToCoord(center, outer) {\n    const metreDistance = this.getMap().getDistance(new BMapGL.Point(...center), new BMapGL.Point(...outer));\n    const [x1, y1] = this.lngLatToCoord(center);\n    const [x2, y2] = this.lngLatToCoord(outer);\n    const coordDistance = Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n    return coordDistance / metreDistance;\n  }\n  pixelToLngLat([x, y]) {\n    const lngLat = this.getMap().pixelToPoint(new BMapGL.Pixel(x, y));\n    return {\n      lng: lngLat.lng,\n      lat: lngLat.lat\n    };\n  }\n  lngLatToPixel([lng, lat]) {\n    const pixel = this.getMap().pointToPixel(new BMapGL.Point(lng, lat));\n    return {\n      x: pixel.x,\n      y: pixel.y\n    };\n  }\n  containerToLngLat([x, y]) {\n    const point = this.getMap().overlayPixelToPoint(new BMapGL.Pixel(x, y));\n    return {\n      lng: point.lng,\n      lat: point.lat\n    };\n  }\n  lngLatToContainer([lng, lat]) {\n    const overlayPixel = this.getMap().pointToOverlayPixel(new BMapGL.Point(lng, lat));\n    return {\n      x: overlayPixel.x,\n      y: overlayPixel.y\n    };\n  }\n  lngLatToCoord([lng, lat]) {\n    const {\n      x,\n      y\n    } = this.getMap().pointToPixel(new BMapGL.Point(lng, lat));\n    return [x, -y];\n  }\n  lngLatToCoords(list) {\n    return list.map(item => Array.isArray(item[0]) ? this.lngLatToCoords(item) : this.lngLatToCoord(item));\n  }\n  lngLatToMercator([lng, lat], altitude) {\n    const [McLng, McLat] = this.getMap().lnglatToMercator(lng, lat);\n    return {\n      x: McLng,\n      y: McLat,\n      z: altitude\n    };\n  }\n  getModelMatrix(lnglat, altitude, rotate, scale = [1, 1, 1]) {\n    const flat = this.viewport.projectFlat(lnglat);\n    const modelMatrix = mat4.create();\n    mat4.translate(modelMatrix, modelMatrix, vec3.fromValues(flat[0], flat[1], altitude));\n    mat4.scale(modelMatrix, modelMatrix, vec3.fromValues(scale[0], scale[1], scale[2]));\n    mat4.rotateX(modelMatrix, modelMatrix, rotate[0]);\n    mat4.rotateY(modelMatrix, modelMatrix, rotate[1]);\n    mat4.rotateZ(modelMatrix, modelMatrix, rotate[2]);\n    return modelMatrix;\n  }\n  getCustomCoordCenter() {\n    throw new Error('Method not implemented.');\n  }\n  exportMap(type) {\n    const renderCanvas = this.getMap()._webglPainter._canvas;\n    const layersPng = type === 'jpg' ? renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/jpeg') : renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/png');\n    return layersPng;\n  }\n  hideLogo() {\n    const container = this.map.getContainer();\n    if (!container) {\n      return;\n    }\n    DOM.addClass(container, 'bmap-contianer--hide-logo');\n  }\n  initMapByConfig(config) {\n    const {\n      style,\n      pitch = 0,\n      rotation = 0,\n      logoVisible = true\n    } = config;\n    if (style) {\n      this.setMapStyle(style);\n    }\n    if (pitch) {\n      this.setPitch(pitch);\n    }\n    if (rotation) {\n      this.setRotation(rotation);\n    }\n    if (logoVisible === false) {\n      this.hideLogo();\n    }\n  }\n}","map":{"version":3,"names":["_objectSpread","_objectWithoutProperties","_asyncToGenerator","_defineProperty","_excluded","MapServiceEvent","DOM","mat4","vec3","Viewport","BaseMapService","toPaddingOptions","BMapGLLoader","loadStyles","css","doc","isMiniAli","my","showToast","isFRM","isWeChatMiniProgram","wx","request","miniProgram","document","head","getElementsByTagName","createElement","body","parentNode","insertBefore","documentElement","appendChild","style","type","styleSheet","cssText","createTextNode","EventMap","mapmove","contextmenu","camerachange","zoomchange","BMAP_API_KEY","BMAP_VERSION","BMapService","constructor","args","normal","Map","emit","map","getMap","lng","lat","getCenter","option","center","viewportHeight","getContainer","clientHeight","viewportWidth","clientWidth","bearing","getHeading","pitch","getTilt","zoom","getZoom","viewport","syncWithMapCamera","updateCoordinateSystemService","cameraChangedCallback","setBgColor","color","bgColor","init","_this","_this$config","config","id","token","mapInstance","version","mapSize","minZoom","maxZoom","rest","simpleMapCoord","setSize","window","BMapGL","load","key","$mapContainer","point","Point","isLoaded","centerAndZoom","initMapByConfig","on","handleCameraChanged","mapConstructorOptions","enableWheelZoom","console","warn","configService","getSceneWarninfo","Error","mapContainer","mapChildNodes","childNodes","forEach","child","destroy","onCameraChanged","callback","addMarkerContainer","getMarkerContainer","getPanes","markerPane","getCanvasOverlays","_this$getMap$getConta","querySelector","lastChild","handle","indexOf","eventEmitter","cbProxyMap","evtCbProxyMap","get","set","handleProxy","lngLat","lnglat","latlng","latLng","off","_this$evtCbProxyMap$g","_this$evtCbProxyMap$g2","delete","once","handler","getSize","size","width","height","getMinZoom","getMaxZoom","getType","options","padding","originCenter","px","lngLatToPixel","offsetPx","right","left","bottom","top","newCenter","pixelToLngLat","x","y","getPitch","getRotation","getBounds","bounds","ne","getNorthEast","sw","getSouthWest","getMapContainer","getMapCanvasContainer","getMapStyleConfig","styleConfig","getMapStyleValue","name","setMapStyle","currentStyle","styleVal","Array","isArray","setMapStyleV2","styleJson","styleId","setRotation","rotation","setHeading","zoomIn","zoomOut","panTo","p","panBy","fitBounds","bound","fitBoundsOptions","setViewport","item","setZoomAndCenter","setCenter","setPitch","setTilt","setZoom","setMapStatus","Object","keys","status","doubleClickZoom","enableDoubleClickZoom","disableDoubleClickZoom","dragEnable","enableDragging","disableDragging","keyboardEnable","enableKeyboard","disableKeyboard","resizeEnable","enableAutoResize","disableAutoResize","rotateEnable","enableRotate","enableRotateGestures","disableRotate","disableRotateGestures","zoomEnable","enableScrollWheelZoom","enablePinchToZoom","disableScrollWheelZoom","disablePinchToZoom","setDisplayOptions","indoor","showIndoorMap","meterToCoord","outer","metreDistance","getDistance","x1","y1","lngLatToCoord","x2","y2","coordDistance","Math","sqrt","pow","pixelToPoint","Pixel","pixel","pointToPixel","containerToLngLat","overlayPixelToPoint","lngLatToContainer","overlayPixel","pointToOverlayPixel","lngLatToCoords","list","lngLatToMercator","altitude","McLng","McLat","lnglatToMercator","z","getModelMatrix","rotate","scale","flat","projectFlat","modelMatrix","create","translate","fromValues","rotateX","rotateY","rotateZ","getCustomCoordCenter","exportMap","renderCanvas","_webglPainter","_canvas","layersPng","toDataURL","hideLogo","container","addClass","logoVisible"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-maps/es/bmap/map.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nconst _excluded = [\"id\", \"center\", \"zoom\", \"token\", \"mapInstance\", \"version\", \"mapSize\", \"minZoom\", \"maxZoom\"];\nimport { MapServiceEvent } from '@antv/l7-core';\nimport { DOM } from '@antv/l7-utils';\nimport { mat4, vec3 } from 'gl-matrix';\nimport Viewport from \"../lib/web-mercator-viewport\";\nimport BaseMapService from \"../utils/BaseMapService\";\nimport { toPaddingOptions } from \"../utils/utils\";\nimport BMapGLLoader from \"./bmapglloader\";\nfunction loadStyles(css, doc) {\n  var isMiniAli = typeof my !== 'undefined' && !!my && typeof my.showToast === 'function' && my.isFRM !== true;\n  var isWeChatMiniProgram = typeof wx !== 'undefined' && wx !== null && (typeof wx.request !== 'undefined' || typeof wx.miniProgram !== 'undefined');\n  if (isMiniAli || isWeChatMiniProgram) {\n    return;\n  }\n  if (!doc) doc = document;\n  if (!doc) {\n    return;\n  }\n  var head = doc.head || doc.getElementsByTagName('head')[0];\n  if (!head) {\n    head = doc.createElement('head');\n    var body = doc.body || doc.getElementsByTagName('body')[0];\n    if (body) {\n      body.parentNode.insertBefore(head, body);\n    } else {\n      doc.documentElement.appendChild(head);\n    }\n  }\n  var style = doc.createElement('style');\n  style.type = 'text/css';\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(doc.createTextNode(css));\n  }\n  head.appendChild(style);\n  return style;\n}\nloadStyles(`.BMap_cpyCtrl .anchorBL {\n  display: none !important;\n}\n\n.anchorBL {\n  display: none !important;\n}\n`);\nconst EventMap = {\n  mapmove: 'moving',\n  contextmenu: 'rightclick',\n  camerachange: 'update',\n  zoomchange: 'zoomend'\n};\nconst BMAP_API_KEY = 'zLhopYPPERGtpGOgimcdKcCimGRyyIsh';\nconst BMAP_VERSION = '1.0';\n\n// TODO: 基于抽象类 BaseMap 实现，补全缺失方法，解决类型问题\nexport default class BMapService extends BaseMapService {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"viewport\", void 0);\n    _defineProperty(this, \"styleConfig\", {\n      normal: []\n    });\n    _defineProperty(this, \"currentStyle\", 'normal');\n    // 事件回调代理\n    _defineProperty(this, \"evtCbProxyMap\", new Map());\n    _defineProperty(this, \"handleCameraChanged\", () => {\n      this.emit('mapchange');\n      const map = this.getMap();\n      const {\n        lng,\n        lat\n      } = map.getCenter();\n      const option = {\n        center: [lng, lat],\n        viewportHeight: map.getContainer().clientHeight,\n        viewportWidth: map.getContainer().clientWidth,\n        bearing: 360 - map.getHeading(),\n        pitch: map.getTilt(),\n        zoom: map.getZoom() - 1.75\n      };\n      this.viewport.syncWithMapCamera(option);\n      this.updateCoordinateSystemService();\n      this.cameraChangedCallback(this.viewport);\n    });\n  }\n  getMap() {\n    return this.map;\n  }\n  setBgColor(color) {\n    this.bgColor = color;\n  }\n  init() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.viewport = new Viewport();\n      const _this$config = _this.config,\n        {\n          id,\n          center = [121.30654632240122, 31.25744185633306],\n          zoom = 12,\n          token = BMAP_API_KEY,\n          mapInstance,\n          version = BMAP_VERSION,\n          mapSize = 10000,\n          minZoom = 0,\n          maxZoom = 21\n        } = _this$config,\n        rest = _objectWithoutProperties(_this$config, _excluded);\n      _this.viewport = new Viewport();\n      _this.version = version;\n      _this.simpleMapCoord.setSize(mapSize);\n      if (!(window.BMapGL || mapInstance)) {\n        yield BMapGLLoader.load({\n          key: token,\n          // 申请好的Web端开发者Key，首次调用 load 时必填\n          version: BMAP_VERSION // 指定要加载的 JSAPI 的gl版本，缺省时默认为 1.0\n        });\n      }\n      if (mapInstance) {\n        // @ts-ignore\n        _this.map = mapInstance;\n        _this.$mapContainer = _this.map.getContainer();\n        const point = new BMapGL.Point(center[0], center[1]);\n        // false，表示用户未执行centerAndZoom进行地图初始渲染\n        // @ts-ignore\n        if (!_this.map.isLoaded()) {\n          _this.map.centerAndZoom(point, zoom);\n        }\n        _this.initMapByConfig(_this.config);\n        _this.map.on('update', _this.handleCameraChanged);\n      } else {\n        const mapConstructorOptions = _objectSpread({\n          enableWheelZoom: true,\n          minZoom,\n          maxZoom\n        }, rest);\n        if (token === BMAP_API_KEY) {\n          console.warn(`%c${_this.configService.getSceneWarninfo('MapToken')}!`, 'color: #873bf4;font-weigh:900;font-size: 16px;');\n        }\n        if (!id) {\n          throw Error('No container id specified');\n        }\n        const mapContainer = DOM.getContainer(id);\n\n        // 存储控件等容器，百度地图实例会被卸载掉，所以实例化后需要重新挂载\n        // @ts-ignore\n        let mapChildNodes = [...mapContainer.childNodes];\n        // @ts-ignore\n        const map = new BMapGL.Map(mapContainer, mapConstructorOptions);\n        _this.$mapContainer = map.getContainer();\n        mapChildNodes.forEach(child => {\n          _this.$mapContainer.appendChild(child);\n        });\n        // @ts-ignore\n        mapChildNodes = null;\n\n        // @ts-ignore\n        _this.map = map;\n        const point = new BMapGL.Point(center[0], center[1]);\n        _this.map.centerAndZoom(point, zoom);\n        _this.initMapByConfig(_this.config);\n        // 监听地图相机事件\n        // @ts-ignore\n        map.on('update', _this.handleCameraChanged);\n      }\n    })();\n  }\n  destroy() {\n    this.getMap().destroy();\n  }\n  onCameraChanged(callback) {\n    this.cameraChangedCallback = callback;\n  }\n\n  // tslint:disable-next-line:no-empty\n  addMarkerContainer() {}\n  getMarkerContainer() {\n    return this.map.getPanes().markerPane;\n  }\n  getCanvasOverlays() {\n    var _this$getMap$getConta;\n    return (_this$getMap$getConta = this.getMap().getContainer().querySelector('#platform')) === null || _this$getMap$getConta === void 0 ? void 0 : _this$getMap$getConta.lastChild;\n  }\n\n  // MapEvent // 定义事件类型\n  on(type, handle) {\n    if (MapServiceEvent.indexOf(type) !== -1) {\n      this.eventEmitter.on(type, handle);\n      return;\n    }\n    let cbProxyMap = this.evtCbProxyMap.get(type);\n    if (!cbProxyMap) {\n      this.evtCbProxyMap.set(type, cbProxyMap = new Map());\n    }\n\n    // 忽略重复监听回调\n    if (cbProxyMap.get(handle)) {\n      return;\n    }\n\n    // 对事件对象的经纬度进行统一处理l7需要的\n    const handleProxy = (...args) => {\n      if (args[0] && typeof args[0] === 'object' && !args[0].lngLat && !args[0].lnglat) {\n        args[0].lngLat = args[0].latlng || args[0].latLng;\n      }\n      handle(...args);\n    };\n    cbProxyMap.set(handle, handleProxy);\n    this.map.on(EventMap[type] || type, handleProxy);\n  }\n  off(type, handle) {\n    var _this$evtCbProxyMap$g, _this$evtCbProxyMap$g2;\n    if (MapServiceEvent.indexOf(type) !== -1) {\n      this.eventEmitter.off(type, handle);\n      return;\n    }\n    const handleProxy = (_this$evtCbProxyMap$g = this.evtCbProxyMap.get(type)) === null || _this$evtCbProxyMap$g === void 0 ? void 0 : _this$evtCbProxyMap$g.get(handle);\n    if (!handleProxy) {\n      return;\n    }\n    (_this$evtCbProxyMap$g2 = this.evtCbProxyMap.get(type)) === null || _this$evtCbProxyMap$g2 === void 0 || _this$evtCbProxyMap$g2.delete(handle);\n    this.map.off(EventMap[type] || type, handleProxy);\n  }\n  once(type, handler) {\n    this.eventEmitter.once(type, handler);\n  }\n  getContainer() {\n    return this.getMap().getContainer();\n  }\n  getSize() {\n    const size = this.getMap().getSize();\n    return [size.width, size.height];\n  }\n  // 百度地图缩放等级\n  getMinZoom() {\n    return this.map.getMinZoom();\n  }\n  getMaxZoom() {\n    return this.map.getMaxZoom();\n  }\n\n  // get map params\n  getType() {\n    return 'bmap';\n  }\n  getZoom() {\n    return this.getMap().getZoom();\n  }\n  getCenter(options) {\n    if (options !== null && options !== void 0 && options.padding) {\n      const originCenter = this.getCenter();\n      const padding = toPaddingOptions(options.padding);\n      const px = this.lngLatToPixel([originCenter.lng, originCenter.lat]);\n      const offsetPx = [(padding.right - padding.left) / 2, (padding.bottom - padding.top) / 2];\n      const newCenter = this.pixelToLngLat([px.x - offsetPx[0], px.y - offsetPx[1]]);\n      return newCenter;\n    }\n    const center = this.map.getCenter();\n    return {\n      lng: center.lng,\n      lat: center.lat\n    };\n  }\n  getPitch() {\n    return this.getMap().getTilt();\n  }\n  getRotation() {\n    return 360 - this.getMap().getHeading();\n  }\n  getBounds() {\n    const bounds = this.getMap().getBounds();\n    const ne = bounds.getNorthEast();\n    const sw = bounds.getSouthWest();\n    return [[sw.lng, sw.lat], [ne.lng, ne.lat]];\n  }\n  getMapContainer() {\n    return this.getMap().getContainer();\n  }\n  getMapCanvasContainer() {\n    return this.getMap().getContainer();\n  }\n  getMapStyleConfig() {\n    return this.styleConfig;\n  }\n  getMapStyleValue(name) {\n    return this.styleConfig[name];\n  }\n  setMapStyle(style) {\n    if (this.currentStyle === style) {\n      return;\n    }\n    const styleVal = Array.isArray(style) ? style : this.styleConfig[style] || style;\n    if (Array.isArray(styleVal)) {\n      this.map.setMapStyleV2({\n        styleJson: styleVal\n      });\n      this.currentStyle = style;\n      return;\n    }\n    if (typeof styleVal === 'string') {\n      this.map.setMapStyleV2({\n        styleId: styleVal\n      });\n      this.currentStyle = style;\n      return;\n    }\n  }\n  setRotation(rotation) {\n    this.getMap().setHeading(rotation);\n  }\n  zoomIn() {\n    this.getMap().zoomIn();\n  }\n  zoomOut() {\n    this.getMap().zoomOut();\n  }\n  panTo(p) {\n    this.getMap().panTo(new BMapGL.Point(p[0], p[1]));\n  }\n  panBy(x, y) {\n    this.getMap().panBy(x, y);\n  }\n  fitBounds(bound, fitBoundsOptions) {\n    this.map.setViewport(bound.map(item => new BMapGL.Point(item[0], item[1])), fitBoundsOptions);\n  }\n  setZoomAndCenter(zoom, [lng, lat]) {\n    this.getMap().centerAndZoom(new BMapGL.Point(lng, lat), zoom + 1.75);\n  }\n  setCenter([lng, lat], options) {\n    let newCenter = {\n      lng,\n      lat\n    };\n    if (options !== null && options !== void 0 && options.padding) {\n      const padding = toPaddingOptions(options.padding);\n      const px = this.lngLatToPixel([lng, lat]);\n      const offsetPx = [(padding.right - padding.left) / 2, (padding.bottom - padding.top) / 2];\n      newCenter = this.pixelToLngLat([px.x + offsetPx[0], px.y + offsetPx[1]]);\n    }\n    this.getMap().setCenter(new BMapGL.Point(newCenter.lng, newCenter.lat));\n  }\n  setPitch(pitch) {\n    this.getMap().setTilt(pitch);\n  }\n  setZoom(zoom) {\n    this.getMap().setZoom(zoom);\n  }\n  setMapStatus(option) {\n    const map = this.getMap();\n    Object.keys(option).map(status => {\n      switch (status) {\n        case 'doubleClickZoom':\n          option.doubleClickZoom ? map.enableDoubleClickZoom() : map.disableDoubleClickZoom();\n          break;\n        case 'dragEnable':\n          option.dragEnable ? map.enableDragging() : map.disableDragging();\n          break;\n        case 'keyboardEnable':\n          option.keyboardEnable ? map.enableKeyboard() : map.disableKeyboard();\n          break;\n        case 'resizeEnable':\n          option.resizeEnable ? map.enableAutoResize() : map.disableAutoResize();\n          break;\n        case 'rotateEnable':\n          if (option.rotateEnable) {\n            map.enableRotate();\n            map.enableRotateGestures();\n          } else {\n            map.disableRotate();\n            map.disableRotateGestures();\n          }\n          break;\n        case 'zoomEnable':\n          if (option.zoomEnable) {\n            this.map.enableDoubleClickZoom();\n            this.map.enableScrollWheelZoom();\n            this.map.enablePinchToZoom();\n          } else {\n            this.map.disableDoubleClickZoom();\n            this.map.disableScrollWheelZoom();\n            this.map.disablePinchToZoom();\n          }\n          break;\n        case 'showIndoorMap':\n          map.setDisplayOptions({\n            indoor: !!option.showIndoorMap\n          });\n          break;\n        default:\n      }\n    });\n  }\n\n  // coordinates methods\n  meterToCoord(center, outer) {\n    const metreDistance = this.getMap().getDistance(new BMapGL.Point(...center), new BMapGL.Point(...outer));\n    const [x1, y1] = this.lngLatToCoord(center);\n    const [x2, y2] = this.lngLatToCoord(outer);\n    const coordDistance = Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n    return coordDistance / metreDistance;\n  }\n  pixelToLngLat([x, y]) {\n    const lngLat = this.getMap().pixelToPoint(new BMapGL.Pixel(x, y));\n    return {\n      lng: lngLat.lng,\n      lat: lngLat.lat\n    };\n  }\n  lngLatToPixel([lng, lat]) {\n    const pixel = this.getMap().pointToPixel(new BMapGL.Point(lng, lat));\n    return {\n      x: pixel.x,\n      y: pixel.y\n    };\n  }\n  containerToLngLat([x, y]) {\n    const point = this.getMap().overlayPixelToPoint(new BMapGL.Pixel(x, y));\n    return {\n      lng: point.lng,\n      lat: point.lat\n    };\n  }\n  lngLatToContainer([lng, lat]) {\n    const overlayPixel = this.getMap().pointToOverlayPixel(new BMapGL.Point(lng, lat));\n    return {\n      x: overlayPixel.x,\n      y: overlayPixel.y\n    };\n  }\n  lngLatToCoord([lng, lat]) {\n    const {\n      x,\n      y\n    } = this.getMap().pointToPixel(new BMapGL.Point(lng, lat));\n    return [x, -y];\n  }\n  lngLatToCoords(list) {\n    return list.map(item => Array.isArray(item[0]) ? this.lngLatToCoords(item) : this.lngLatToCoord(item));\n  }\n  lngLatToMercator([lng, lat], altitude) {\n    const [McLng, McLat] = this.getMap().lnglatToMercator(lng, lat);\n    return {\n      x: McLng,\n      y: McLat,\n      z: altitude\n    };\n  }\n  getModelMatrix(lnglat, altitude, rotate, scale = [1, 1, 1]) {\n    const flat = this.viewport.projectFlat(lnglat);\n    const modelMatrix = mat4.create();\n    mat4.translate(modelMatrix, modelMatrix, vec3.fromValues(flat[0], flat[1], altitude));\n    mat4.scale(modelMatrix, modelMatrix, vec3.fromValues(scale[0], scale[1], scale[2]));\n    mat4.rotateX(modelMatrix, modelMatrix, rotate[0]);\n    mat4.rotateY(modelMatrix, modelMatrix, rotate[1]);\n    mat4.rotateZ(modelMatrix, modelMatrix, rotate[2]);\n    return modelMatrix;\n  }\n  getCustomCoordCenter() {\n    throw new Error('Method not implemented.');\n  }\n  exportMap(type) {\n    const renderCanvas = this.getMap()._webglPainter._canvas;\n    const layersPng = type === 'jpg' ? renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/jpeg') : renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/png');\n    return layersPng;\n  }\n  hideLogo() {\n    const container = this.map.getContainer();\n    if (!container) {\n      return;\n    }\n    DOM.addClass(container, 'bmap-contianer--hide-logo');\n  }\n  initMapByConfig(config) {\n    const {\n      style,\n      pitch = 0,\n      rotation = 0,\n      logoVisible = true\n    } = config;\n    if (style) {\n      this.setMapStyle(style);\n    }\n    if (pitch) {\n      this.setPitch(pitch);\n    }\n    if (rotation) {\n      this.setRotation(rotation);\n    }\n    if (logoVisible === false) {\n      this.hideLogo();\n    }\n  }\n}"],"mappings":"AAAA,OAAOA,aAAa,MAAM,0CAA0C;AACpE,OAAOC,wBAAwB,MAAM,oDAAoD;AACzF,OAAOC,iBAAiB,MAAM,6CAA6C;AAC3E,OAAOC,eAAe,MAAM,2CAA2C;AACvE,MAAMC,SAAS,GAAG,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;AAC9G,SAASC,eAAe,QAAQ,eAAe;AAC/C,SAASC,GAAG,QAAQ,gBAAgB;AACpC,SAASC,IAAI,EAAEC,IAAI,QAAQ,WAAW;AACtC,OAAOC,QAAQ,MAAM,8BAA8B;AACnD,OAAOC,cAAc,MAAM,yBAAyB;AACpD,SAASC,gBAAgB,QAAQ,gBAAgB;AACjD,OAAOC,YAAY,MAAM,gBAAgB;AACzC,SAASC,UAAUA,CAACC,GAAG,EAAEC,GAAG,EAAE;EAC5B,IAAIC,SAAS,GAAG,OAAOC,EAAE,KAAK,WAAW,IAAI,CAAC,CAACA,EAAE,IAAI,OAAOA,EAAE,CAACC,SAAS,KAAK,UAAU,IAAID,EAAE,CAACE,KAAK,KAAK,IAAI;EAC5G,IAAIC,mBAAmB,GAAG,OAAOC,EAAE,KAAK,WAAW,IAAIA,EAAE,KAAK,IAAI,KAAK,OAAOA,EAAE,CAACC,OAAO,KAAK,WAAW,IAAI,OAAOD,EAAE,CAACE,WAAW,KAAK,WAAW,CAAC;EAClJ,IAAIP,SAAS,IAAII,mBAAmB,EAAE;IACpC;EACF;EACA,IAAI,CAACL,GAAG,EAAEA,GAAG,GAAGS,QAAQ;EACxB,IAAI,CAACT,GAAG,EAAE;IACR;EACF;EACA,IAAIU,IAAI,GAAGV,GAAG,CAACU,IAAI,IAAIV,GAAG,CAACW,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;EAC1D,IAAI,CAACD,IAAI,EAAE;IACTA,IAAI,GAAGV,GAAG,CAACY,aAAa,CAAC,MAAM,CAAC;IAChC,IAAIC,IAAI,GAAGb,GAAG,CAACa,IAAI,IAAIb,GAAG,CAACW,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC1D,IAAIE,IAAI,EAAE;MACRA,IAAI,CAACC,UAAU,CAACC,YAAY,CAACL,IAAI,EAAEG,IAAI,CAAC;IAC1C,CAAC,MAAM;MACLb,GAAG,CAACgB,eAAe,CAACC,WAAW,CAACP,IAAI,CAAC;IACvC;EACF;EACA,IAAIQ,KAAK,GAAGlB,GAAG,CAACY,aAAa,CAAC,OAAO,CAAC;EACtCM,KAAK,CAACC,IAAI,GAAG,UAAU;EACvB,IAAID,KAAK,CAACE,UAAU,EAAE;IACpBF,KAAK,CAACE,UAAU,CAACC,OAAO,GAAGtB,GAAG;EAChC,CAAC,MAAM;IACLmB,KAAK,CAACD,WAAW,CAACjB,GAAG,CAACsB,cAAc,CAACvB,GAAG,CAAC,CAAC;EAC5C;EACAW,IAAI,CAACO,WAAW,CAACC,KAAK,CAAC;EACvB,OAAOA,KAAK;AACd;AACApB,UAAU,CAAC;AACX;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC;AACF,MAAMyB,QAAQ,GAAG;EACfC,OAAO,EAAE,QAAQ;EACjBC,WAAW,EAAE,YAAY;EACzBC,YAAY,EAAE,QAAQ;EACtBC,UAAU,EAAE;AACd,CAAC;AACD,MAAMC,YAAY,GAAG,kCAAkC;AACvD,MAAMC,YAAY,GAAG,KAAK;;AAE1B;AACA,eAAe,MAAMC,WAAW,SAASnC,cAAc,CAAC;EACtDoC,WAAWA,CAAC,GAAGC,IAAI,EAAE;IACnB,KAAK,CAAC,GAAGA,IAAI,CAAC;IACd5C,eAAe,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;IACzCA,eAAe,CAAC,IAAI,EAAE,aAAa,EAAE;MACnC6C,MAAM,EAAE;IACV,CAAC,CAAC;IACF7C,eAAe,CAAC,IAAI,EAAE,cAAc,EAAE,QAAQ,CAAC;IAC/C;IACAA,eAAe,CAAC,IAAI,EAAE,eAAe,EAAE,IAAI8C,GAAG,CAAC,CAAC,CAAC;IACjD9C,eAAe,CAAC,IAAI,EAAE,qBAAqB,EAAE,MAAM;MACjD,IAAI,CAAC+C,IAAI,CAAC,WAAW,CAAC;MACtB,MAAMC,GAAG,GAAG,IAAI,CAACC,MAAM,CAAC,CAAC;MACzB,MAAM;QACJC,GAAG;QACHC;MACF,CAAC,GAAGH,GAAG,CAACI,SAAS,CAAC,CAAC;MACnB,MAAMC,MAAM,GAAG;QACbC,MAAM,EAAE,CAACJ,GAAG,EAAEC,GAAG,CAAC;QAClBI,cAAc,EAAEP,GAAG,CAACQ,YAAY,CAAC,CAAC,CAACC,YAAY;QAC/CC,aAAa,EAAEV,GAAG,CAACQ,YAAY,CAAC,CAAC,CAACG,WAAW;QAC7CC,OAAO,EAAE,GAAG,GAAGZ,GAAG,CAACa,UAAU,CAAC,CAAC;QAC/BC,KAAK,EAAEd,GAAG,CAACe,OAAO,CAAC,CAAC;QACpBC,IAAI,EAAEhB,GAAG,CAACiB,OAAO,CAAC,CAAC,GAAG;MACxB,CAAC;MACD,IAAI,CAACC,QAAQ,CAACC,iBAAiB,CAACd,MAAM,CAAC;MACvC,IAAI,CAACe,6BAA6B,CAAC,CAAC;MACpC,IAAI,CAACC,qBAAqB,CAAC,IAAI,CAACH,QAAQ,CAAC;IAC3C,CAAC,CAAC;EACJ;EACAjB,MAAMA,CAAA,EAAG;IACP,OAAO,IAAI,CAACD,GAAG;EACjB;EACAsB,UAAUA,CAACC,KAAK,EAAE;IAChB,IAAI,CAACC,OAAO,GAAGD,KAAK;EACtB;EACAE,IAAIA,CAAA,EAAG;IACL,IAAIC,KAAK,GAAG,IAAI;IAChB,OAAO3E,iBAAiB,CAAC,aAAa;MACpC2E,KAAK,CAACR,QAAQ,GAAG,IAAI5D,QAAQ,CAAC,CAAC;MAC/B,MAAMqE,YAAY,GAAGD,KAAK,CAACE,MAAM;QAC/B;UACEC,EAAE;UACFvB,MAAM,GAAG,CAAC,kBAAkB,EAAE,iBAAiB,CAAC;UAChDU,IAAI,GAAG,EAAE;UACTc,KAAK,GAAGtC,YAAY;UACpBuC,WAAW;UACXC,OAAO,GAAGvC,YAAY;UACtBwC,OAAO,GAAG,KAAK;UACfC,OAAO,GAAG,CAAC;UACXC,OAAO,GAAG;QACZ,CAAC,GAAGR,YAAY;QAChBS,IAAI,GAAGtF,wBAAwB,CAAC6E,YAAY,EAAE1E,SAAS,CAAC;MAC1DyE,KAAK,CAACR,QAAQ,GAAG,IAAI5D,QAAQ,CAAC,CAAC;MAC/BoE,KAAK,CAACM,OAAO,GAAGA,OAAO;MACvBN,KAAK,CAACW,cAAc,CAACC,OAAO,CAACL,OAAO,CAAC;MACrC,IAAI,EAAEM,MAAM,CAACC,MAAM,IAAIT,WAAW,CAAC,EAAE;QACnC,MAAMtE,YAAY,CAACgF,IAAI,CAAC;UACtBC,GAAG,EAAEZ,KAAK;UACV;UACAE,OAAO,EAAEvC,YAAY,CAAC;QACxB,CAAC,CAAC;MACJ;MACA,IAAIsC,WAAW,EAAE;QACf;QACAL,KAAK,CAAC1B,GAAG,GAAG+B,WAAW;QACvBL,KAAK,CAACiB,aAAa,GAAGjB,KAAK,CAAC1B,GAAG,CAACQ,YAAY,CAAC,CAAC;QAC9C,MAAMoC,KAAK,GAAG,IAAIJ,MAAM,CAACK,KAAK,CAACvC,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,CAAC;QACpD;QACA;QACA,IAAI,CAACoB,KAAK,CAAC1B,GAAG,CAAC8C,QAAQ,CAAC,CAAC,EAAE;UACzBpB,KAAK,CAAC1B,GAAG,CAAC+C,aAAa,CAACH,KAAK,EAAE5B,IAAI,CAAC;QACtC;QACAU,KAAK,CAACsB,eAAe,CAACtB,KAAK,CAACE,MAAM,CAAC;QACnCF,KAAK,CAAC1B,GAAG,CAACiD,EAAE,CAAC,QAAQ,EAAEvB,KAAK,CAACwB,mBAAmB,CAAC;MACnD,CAAC,MAAM;QACL,MAAMC,qBAAqB,GAAGtG,aAAa,CAAC;UAC1CuG,eAAe,EAAE,IAAI;UACrBlB,OAAO;UACPC;QACF,CAAC,EAAEC,IAAI,CAAC;QACR,IAAIN,KAAK,KAAKtC,YAAY,EAAE;UAC1B6D,OAAO,CAACC,IAAI,CAAC,KAAK5B,KAAK,CAAC6B,aAAa,CAACC,gBAAgB,CAAC,UAAU,CAAC,GAAG,EAAE,gDAAgD,CAAC;QAC1H;QACA,IAAI,CAAC3B,EAAE,EAAE;UACP,MAAM4B,KAAK,CAAC,2BAA2B,CAAC;QAC1C;QACA,MAAMC,YAAY,GAAGvG,GAAG,CAACqD,YAAY,CAACqB,EAAE,CAAC;;QAEzC;QACA;QACA,IAAI8B,aAAa,GAAG,CAAC,GAAGD,YAAY,CAACE,UAAU,CAAC;QAChD;QACA,MAAM5D,GAAG,GAAG,IAAIwC,MAAM,CAAC1C,GAAG,CAAC4D,YAAY,EAAEP,qBAAqB,CAAC;QAC/DzB,KAAK,CAACiB,aAAa,GAAG3C,GAAG,CAACQ,YAAY,CAAC,CAAC;QACxCmD,aAAa,CAACE,OAAO,CAACC,KAAK,IAAI;UAC7BpC,KAAK,CAACiB,aAAa,CAAC9D,WAAW,CAACiF,KAAK,CAAC;QACxC,CAAC,CAAC;QACF;QACAH,aAAa,GAAG,IAAI;;QAEpB;QACAjC,KAAK,CAAC1B,GAAG,GAAGA,GAAG;QACf,MAAM4C,KAAK,GAAG,IAAIJ,MAAM,CAACK,KAAK,CAACvC,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,CAAC;QACpDoB,KAAK,CAAC1B,GAAG,CAAC+C,aAAa,CAACH,KAAK,EAAE5B,IAAI,CAAC;QACpCU,KAAK,CAACsB,eAAe,CAACtB,KAAK,CAACE,MAAM,CAAC;QACnC;QACA;QACA5B,GAAG,CAACiD,EAAE,CAAC,QAAQ,EAAEvB,KAAK,CAACwB,mBAAmB,CAAC;MAC7C;IACF,CAAC,CAAC,CAAC,CAAC;EACN;EACAa,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC9D,MAAM,CAAC,CAAC,CAAC8D,OAAO,CAAC,CAAC;EACzB;EACAC,eAAeA,CAACC,QAAQ,EAAE;IACxB,IAAI,CAAC5C,qBAAqB,GAAG4C,QAAQ;EACvC;;EAEA;EACAC,kBAAkBA,CAAA,EAAG,CAAC;EACtBC,kBAAkBA,CAAA,EAAG;IACnB,OAAO,IAAI,CAACnE,GAAG,CAACoE,QAAQ,CAAC,CAAC,CAACC,UAAU;EACvC;EACAC,iBAAiBA,CAAA,EAAG;IAClB,IAAIC,qBAAqB;IACzB,OAAO,CAACA,qBAAqB,GAAG,IAAI,CAACtE,MAAM,CAAC,CAAC,CAACO,YAAY,CAAC,CAAC,CAACgE,aAAa,CAAC,WAAW,CAAC,MAAM,IAAI,IAAID,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACE,SAAS;EAClL;;EAEA;EACAxB,EAAEA,CAAClE,IAAI,EAAE2F,MAAM,EAAE;IACf,IAAIxH,eAAe,CAACyH,OAAO,CAAC5F,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;MACxC,IAAI,CAAC6F,YAAY,CAAC3B,EAAE,CAAClE,IAAI,EAAE2F,MAAM,CAAC;MAClC;IACF;IACA,IAAIG,UAAU,GAAG,IAAI,CAACC,aAAa,CAACC,GAAG,CAAChG,IAAI,CAAC;IAC7C,IAAI,CAAC8F,UAAU,EAAE;MACf,IAAI,CAACC,aAAa,CAACE,GAAG,CAACjG,IAAI,EAAE8F,UAAU,GAAG,IAAI/E,GAAG,CAAC,CAAC,CAAC;IACtD;;IAEA;IACA,IAAI+E,UAAU,CAACE,GAAG,CAACL,MAAM,CAAC,EAAE;MAC1B;IACF;;IAEA;IACA,MAAMO,WAAW,GAAGA,CAAC,GAAGrF,IAAI,KAAK;MAC/B,IAAIA,IAAI,CAAC,CAAC,CAAC,IAAI,OAAOA,IAAI,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAI,CAACA,IAAI,CAAC,CAAC,CAAC,CAACsF,MAAM,IAAI,CAACtF,IAAI,CAAC,CAAC,CAAC,CAACuF,MAAM,EAAE;QAChFvF,IAAI,CAAC,CAAC,CAAC,CAACsF,MAAM,GAAGtF,IAAI,CAAC,CAAC,CAAC,CAACwF,MAAM,IAAIxF,IAAI,CAAC,CAAC,CAAC,CAACyF,MAAM;MACnD;MACAX,MAAM,CAAC,GAAG9E,IAAI,CAAC;IACjB,CAAC;IACDiF,UAAU,CAACG,GAAG,CAACN,MAAM,EAAEO,WAAW,CAAC;IACnC,IAAI,CAACjF,GAAG,CAACiD,EAAE,CAAC9D,QAAQ,CAACJ,IAAI,CAAC,IAAIA,IAAI,EAAEkG,WAAW,CAAC;EAClD;EACAK,GAAGA,CAACvG,IAAI,EAAE2F,MAAM,EAAE;IAChB,IAAIa,qBAAqB,EAAEC,sBAAsB;IACjD,IAAItI,eAAe,CAACyH,OAAO,CAAC5F,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;MACxC,IAAI,CAAC6F,YAAY,CAACU,GAAG,CAACvG,IAAI,EAAE2F,MAAM,CAAC;MACnC;IACF;IACA,MAAMO,WAAW,GAAG,CAACM,qBAAqB,GAAG,IAAI,CAACT,aAAa,CAACC,GAAG,CAAChG,IAAI,CAAC,MAAM,IAAI,IAAIwG,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACR,GAAG,CAACL,MAAM,CAAC;IACpK,IAAI,CAACO,WAAW,EAAE;MAChB;IACF;IACA,CAACO,sBAAsB,GAAG,IAAI,CAACV,aAAa,CAACC,GAAG,CAAChG,IAAI,CAAC,MAAM,IAAI,IAAIyG,sBAAsB,KAAK,KAAK,CAAC,IAAIA,sBAAsB,CAACC,MAAM,CAACf,MAAM,CAAC;IAC9I,IAAI,CAAC1E,GAAG,CAACsF,GAAG,CAACnG,QAAQ,CAACJ,IAAI,CAAC,IAAIA,IAAI,EAAEkG,WAAW,CAAC;EACnD;EACAS,IAAIA,CAAC3G,IAAI,EAAE4G,OAAO,EAAE;IAClB,IAAI,CAACf,YAAY,CAACc,IAAI,CAAC3G,IAAI,EAAE4G,OAAO,CAAC;EACvC;EACAnF,YAAYA,CAAA,EAAG;IACb,OAAO,IAAI,CAACP,MAAM,CAAC,CAAC,CAACO,YAAY,CAAC,CAAC;EACrC;EACAoF,OAAOA,CAAA,EAAG;IACR,MAAMC,IAAI,GAAG,IAAI,CAAC5F,MAAM,CAAC,CAAC,CAAC2F,OAAO,CAAC,CAAC;IACpC,OAAO,CAACC,IAAI,CAACC,KAAK,EAAED,IAAI,CAACE,MAAM,CAAC;EAClC;EACA;EACAC,UAAUA,CAAA,EAAG;IACX,OAAO,IAAI,CAAChG,GAAG,CAACgG,UAAU,CAAC,CAAC;EAC9B;EACAC,UAAUA,CAAA,EAAG;IACX,OAAO,IAAI,CAACjG,GAAG,CAACiG,UAAU,CAAC,CAAC;EAC9B;;EAEA;EACAC,OAAOA,CAAA,EAAG;IACR,OAAO,MAAM;EACf;EACAjF,OAAOA,CAAA,EAAG;IACR,OAAO,IAAI,CAAChB,MAAM,CAAC,CAAC,CAACgB,OAAO,CAAC,CAAC;EAChC;EACAb,SAASA,CAAC+F,OAAO,EAAE;IACjB,IAAIA,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,IAAIA,OAAO,CAACC,OAAO,EAAE;MAC7D,MAAMC,YAAY,GAAG,IAAI,CAACjG,SAAS,CAAC,CAAC;MACrC,MAAMgG,OAAO,GAAG5I,gBAAgB,CAAC2I,OAAO,CAACC,OAAO,CAAC;MACjD,MAAME,EAAE,GAAG,IAAI,CAACC,aAAa,CAAC,CAACF,YAAY,CAACnG,GAAG,EAAEmG,YAAY,CAAClG,GAAG,CAAC,CAAC;MACnE,MAAMqG,QAAQ,GAAG,CAAC,CAACJ,OAAO,CAACK,KAAK,GAAGL,OAAO,CAACM,IAAI,IAAI,CAAC,EAAE,CAACN,OAAO,CAACO,MAAM,GAAGP,OAAO,CAACQ,GAAG,IAAI,CAAC,CAAC;MACzF,MAAMC,SAAS,GAAG,IAAI,CAACC,aAAa,CAAC,CAACR,EAAE,CAACS,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC,EAAEF,EAAE,CAACU,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9E,OAAOK,SAAS;IAClB;IACA,MAAMvG,MAAM,GAAG,IAAI,CAACN,GAAG,CAACI,SAAS,CAAC,CAAC;IACnC,OAAO;MACLF,GAAG,EAAEI,MAAM,CAACJ,GAAG;MACfC,GAAG,EAAEG,MAAM,CAACH;IACd,CAAC;EACH;EACA8G,QAAQA,CAAA,EAAG;IACT,OAAO,IAAI,CAAChH,MAAM,CAAC,CAAC,CAACc,OAAO,CAAC,CAAC;EAChC;EACAmG,WAAWA,CAAA,EAAG;IACZ,OAAO,GAAG,GAAG,IAAI,CAACjH,MAAM,CAAC,CAAC,CAACY,UAAU,CAAC,CAAC;EACzC;EACAsG,SAASA,CAAA,EAAG;IACV,MAAMC,MAAM,GAAG,IAAI,CAACnH,MAAM,CAAC,CAAC,CAACkH,SAAS,CAAC,CAAC;IACxC,MAAME,EAAE,GAAGD,MAAM,CAACE,YAAY,CAAC,CAAC;IAChC,MAAMC,EAAE,GAAGH,MAAM,CAACI,YAAY,CAAC,CAAC;IAChC,OAAO,CAAC,CAACD,EAAE,CAACrH,GAAG,EAAEqH,EAAE,CAACpH,GAAG,CAAC,EAAE,CAACkH,EAAE,CAACnH,GAAG,EAAEmH,EAAE,CAAClH,GAAG,CAAC,CAAC;EAC7C;EACAsH,eAAeA,CAAA,EAAG;IAChB,OAAO,IAAI,CAACxH,MAAM,CAAC,CAAC,CAACO,YAAY,CAAC,CAAC;EACrC;EACAkH,qBAAqBA,CAAA,EAAG;IACtB,OAAO,IAAI,CAACzH,MAAM,CAAC,CAAC,CAACO,YAAY,CAAC,CAAC;EACrC;EACAmH,iBAAiBA,CAAA,EAAG;IAClB,OAAO,IAAI,CAACC,WAAW;EACzB;EACAC,gBAAgBA,CAACC,IAAI,EAAE;IACrB,OAAO,IAAI,CAACF,WAAW,CAACE,IAAI,CAAC;EAC/B;EACAC,WAAWA,CAACjJ,KAAK,EAAE;IACjB,IAAI,IAAI,CAACkJ,YAAY,KAAKlJ,KAAK,EAAE;MAC/B;IACF;IACA,MAAMmJ,QAAQ,GAAGC,KAAK,CAACC,OAAO,CAACrJ,KAAK,CAAC,GAAGA,KAAK,GAAG,IAAI,CAAC8I,WAAW,CAAC9I,KAAK,CAAC,IAAIA,KAAK;IAChF,IAAIoJ,KAAK,CAACC,OAAO,CAACF,QAAQ,CAAC,EAAE;MAC3B,IAAI,CAACjI,GAAG,CAACoI,aAAa,CAAC;QACrBC,SAAS,EAAEJ;MACb,CAAC,CAAC;MACF,IAAI,CAACD,YAAY,GAAGlJ,KAAK;MACzB;IACF;IACA,IAAI,OAAOmJ,QAAQ,KAAK,QAAQ,EAAE;MAChC,IAAI,CAACjI,GAAG,CAACoI,aAAa,CAAC;QACrBE,OAAO,EAAEL;MACX,CAAC,CAAC;MACF,IAAI,CAACD,YAAY,GAAGlJ,KAAK;MACzB;IACF;EACF;EACAyJ,WAAWA,CAACC,QAAQ,EAAE;IACpB,IAAI,CAACvI,MAAM,CAAC,CAAC,CAACwI,UAAU,CAACD,QAAQ,CAAC;EACpC;EACAE,MAAMA,CAAA,EAAG;IACP,IAAI,CAACzI,MAAM,CAAC,CAAC,CAACyI,MAAM,CAAC,CAAC;EACxB;EACAC,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC1I,MAAM,CAAC,CAAC,CAAC0I,OAAO,CAAC,CAAC;EACzB;EACAC,KAAKA,CAACC,CAAC,EAAE;IACP,IAAI,CAAC5I,MAAM,CAAC,CAAC,CAAC2I,KAAK,CAAC,IAAIpG,MAAM,CAACK,KAAK,CAACgG,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACnD;EACAC,KAAKA,CAAC/B,CAAC,EAAEC,CAAC,EAAE;IACV,IAAI,CAAC/G,MAAM,CAAC,CAAC,CAAC6I,KAAK,CAAC/B,CAAC,EAAEC,CAAC,CAAC;EAC3B;EACA+B,SAASA,CAACC,KAAK,EAAEC,gBAAgB,EAAE;IACjC,IAAI,CAACjJ,GAAG,CAACkJ,WAAW,CAACF,KAAK,CAAChJ,GAAG,CAACmJ,IAAI,IAAI,IAAI3G,MAAM,CAACK,KAAK,CAACsG,IAAI,CAAC,CAAC,CAAC,EAAEA,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEF,gBAAgB,CAAC;EAC/F;EACAG,gBAAgBA,CAACpI,IAAI,EAAE,CAACd,GAAG,EAAEC,GAAG,CAAC,EAAE;IACjC,IAAI,CAACF,MAAM,CAAC,CAAC,CAAC8C,aAAa,CAAC,IAAIP,MAAM,CAACK,KAAK,CAAC3C,GAAG,EAAEC,GAAG,CAAC,EAAEa,IAAI,GAAG,IAAI,CAAC;EACtE;EACAqI,SAASA,CAAC,CAACnJ,GAAG,EAAEC,GAAG,CAAC,EAAEgG,OAAO,EAAE;IAC7B,IAAIU,SAAS,GAAG;MACd3G,GAAG;MACHC;IACF,CAAC;IACD,IAAIgG,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,IAAIA,OAAO,CAACC,OAAO,EAAE;MAC7D,MAAMA,OAAO,GAAG5I,gBAAgB,CAAC2I,OAAO,CAACC,OAAO,CAAC;MACjD,MAAME,EAAE,GAAG,IAAI,CAACC,aAAa,CAAC,CAACrG,GAAG,EAAEC,GAAG,CAAC,CAAC;MACzC,MAAMqG,QAAQ,GAAG,CAAC,CAACJ,OAAO,CAACK,KAAK,GAAGL,OAAO,CAACM,IAAI,IAAI,CAAC,EAAE,CAACN,OAAO,CAACO,MAAM,GAAGP,OAAO,CAACQ,GAAG,IAAI,CAAC,CAAC;MACzFC,SAAS,GAAG,IAAI,CAACC,aAAa,CAAC,CAACR,EAAE,CAACS,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC,EAAEF,EAAE,CAACU,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1E;IACA,IAAI,CAACvG,MAAM,CAAC,CAAC,CAACoJ,SAAS,CAAC,IAAI7G,MAAM,CAACK,KAAK,CAACgE,SAAS,CAAC3G,GAAG,EAAE2G,SAAS,CAAC1G,GAAG,CAAC,CAAC;EACzE;EACAmJ,QAAQA,CAACxI,KAAK,EAAE;IACd,IAAI,CAACb,MAAM,CAAC,CAAC,CAACsJ,OAAO,CAACzI,KAAK,CAAC;EAC9B;EACA0I,OAAOA,CAACxI,IAAI,EAAE;IACZ,IAAI,CAACf,MAAM,CAAC,CAAC,CAACuJ,OAAO,CAACxI,IAAI,CAAC;EAC7B;EACAyI,YAAYA,CAACpJ,MAAM,EAAE;IACnB,MAAML,GAAG,GAAG,IAAI,CAACC,MAAM,CAAC,CAAC;IACzByJ,MAAM,CAACC,IAAI,CAACtJ,MAAM,CAAC,CAACL,GAAG,CAAC4J,MAAM,IAAI;MAChC,QAAQA,MAAM;QACZ,KAAK,iBAAiB;UACpBvJ,MAAM,CAACwJ,eAAe,GAAG7J,GAAG,CAAC8J,qBAAqB,CAAC,CAAC,GAAG9J,GAAG,CAAC+J,sBAAsB,CAAC,CAAC;UACnF;QACF,KAAK,YAAY;UACf1J,MAAM,CAAC2J,UAAU,GAAGhK,GAAG,CAACiK,cAAc,CAAC,CAAC,GAAGjK,GAAG,CAACkK,eAAe,CAAC,CAAC;UAChE;QACF,KAAK,gBAAgB;UACnB7J,MAAM,CAAC8J,cAAc,GAAGnK,GAAG,CAACoK,cAAc,CAAC,CAAC,GAAGpK,GAAG,CAACqK,eAAe,CAAC,CAAC;UACpE;QACF,KAAK,cAAc;UACjBhK,MAAM,CAACiK,YAAY,GAAGtK,GAAG,CAACuK,gBAAgB,CAAC,CAAC,GAAGvK,GAAG,CAACwK,iBAAiB,CAAC,CAAC;UACtE;QACF,KAAK,cAAc;UACjB,IAAInK,MAAM,CAACoK,YAAY,EAAE;YACvBzK,GAAG,CAAC0K,YAAY,CAAC,CAAC;YAClB1K,GAAG,CAAC2K,oBAAoB,CAAC,CAAC;UAC5B,CAAC,MAAM;YACL3K,GAAG,CAAC4K,aAAa,CAAC,CAAC;YACnB5K,GAAG,CAAC6K,qBAAqB,CAAC,CAAC;UAC7B;UACA;QACF,KAAK,YAAY;UACf,IAAIxK,MAAM,CAACyK,UAAU,EAAE;YACrB,IAAI,CAAC9K,GAAG,CAAC8J,qBAAqB,CAAC,CAAC;YAChC,IAAI,CAAC9J,GAAG,CAAC+K,qBAAqB,CAAC,CAAC;YAChC,IAAI,CAAC/K,GAAG,CAACgL,iBAAiB,CAAC,CAAC;UAC9B,CAAC,MAAM;YACL,IAAI,CAAChL,GAAG,CAAC+J,sBAAsB,CAAC,CAAC;YACjC,IAAI,CAAC/J,GAAG,CAACiL,sBAAsB,CAAC,CAAC;YACjC,IAAI,CAACjL,GAAG,CAACkL,kBAAkB,CAAC,CAAC;UAC/B;UACA;QACF,KAAK,eAAe;UAClBlL,GAAG,CAACmL,iBAAiB,CAAC;YACpBC,MAAM,EAAE,CAAC,CAAC/K,MAAM,CAACgL;UACnB,CAAC,CAAC;UACF;QACF;MACF;IACF,CAAC,CAAC;EACJ;;EAEA;EACAC,YAAYA,CAAChL,MAAM,EAAEiL,KAAK,EAAE;IAC1B,MAAMC,aAAa,GAAG,IAAI,CAACvL,MAAM,CAAC,CAAC,CAACwL,WAAW,CAAC,IAAIjJ,MAAM,CAACK,KAAK,CAAC,GAAGvC,MAAM,CAAC,EAAE,IAAIkC,MAAM,CAACK,KAAK,CAAC,GAAG0I,KAAK,CAAC,CAAC;IACxG,MAAM,CAACG,EAAE,EAAEC,EAAE,CAAC,GAAG,IAAI,CAACC,aAAa,CAACtL,MAAM,CAAC;IAC3C,MAAM,CAACuL,EAAE,EAAEC,EAAE,CAAC,GAAG,IAAI,CAACF,aAAa,CAACL,KAAK,CAAC;IAC1C,MAAMQ,aAAa,GAAGC,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,GAAG,CAACR,EAAE,GAAGG,EAAE,EAAE,CAAC,CAAC,GAAGG,IAAI,CAACE,GAAG,CAACP,EAAE,GAAGG,EAAE,EAAE,CAAC,CAAC,CAAC;IAC5E,OAAOC,aAAa,GAAGP,aAAa;EACtC;EACA1E,aAAaA,CAAC,CAACC,CAAC,EAAEC,CAAC,CAAC,EAAE;IACpB,MAAM9B,MAAM,GAAG,IAAI,CAACjF,MAAM,CAAC,CAAC,CAACkM,YAAY,CAAC,IAAI3J,MAAM,CAAC4J,KAAK,CAACrF,CAAC,EAAEC,CAAC,CAAC,CAAC;IACjE,OAAO;MACL9G,GAAG,EAAEgF,MAAM,CAAChF,GAAG;MACfC,GAAG,EAAE+E,MAAM,CAAC/E;IACd,CAAC;EACH;EACAoG,aAAaA,CAAC,CAACrG,GAAG,EAAEC,GAAG,CAAC,EAAE;IACxB,MAAMkM,KAAK,GAAG,IAAI,CAACpM,MAAM,CAAC,CAAC,CAACqM,YAAY,CAAC,IAAI9J,MAAM,CAACK,KAAK,CAAC3C,GAAG,EAAEC,GAAG,CAAC,CAAC;IACpE,OAAO;MACL4G,CAAC,EAAEsF,KAAK,CAACtF,CAAC;MACVC,CAAC,EAAEqF,KAAK,CAACrF;IACX,CAAC;EACH;EACAuF,iBAAiBA,CAAC,CAACxF,CAAC,EAAEC,CAAC,CAAC,EAAE;IACxB,MAAMpE,KAAK,GAAG,IAAI,CAAC3C,MAAM,CAAC,CAAC,CAACuM,mBAAmB,CAAC,IAAIhK,MAAM,CAAC4J,KAAK,CAACrF,CAAC,EAAEC,CAAC,CAAC,CAAC;IACvE,OAAO;MACL9G,GAAG,EAAE0C,KAAK,CAAC1C,GAAG;MACdC,GAAG,EAAEyC,KAAK,CAACzC;IACb,CAAC;EACH;EACAsM,iBAAiBA,CAAC,CAACvM,GAAG,EAAEC,GAAG,CAAC,EAAE;IAC5B,MAAMuM,YAAY,GAAG,IAAI,CAACzM,MAAM,CAAC,CAAC,CAAC0M,mBAAmB,CAAC,IAAInK,MAAM,CAACK,KAAK,CAAC3C,GAAG,EAAEC,GAAG,CAAC,CAAC;IAClF,OAAO;MACL4G,CAAC,EAAE2F,YAAY,CAAC3F,CAAC;MACjBC,CAAC,EAAE0F,YAAY,CAAC1F;IAClB,CAAC;EACH;EACA4E,aAAaA,CAAC,CAAC1L,GAAG,EAAEC,GAAG,CAAC,EAAE;IACxB,MAAM;MACJ4G,CAAC;MACDC;IACF,CAAC,GAAG,IAAI,CAAC/G,MAAM,CAAC,CAAC,CAACqM,YAAY,CAAC,IAAI9J,MAAM,CAACK,KAAK,CAAC3C,GAAG,EAAEC,GAAG,CAAC,CAAC;IAC1D,OAAO,CAAC4G,CAAC,EAAE,CAACC,CAAC,CAAC;EAChB;EACA4F,cAAcA,CAACC,IAAI,EAAE;IACnB,OAAOA,IAAI,CAAC7M,GAAG,CAACmJ,IAAI,IAAIjB,KAAK,CAACC,OAAO,CAACgB,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAACyD,cAAc,CAACzD,IAAI,CAAC,GAAG,IAAI,CAACyC,aAAa,CAACzC,IAAI,CAAC,CAAC;EACxG;EACA2D,gBAAgBA,CAAC,CAAC5M,GAAG,EAAEC,GAAG,CAAC,EAAE4M,QAAQ,EAAE;IACrC,MAAM,CAACC,KAAK,EAAEC,KAAK,CAAC,GAAG,IAAI,CAAChN,MAAM,CAAC,CAAC,CAACiN,gBAAgB,CAAChN,GAAG,EAAEC,GAAG,CAAC;IAC/D,OAAO;MACL4G,CAAC,EAAEiG,KAAK;MACRhG,CAAC,EAAEiG,KAAK;MACRE,CAAC,EAAEJ;IACL,CAAC;EACH;EACAK,cAAcA,CAACjI,MAAM,EAAE4H,QAAQ,EAAEM,MAAM,EAAEC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;IAC1D,MAAMC,IAAI,GAAG,IAAI,CAACrM,QAAQ,CAACsM,WAAW,CAACrI,MAAM,CAAC;IAC9C,MAAMsI,WAAW,GAAGrQ,IAAI,CAACsQ,MAAM,CAAC,CAAC;IACjCtQ,IAAI,CAACuQ,SAAS,CAACF,WAAW,EAAEA,WAAW,EAAEpQ,IAAI,CAACuQ,UAAU,CAACL,IAAI,CAAC,CAAC,CAAC,EAAEA,IAAI,CAAC,CAAC,CAAC,EAAER,QAAQ,CAAC,CAAC;IACrF3P,IAAI,CAACkQ,KAAK,CAACG,WAAW,EAAEA,WAAW,EAAEpQ,IAAI,CAACuQ,UAAU,CAACN,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACnFlQ,IAAI,CAACyQ,OAAO,CAACJ,WAAW,EAAEA,WAAW,EAAEJ,MAAM,CAAC,CAAC,CAAC,CAAC;IACjDjQ,IAAI,CAAC0Q,OAAO,CAACL,WAAW,EAAEA,WAAW,EAAEJ,MAAM,CAAC,CAAC,CAAC,CAAC;IACjDjQ,IAAI,CAAC2Q,OAAO,CAACN,WAAW,EAAEA,WAAW,EAAEJ,MAAM,CAAC,CAAC,CAAC,CAAC;IACjD,OAAOI,WAAW;EACpB;EACAO,oBAAoBA,CAAA,EAAG;IACrB,MAAM,IAAIvK,KAAK,CAAC,yBAAyB,CAAC;EAC5C;EACAwK,SAASA,CAAClP,IAAI,EAAE;IACd,MAAMmP,YAAY,GAAG,IAAI,CAACjO,MAAM,CAAC,CAAC,CAACkO,aAAa,CAACC,OAAO;IACxD,MAAMC,SAAS,GAAGtP,IAAI,KAAK,KAAK,GAAGmP,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACI,SAAS,CAAC,YAAY,CAAC,GAAGJ,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACI,SAAS,CAAC,WAAW,CAAC;IACrO,OAAOD,SAAS;EAClB;EACAE,QAAQA,CAAA,EAAG;IACT,MAAMC,SAAS,GAAG,IAAI,CAACxO,GAAG,CAACQ,YAAY,CAAC,CAAC;IACzC,IAAI,CAACgO,SAAS,EAAE;MACd;IACF;IACArR,GAAG,CAACsR,QAAQ,CAACD,SAAS,EAAE,2BAA2B,CAAC;EACtD;EACAxL,eAAeA,CAACpB,MAAM,EAAE;IACtB,MAAM;MACJ9C,KAAK;MACLgC,KAAK,GAAG,CAAC;MACT0H,QAAQ,GAAG,CAAC;MACZkG,WAAW,GAAG;IAChB,CAAC,GAAG9M,MAAM;IACV,IAAI9C,KAAK,EAAE;MACT,IAAI,CAACiJ,WAAW,CAACjJ,KAAK,CAAC;IACzB;IACA,IAAIgC,KAAK,EAAE;MACT,IAAI,CAACwI,QAAQ,CAACxI,KAAK,CAAC;IACtB;IACA,IAAI0H,QAAQ,EAAE;MACZ,IAAI,CAACD,WAAW,CAACC,QAAQ,CAAC;IAC5B;IACA,IAAIkG,WAAW,KAAK,KAAK,EAAE;MACzB,IAAI,CAACH,QAAQ,CAAC,CAAC;IACjB;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}