{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM } from \"../util/dom\";\n\n/**\n * The {@link CooperativeGesturesHandler} options object for the gesture settings\n */\n\n/**\n * A `CooperativeGestureHandler` is a control that adds cooperative gesture info when user tries to zoom in/out.\n *\n * @group Handlers\n *\n * @example\n * ```ts\n * const map = new Map({\n *   cooperativeGestures: true\n * });\n * ```\n * @see [Example: cooperative gestures](https://maplibre.org/maplibre-gl-js-docs/example/cooperative-gestures/)\n **/\nexport class CooperativeGesturesHandler {\n  constructor(map, options) {\n    _defineProperty(this, \"_options\", void 0);\n    _defineProperty(this, \"_map\", void 0);\n    _defineProperty(this, \"_container\", void 0);\n    /**\n     * This is the key that will allow to bypass the cooperative gesture protection\n     */\n    _defineProperty(this, \"_bypassKey\", navigator.userAgent.indexOf('Mac') !== -1 ? 'metaKey' : 'ctrlKey');\n    _defineProperty(this, \"_enabled\", void 0);\n    this._map = map;\n    this._options = options;\n    this._enabled = false;\n  }\n  isActive() {\n    return false;\n  }\n  reset() {}\n  _setupUI() {\n    if (this._container) return;\n    const mapCanvasContainer = this._map.getCanvasContainer();\n    // Add a cooperative gestures class (enable touch-action: pan-x pan-y;)\n    mapCanvasContainer.classList.add('l7-cooperative-gestures');\n    this._container = DOM.create('div', 'l7-cooperative-gesture-screen', mapCanvasContainer);\n    // Create and append the desktop message div\n    const desktopDiv = document.createElement('div');\n    desktopDiv.className = 'l7-desktop-message';\n    desktopDiv.textContent = 'Missing UI string';\n    this._container.appendChild(desktopDiv);\n    // Create and append the mobile message div\n    const mobileDiv = document.createElement('div');\n    mobileDiv.className = 'l7-mobile-message';\n    mobileDiv.textContent = 'Missing UI string';\n    this._container.appendChild(mobileDiv);\n    // Remove cooperative gesture screen from the accessibility tree since screenreaders cannot interact with the map using gestures\n    this._container.setAttribute('aria-hidden', 'true');\n  }\n  _destoryUI() {\n    if (this._container) {\n      DOM.remove(this._container);\n      const mapCanvasContainer = this._map.getCanvasContainer();\n      mapCanvasContainer.classList.remove('l7-cooperative-gestures');\n    }\n    delete this._container;\n  }\n  enable() {\n    this._setupUI();\n    this._enabled = true;\n  }\n  disable() {\n    this._enabled = false;\n    this._destoryUI();\n  }\n  isEnabled() {\n    return this._enabled;\n  }\n  touchmove(e) {\n    this._onCooperativeGesture(e.touches.length === 1);\n  }\n  wheel(e) {\n    if (!this._map.scrollZoom.isEnabled()) {\n      return;\n    }\n    this._onCooperativeGesture(!e[this._bypassKey]);\n  }\n  _onCooperativeGesture(showNotification) {\n    if (!this._enabled || !showNotification) return;\n    // Alert user how to scroll/pan\n    this._container.classList.add('l7-show');\n    setTimeout(() => {\n      this._container.classList.remove('l7-show');\n    }, 100);\n  }\n}","map":{"version":3,"names":["_defineProperty","DOM","CooperativeGesturesHandler","constructor","map","options","navigator","userAgent","indexOf","_map","_options","_enabled","isActive","reset","_setupUI","_container","mapCanvasContainer","getCanvasContainer","classList","add","create","desktopDiv","document","createElement","className","textContent","appendChild","mobileDiv","setAttribute","_destoryUI","remove","enable","disable","isEnabled","touchmove","e","_onCooperativeGesture","touches","length","wheel","scrollZoom","_bypassKey","showNotification","setTimeout"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-map/es/map/handler/cooperative_gestures.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DOM } from \"../util/dom\";\n\n/**\n * The {@link CooperativeGesturesHandler} options object for the gesture settings\n */\n\n/**\n * A `CooperativeGestureHandler` is a control that adds cooperative gesture info when user tries to zoom in/out.\n *\n * @group Handlers\n *\n * @example\n * ```ts\n * const map = new Map({\n *   cooperativeGestures: true\n * });\n * ```\n * @see [Example: cooperative gestures](https://maplibre.org/maplibre-gl-js-docs/example/cooperative-gestures/)\n **/\nexport class CooperativeGesturesHandler {\n  constructor(map, options) {\n    _defineProperty(this, \"_options\", void 0);\n    _defineProperty(this, \"_map\", void 0);\n    _defineProperty(this, \"_container\", void 0);\n    /**\n     * This is the key that will allow to bypass the cooperative gesture protection\n     */\n    _defineProperty(this, \"_bypassKey\", navigator.userAgent.indexOf('Mac') !== -1 ? 'metaKey' : 'ctrlKey');\n    _defineProperty(this, \"_enabled\", void 0);\n    this._map = map;\n    this._options = options;\n    this._enabled = false;\n  }\n  isActive() {\n    return false;\n  }\n  reset() {}\n  _setupUI() {\n    if (this._container) return;\n    const mapCanvasContainer = this._map.getCanvasContainer();\n    // Add a cooperative gestures class (enable touch-action: pan-x pan-y;)\n    mapCanvasContainer.classList.add('l7-cooperative-gestures');\n    this._container = DOM.create('div', 'l7-cooperative-gesture-screen', mapCanvasContainer);\n    // Create and append the desktop message div\n    const desktopDiv = document.createElement('div');\n    desktopDiv.className = 'l7-desktop-message';\n    desktopDiv.textContent = 'Missing UI string';\n    this._container.appendChild(desktopDiv);\n    // Create and append the mobile message div\n    const mobileDiv = document.createElement('div');\n    mobileDiv.className = 'l7-mobile-message';\n    mobileDiv.textContent = 'Missing UI string';\n    this._container.appendChild(mobileDiv);\n    // Remove cooperative gesture screen from the accessibility tree since screenreaders cannot interact with the map using gestures\n    this._container.setAttribute('aria-hidden', 'true');\n  }\n  _destoryUI() {\n    if (this._container) {\n      DOM.remove(this._container);\n      const mapCanvasContainer = this._map.getCanvasContainer();\n      mapCanvasContainer.classList.remove('l7-cooperative-gestures');\n    }\n    delete this._container;\n  }\n  enable() {\n    this._setupUI();\n    this._enabled = true;\n  }\n  disable() {\n    this._enabled = false;\n    this._destoryUI();\n  }\n  isEnabled() {\n    return this._enabled;\n  }\n  touchmove(e) {\n    this._onCooperativeGesture(e.touches.length === 1);\n  }\n  wheel(e) {\n    if (!this._map.scrollZoom.isEnabled()) {\n      return;\n    }\n    this._onCooperativeGesture(!e[this._bypassKey]);\n  }\n  _onCooperativeGesture(showNotification) {\n    if (!this._enabled || !showNotification) return;\n    // Alert user how to scroll/pan\n    this._container.classList.add('l7-show');\n    setTimeout(() => {\n      this._container.classList.remove('l7-show');\n    }, 100);\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}