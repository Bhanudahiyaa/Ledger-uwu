{"ast":null,"code":"import { uniqueId, clone, isEqual, isUndefined } from '@antv/util';\nimport { PolygonLayer, LineLayer } from '@antv/l7';\nimport { PlotLayer } from '../../core/layer/plot-layer';\nimport { getDefaultState, mappingLayer } from './adaptor';\nimport { getColorLegendItems } from '../dot-layer/helper';\nconst DEFAULT_OPTIONS = {\n  visible: true,\n  state: {\n    active: false,\n    select: false\n  },\n  enabledMultiSelect: false\n};\nconst LAYER_OPTIONS_KEYS = ['color', 'style', 'state', 'enabledMultiSelect'];\nexport class AreaLayer extends PlotLayer {\n  constructor(options) {\n    super(options);\n    /**\n     * 选中数据\n     */\n    this.selectData = [];\n    /**\n     * 图层类型\n     */\n    this.type = PlotLayer.LayerType.AreaLayer;\n    /**\n     * 图层是否具有交互属性\n     */\n    this.interaction = true;\n    this.onHighlighHandle = event => {\n      const {\n        feature,\n        featureId\n      } = event;\n      this.setHighlightLayerSource(feature, featureId);\n    };\n    this.onUnhighlighHandle = () => {\n      this.setHighlightLayerSource();\n    };\n    this.onSelectHandle = event => {\n      const enabledMultiSelect = this.options.enabledMultiSelect;\n      const {\n        feature,\n        featureId\n      } = event;\n      let selectData = clone(this.selectData);\n      const index = selectData.findIndex(item => item.featureId === featureId);\n      if (index === -1) {\n        if (enabledMultiSelect) {\n          selectData.push({\n            feature,\n            featureId\n          });\n        } else {\n          selectData = [{\n            feature,\n            featureId\n          }];\n        }\n        this.emit('select', feature, clone(selectData));\n      } else {\n        const unselectFeature = selectData[index];\n        if (enabledMultiSelect) {\n          selectData.splice(index, 1);\n        } else {\n          selectData = [];\n        }\n        this.emit('unselect', unselectFeature, clone(selectData));\n      }\n      this.setSelectLayerSource(selectData);\n    };\n    const {\n      name,\n      source,\n      visible,\n      minZoom,\n      maxZoom,\n      zIndex = 0\n    } = this.options;\n    const config = this.pickLayerConfig(this.options);\n    const defaultState = getDefaultState(this.options.state);\n    this.name = name ? name : uniqueId(this.type);\n    this.layer = new PolygonLayer(Object.assign(Object.assign({}, config), {\n      name: this.name\n    }));\n    this.strokeLayer = new LineLayer({\n      name: 'strokeLayer',\n      visible,\n      zIndex,\n      minZoom,\n      maxZoom\n    });\n    this.highlightLayer = new LineLayer({\n      name: 'highlightLayer',\n      visible: visible && Boolean(defaultState.active.stroke),\n      zIndex: zIndex + 0.1,\n      minZoom,\n      maxZoom\n    });\n    this.selectFillLayer = new PolygonLayer({\n      name: 'selectFillLayer',\n      visible: visible && Boolean(defaultState.select.fill),\n      zIndex: zIndex + 0.1,\n      minZoom,\n      maxZoom\n    });\n    this.selectStrokeLayer = new LineLayer({\n      name: 'selectStrokeLayer',\n      visible: visible && Boolean(defaultState.select.stroke),\n      zIndex: zIndex + 0.1,\n      minZoom,\n      maxZoom\n    });\n    this.mappingLayer(this.options);\n    this.setSource(source);\n    this.initEvent();\n  }\n  /**\n   * 获取默认配置\n   */\n  getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n  mappingLayer(options) {\n    mappingLayer(this.layer, this.strokeLayer, this.highlightLayer, this.selectFillLayer, this.selectStrokeLayer, options);\n  }\n  setSource(source) {\n    super.setSource(source);\n    this.setStrokeLayerSource();\n    this.setHighlightLayerSource();\n    this.selectFillLayer.source({\n      type: 'FeatureCollection',\n      features: []\n    }, {\n      parser: {\n        type: 'geojson'\n      }\n    });\n    this.selectStrokeLayer.source({\n      type: 'FeatureCollection',\n      features: []\n    }, {\n      parser: {\n        type: 'geojson'\n      }\n    });\n  }\n  setStrokeLayerSource() {\n    const layerSource = this.layer.getSource();\n    if (layerSource) {\n      this.strokeLayer.setSource(layerSource);\n    } else {\n      const {\n        data,\n        options\n      } = this.layer.sourceOption;\n      this.strokeLayer.source(data, options);\n    }\n  }\n  setHighlightLayerSource(feature, featureId = -999) {\n    if (this.highlightLayerData === featureId) {\n      return;\n    }\n    const features = feature ? [feature] : [];\n    if (this.highlightLayer.getSource()) {\n      this.highlightLayer.setData({\n        type: 'FeatureCollection',\n        features\n      }, {\n        parser: {\n          type: 'geojson'\n        }\n      });\n    } else {\n      this.highlightLayer.source({\n        type: 'FeatureCollection',\n        features: []\n      }, {\n        parser: {\n          type: 'geojson'\n        }\n      });\n    }\n    this.highlightLayerData = featureId;\n  }\n  setSelectLayerSource(selectData = []) {\n    if (this.selectData.length === selectData.length && isEqual(this.selectData.map(({\n      featureId\n    }) => featureId), selectData.map(({\n      featureId\n    }) => featureId))) {\n      return;\n    }\n    const features = selectData.map(({\n      feature\n    }) => feature);\n    this.selectFillLayer.setData({\n      type: 'FeatureCollection',\n      features\n    }, {\n      parser: {\n        type: 'geojson'\n      }\n    });\n    this.selectStrokeLayer.setData({\n      type: 'FeatureCollection',\n      features\n    }, {\n      parser: {\n        type: 'geojson'\n      }\n    });\n    this.selectData = selectData;\n  }\n  initEvent() {\n    this.layer.off('mousemove', this.onHighlighHandle);\n    this.layer.off('unmousemove', this.onHighlighHandle);\n    this.layer.off('click', this.onSelectHandle);\n    this.selectData = [];\n    this.highlightLayerData = null;\n    if (!this.options.state) return;\n    // active\n    if (this.options.state.active) {\n      this.layer.on('mousemove', this.onHighlighHandle);\n      this.layer.on('unmousemove', this.onUnhighlighHandle);\n    }\n    // select\n    if (this.options.state.select) {\n      this.layer.on('click', this.onSelectHandle);\n    }\n  }\n  addTo(scene) {\n    scene.addLayer(this.layer);\n    scene.addLayer(this.strokeLayer);\n    scene.addLayer(this.highlightLayer);\n    scene.addLayer(this.selectFillLayer);\n    scene.addLayer(this.selectStrokeLayer);\n  }\n  remove(scene) {\n    scene.removeLayer(this.layer);\n    scene.removeLayer(this.strokeLayer);\n    scene.removeLayer(this.highlightLayer);\n    scene.removeLayer(this.selectFillLayer);\n    scene.removeLayer(this.selectStrokeLayer);\n  }\n  update(options) {\n    super.update(options);\n    this.mappingLayer(this.options);\n    if (this.options.visible) {\n      if (!isUndefined(options.state) && !isEqual(this.lastOptions.state, this.options.state)) {\n        this.updateHighlightLayer();\n      }\n      const defaultState = getDefaultState(this.options.state);\n      if (defaultState.active.stroke) {\n        this.setHighlightLayerSource();\n      }\n      if (defaultState.select.fill || defaultState.select.stroke) {\n        this.setSelectLayerSource();\n      }\n    }\n    this.initEvent();\n  }\n  updateHighlightLayer() {\n    const defaultState = getDefaultState(this.options.state);\n    const lasetDefaultState = getDefaultState(this.lastOptions.state);\n    if (lasetDefaultState.active.stroke !== defaultState.active.stroke) {\n      defaultState.active.stroke ? this.highlightLayer.show() : this.highlightLayer.hide();\n    }\n    if (lasetDefaultState.select.fill !== defaultState.select.fill) {\n      defaultState.select.fill ? this.selectFillLayer.show() : this.selectFillLayer.hide();\n    }\n    if (lasetDefaultState.select.stroke !== defaultState.select.stroke) {\n      defaultState.select.stroke ? this.selectStrokeLayer.show() : this.selectStrokeLayer.hide();\n    }\n  }\n  setIndex(zIndex) {\n    this.layer.setIndex(zIndex);\n    this.strokeLayer.setIndex(zIndex);\n    this.highlightLayer.setIndex(zIndex + 0.1);\n    this.selectFillLayer.setIndex(zIndex + 0.1);\n    this.selectStrokeLayer.setIndex(zIndex + 0.1);\n  }\n  setMinZoom(minZoom) {\n    this.layer.setMinZoom(minZoom);\n    this.strokeLayer.setMinZoom(minZoom);\n    this.highlightLayer.setMinZoom(minZoom);\n    this.selectFillLayer.setMinZoom(minZoom);\n    this.selectStrokeLayer.setMinZoom(minZoom);\n  }\n  setMaxZoom(maxZoom) {\n    this.layer.setMaxZoom(maxZoom);\n    this.strokeLayer.setMaxZoom(maxZoom);\n    this.highlightLayer.setMaxZoom(maxZoom);\n    this.selectFillLayer.setMaxZoom(maxZoom);\n    this.selectStrokeLayer.setMaxZoom(maxZoom);\n  }\n  show() {\n    if (!this.layer.inited) return;\n    this.layer.show();\n    this.strokeLayer.show();\n    this.selectFillLayer.show();\n    this.selectStrokeLayer.show();\n  }\n  hide() {\n    if (!this.layer.inited) return;\n    this.layer.hide();\n    this.strokeLayer.hide();\n    this.selectFillLayer.hide();\n    this.selectStrokeLayer.hide();\n  }\n  getColorLegendItems() {\n    const colorLegendItems = this.layer.getLegendItems('color');\n    if (Array.isArray(colorLegendItems) && colorLegendItems.length !== 0) {\n      const items = getColorLegendItems(colorLegendItems);\n      return items;\n    }\n    return [];\n  }\n  setActive(id) {\n    // TODO: L7 method pickFeature(id|{x,y})\n  }\n  setSelect(id) {\n    // TODO: L7 method pickFeature(id|{x,y})\n  }\n}\n/**\n * 默认配置项\n */\nAreaLayer.DefaultOptions = DEFAULT_OPTIONS;\n/**\n * 图层配置项 Keys\n */\nAreaLayer.LayerOptionsKeys = PlotLayer.LayerConfigkeys.concat(LAYER_OPTIONS_KEYS);","map":{"version":3,"names":["uniqueId","clone","isEqual","isUndefined","PolygonLayer","LineLayer","PlotLayer","getDefaultState","mappingLayer","getColorLegendItems","DEFAULT_OPTIONS","visible","state","active","select","enabledMultiSelect","LAYER_OPTIONS_KEYS","AreaLayer","constructor","options","selectData","type","LayerType","interaction","onHighlighHandle","event","feature","featureId","setHighlightLayerSource","onUnhighlighHandle","onSelectHandle","index","findIndex","item","push","emit","unselectFeature","splice","setSelectLayerSource","name","source","minZoom","maxZoom","zIndex","config","pickLayerConfig","defaultState","layer","Object","assign","strokeLayer","highlightLayer","Boolean","stroke","selectFillLayer","fill","selectStrokeLayer","setSource","initEvent","getDefaultOptions","setStrokeLayerSource","features","parser","layerSource","getSource","data","sourceOption","highlightLayerData","setData","length","map","off","on","addTo","scene","addLayer","remove","removeLayer","update","lastOptions","updateHighlightLayer","lasetDefaultState","show","hide","setIndex","setMinZoom","setMaxZoom","inited","colorLegendItems","getLegendItems","Array","isArray","items","setActive","id","setSelect","DefaultOptions","LayerOptionsKeys","LayerConfigkeys","concat"],"sources":["../../../../src/layers/area-layer/index.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,QAAQ,EAAEC,KAAK,EAAEC,OAAO,EAAEC,WAAW,QAAQ,YAAY;AAClE,SAASC,YAAY,EAAEC,SAAS,QAAQ,UAAU;AAClD,SAASC,SAAS,QAAQ,6BAA6B;AACvD,SAASC,eAAe,EAAEC,YAAY,QAAQ,WAAW;AAGzD,SAASC,mBAAmB,QAAQ,qBAAqB;AAIzD,MAAMC,eAAe,GAAG;EACtBC,OAAO,EAAE,IAAI;EACbC,KAAK,EAAE;IACLC,MAAM,EAAE,KAAK;IACbC,MAAM,EAAE;GACT;EACDC,kBAAkB,EAAE;CACrB;AACD,MAAMC,kBAAkB,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,oBAAoB,CAAC;AAE5E,OAAM,MAAOC,SAAU,SAAQX,SAA2B;EAkDxDY,YAAYC,OAAyB;IACnC,KAAK,CAACA,OAAO,CAAC;IAdhB;;;IAGQ,KAAAC,UAAU,GAA0C,EAAE;IAC9D;;;IAGO,KAAAC,IAAI,GAAGf,SAAS,CAACgB,SAAS,CAACL,SAAS;IAC3C;;;IAGO,KAAAM,WAAW,GAAG,IAAI;IA0HjB,KAAAC,gBAAgB,GAAIC,KAAiB,IAAI;MAC/C,MAAM;QAAEC,OAAO;QAAEC;MAAS,CAAE,GAAGF,KAAK;MACpC,IAAI,CAACG,uBAAuB,CAACF,OAAO,EAAEC,SAAS,CAAC;IAClD,CAAC;IAEO,KAAAE,kBAAkB,GAAG,MAAK;MAChC,IAAI,CAACD,uBAAuB,EAAE;IAChC,CAAC;IAEO,KAAAE,cAAc,GAAIL,KAAiB,IAAI;MAC7C,MAAMV,kBAAkB,GAAG,IAAI,CAACI,OAAO,CAACJ,kBAAkB;MAC1D,MAAM;QAAEW,OAAO;QAAEC;MAAS,CAAE,GAAGF,KAAK;MACpC,IAAIL,UAAU,GAAGnB,KAAK,CAAC,IAAI,CAACmB,UAAU,CAAC;MACvC,MAAMW,KAAK,GAAGX,UAAU,CAACY,SAAS,CAAEC,IAAI,IAAKA,IAAI,CAACN,SAAS,KAAKA,SAAS,CAAC;MAE1E,IAAII,KAAK,KAAK,CAAC,CAAC,EAAE;QAChB,IAAIhB,kBAAkB,EAAE;UACtBK,UAAU,CAACc,IAAI,CAAC;YAAER,OAAO;YAAEC;UAAS,CAAE,CAAC;QACzC,CAAC,MAAM;UACLP,UAAU,GAAG,CAAC;YAAEM,OAAO;YAAEC;UAAS,CAAE,CAAC;QACvC;QACA,IAAI,CAACQ,IAAI,CAAC,QAAQ,EAAET,OAAO,EAAEzB,KAAK,CAACmB,UAAU,CAAC,CAAC;MACjD,CAAC,MAAM;QACL,MAAMgB,eAAe,GAAGhB,UAAU,CAACW,KAAK,CAAC;QACzC,IAAIhB,kBAAkB,EAAE;UACtBK,UAAU,CAACiB,MAAM,CAACN,KAAK,EAAE,CAAC,CAAC;QAC7B,CAAC,MAAM;UACLX,UAAU,GAAG,EAAE;QACjB;QACA,IAAI,CAACe,IAAI,CAAC,UAAU,EAAEC,eAAe,EAAEnC,KAAK,CAACmB,UAAU,CAAC,CAAC;MAC3D;MAEA,IAAI,CAACkB,oBAAoB,CAAClB,UAAU,CAAC;IACvC,CAAC;IAvJC,MAAM;MAAEmB,IAAI;MAAEC,MAAM;MAAE7B,OAAO;MAAE8B,OAAO;MAAEC,OAAO;MAAEC,MAAM,GAAG;IAAC,CAAE,GAAG,IAAI,CAACxB,OAAO;IAC5E,MAAMyB,MAAM,GAAG,IAAI,CAACC,eAAe,CAAC,IAAI,CAAC1B,OAAO,CAAC;IACjD,MAAM2B,YAAY,GAAGvC,eAAe,CAAC,IAAI,CAACY,OAAO,CAACP,KAAK,CAAC;IAExD,IAAI,CAAC2B,IAAI,GAAGA,IAAI,GAAGA,IAAI,GAAGvC,QAAQ,CAAC,IAAI,CAACqB,IAAI,CAAC;IAC7C,IAAI,CAAC0B,KAAK,GAAG,IAAI3C,YAAY,CAAA4C,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAML,MAAM;MAAEL,IAAI,EAAE,IAAI,CAACA;IAAI,GAAG;IAC7D,IAAI,CAACW,WAAW,GAAG,IAAI7C,SAAS,CAAC;MAAEkC,IAAI,EAAE,aAAa;MAAE5B,OAAO;MAAEgC,MAAM;MAAEF,OAAO;MAAEC;IAAO,CAAE,CAAC;IAE5F,IAAI,CAACS,cAAc,GAAG,IAAI9C,SAAS,CAAC;MAClCkC,IAAI,EAAE,gBAAgB;MACtB5B,OAAO,EAAEA,OAAO,IAAIyC,OAAO,CAACN,YAAY,CAACjC,MAAM,CAACwC,MAAM,CAAC;MACvDV,MAAM,EAAEA,MAAM,GAAG,GAAG;MACpBF,OAAO;MACPC;KACD,CAAC;IACF,IAAI,CAACY,eAAe,GAAG,IAAIlD,YAAY,CAAC;MACtCmC,IAAI,EAAE,iBAAiB;MACvB5B,OAAO,EAAEA,OAAO,IAAIyC,OAAO,CAACN,YAAY,CAAChC,MAAM,CAACyC,IAAI,CAAC;MACrDZ,MAAM,EAAEA,MAAM,GAAG,GAAG;MACpBF,OAAO;MACPC;KACD,CAAC;IACF,IAAI,CAACc,iBAAiB,GAAG,IAAInD,SAAS,CAAC;MACrCkC,IAAI,EAAE,mBAAmB;MACzB5B,OAAO,EAAEA,OAAO,IAAIyC,OAAO,CAACN,YAAY,CAAChC,MAAM,CAACuC,MAAM,CAAC;MACvDV,MAAM,EAAEA,MAAM,GAAG,GAAG;MACpBF,OAAO;MACPC;KACD,CAAC;IAEF,IAAI,CAAClC,YAAY,CAAC,IAAI,CAACW,OAAO,CAAC;IAC/B,IAAI,CAACsC,SAAS,CAACjB,MAAM,CAAC;IACtB,IAAI,CAACkB,SAAS,EAAE;EAClB;EAEA;;;EAGOC,iBAAiBA,CAAA;IACtB,OAAOjD,eAAe;EACxB;EAEQF,YAAYA,CAACW,OAAyB;IAC5CX,YAAY,CACV,IAAI,CAACuC,KAAK,EACV,IAAI,CAACG,WAAW,EAChB,IAAI,CAACC,cAAc,EACnB,IAAI,CAACG,eAAe,EACpB,IAAI,CAACE,iBAAiB,EACtBrC,OAAO,CACR;EACH;EAEUsC,SAASA,CAACjB,MAAuC;IACzD,KAAK,CAACiB,SAAS,CAACjB,MAAM,CAAC;IACvB,IAAI,CAACoB,oBAAoB,EAAE;IAC3B,IAAI,CAAChC,uBAAuB,EAAE;IAC9B,IAAI,CAAC0B,eAAe,CAACd,MAAM,CAAC;MAAEnB,IAAI,EAAE,mBAAmB;MAAEwC,QAAQ,EAAE;IAAE,CAAE,EAAE;MAAEC,MAAM,EAAE;QAAEzC,IAAI,EAAE;MAAS;IAAE,CAAE,CAAC;IACzG,IAAI,CAACmC,iBAAiB,CAAChB,MAAM,CAAC;MAAEnB,IAAI,EAAE,mBAAmB;MAAEwC,QAAQ,EAAE;IAAE,CAAE,EAAE;MAAEC,MAAM,EAAE;QAAEzC,IAAI,EAAE;MAAS;IAAE,CAAE,CAAC;EAC7G;EAEUuC,oBAAoBA,CAAA;IAC5B,MAAMG,WAAW,GAAG,IAAI,CAAChB,KAAK,CAACiB,SAAS,EAAE;IAC1C,IAAID,WAAW,EAAE;MACf,IAAI,CAACb,WAAW,CAACO,SAAS,CAACM,WAAW,CAAC;IACzC,CAAC,MAAM;MACL,MAAM;QAAEE,IAAI;QAAE9C;MAAO,CAAE,GAAG,IAAI,CAAC4B,KAAK,CAACmB,YAAY;MACjD,IAAI,CAAChB,WAAW,CAACV,MAAM,CAACyB,IAAI,EAAE9C,OAAO,CAAC;IACxC;EACF;EAEUS,uBAAuBA,CAACF,OAAa,EAAEC,SAAS,GAAG,CAAC,GAAG;IAC/D,IAAI,IAAI,CAACwC,kBAAkB,KAAKxC,SAAS,EAAE;MACzC;IACF;IACA,MAAMkC,QAAQ,GAAGnC,OAAO,GAAG,CAACA,OAAO,CAAC,GAAG,EAAE;IACzC,IAAI,IAAI,CAACyB,cAAc,CAACa,SAAS,EAAE,EAAE;MACnC,IAAI,CAACb,cAAc,CAACiB,OAAO,CAAC;QAAE/C,IAAI,EAAE,mBAAmB;QAAEwC;MAAQ,CAAE,EAAE;QAAEC,MAAM,EAAE;UAAEzC,IAAI,EAAE;QAAS;MAAE,CAAE,CAAC;IACvG,CAAC,MAAM;MACL,IAAI,CAAC8B,cAAc,CAACX,MAAM,CAAC;QAAEnB,IAAI,EAAE,mBAAmB;QAAEwC,QAAQ,EAAE;MAAE,CAAE,EAAE;QAAEC,MAAM,EAAE;UAAEzC,IAAI,EAAE;QAAS;MAAE,CAAE,CAAC;IAC1G;IACA,IAAI,CAAC8C,kBAAkB,GAAGxC,SAAS;EACrC;EAEUW,oBAAoBA,CAAClB,UAAA,GAAoB,EAAE;IACnD,IACE,IAAI,CAACA,UAAU,CAACiD,MAAM,KAAKjD,UAAU,CAACiD,MAAM,IAC5CnE,OAAO,CACL,IAAI,CAACkB,UAAU,CAACkD,GAAG,CAAC,CAAC;MAAE3C;IAAS,CAAE,KAAKA,SAAS,CAAC,EACjDP,UAAU,CAACkD,GAAG,CAAC,CAAC;MAAE3C;IAAS,CAAE,KAAKA,SAAS,CAAC,CAC7C,EACD;MACA;IACF;IACA,MAAMkC,QAAQ,GAAGzC,UAAU,CAACkD,GAAG,CAAC,CAAC;MAAE5C;IAAO,CAAE,KAAKA,OAAO,CAAC;IACzD,IAAI,CAAC4B,eAAe,CAACc,OAAO,CAAC;MAAE/C,IAAI,EAAE,mBAAmB;MAAEwC;IAAQ,CAAE,EAAE;MAAEC,MAAM,EAAE;QAAEzC,IAAI,EAAE;MAAS;IAAE,CAAE,CAAC;IACtG,IAAI,CAACmC,iBAAiB,CAACY,OAAO,CAAC;MAAE/C,IAAI,EAAE,mBAAmB;MAAEwC;IAAQ,CAAE,EAAE;MAAEC,MAAM,EAAE;QAAEzC,IAAI,EAAE;MAAS;IAAE,CAAE,CAAC;IACxG,IAAI,CAACD,UAAU,GAAGA,UAAU;EAC9B;EAEQsC,SAASA,CAAA;IACf,IAAI,CAACX,KAAK,CAACwB,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC/C,gBAAgB,CAAC;IAClD,IAAI,CAACuB,KAAK,CAACwB,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC/C,gBAAgB,CAAC;IACpD,IAAI,CAACuB,KAAK,CAACwB,GAAG,CAAC,OAAO,EAAE,IAAI,CAACzC,cAAc,CAAC;IAC5C,IAAI,CAACV,UAAU,GAAG,EAAE;IACpB,IAAI,CAAC+C,kBAAkB,GAAG,IAAI;IAC9B,IAAI,CAAC,IAAI,CAAChD,OAAO,CAACP,KAAK,EAAE;IACzB;IACA,IAAI,IAAI,CAACO,OAAO,CAACP,KAAK,CAACC,MAAM,EAAE;MAC7B,IAAI,CAACkC,KAAK,CAACyB,EAAE,CAAC,WAAW,EAAE,IAAI,CAAChD,gBAAgB,CAAC;MACjD,IAAI,CAACuB,KAAK,CAACyB,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC3C,kBAAkB,CAAC;IACvD;IACA;IACA,IAAI,IAAI,CAACV,OAAO,CAACP,KAAK,CAACE,MAAM,EAAE;MAC7B,IAAI,CAACiC,KAAK,CAACyB,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC1C,cAAc,CAAC;IAC7C;EACF;EAqCO2C,KAAKA,CAACC,KAAY;IACvBA,KAAK,CAACC,QAAQ,CAAC,IAAI,CAAC5B,KAAK,CAAC;IAC1B2B,KAAK,CAACC,QAAQ,CAAC,IAAI,CAACzB,WAAW,CAAC;IAChCwB,KAAK,CAACC,QAAQ,CAAC,IAAI,CAACxB,cAAc,CAAC;IACnCuB,KAAK,CAACC,QAAQ,CAAC,IAAI,CAACrB,eAAe,CAAC;IACpCoB,KAAK,CAACC,QAAQ,CAAC,IAAI,CAACnB,iBAAiB,CAAC;EACxC;EAEOoB,MAAMA,CAACF,KAAY;IACxBA,KAAK,CAACG,WAAW,CAAC,IAAI,CAAC9B,KAAK,CAAC;IAC7B2B,KAAK,CAACG,WAAW,CAAC,IAAI,CAAC3B,WAAW,CAAC;IACnCwB,KAAK,CAACG,WAAW,CAAC,IAAI,CAAC1B,cAAc,CAAC;IACtCuB,KAAK,CAACG,WAAW,CAAC,IAAI,CAACvB,eAAe,CAAC;IACvCoB,KAAK,CAACG,WAAW,CAAC,IAAI,CAACrB,iBAAiB,CAAC;EAC3C;EAEOsB,MAAMA,CAAC3D,OAAkC;IAC9C,KAAK,CAAC2D,MAAM,CAAC3D,OAAO,CAAC;IACrB,IAAI,CAACX,YAAY,CAAC,IAAI,CAACW,OAAO,CAAC;IAE/B,IAAI,IAAI,CAACA,OAAO,CAACR,OAAO,EAAE;MACxB,IAAI,CAACR,WAAW,CAACgB,OAAO,CAACP,KAAK,CAAC,IAAI,CAACV,OAAO,CAAC,IAAI,CAAC6E,WAAW,CAACnE,KAAK,EAAE,IAAI,CAACO,OAAO,CAACP,KAAK,CAAC,EAAE;QACvF,IAAI,CAACoE,oBAAoB,EAAE;MAC7B;MACA,MAAMlC,YAAY,GAAGvC,eAAe,CAAC,IAAI,CAACY,OAAO,CAACP,KAAK,CAAC;MACxD,IAAIkC,YAAY,CAACjC,MAAM,CAACwC,MAAM,EAAE;QAC9B,IAAI,CAACzB,uBAAuB,EAAE;MAChC;MACA,IAAIkB,YAAY,CAAChC,MAAM,CAACyC,IAAI,IAAIT,YAAY,CAAChC,MAAM,CAACuC,MAAM,EAAE;QAC1D,IAAI,CAACf,oBAAoB,EAAE;MAC7B;IACF;IAEA,IAAI,CAACoB,SAAS,EAAE;EAClB;EAEQsB,oBAAoBA,CAAA;IAC1B,MAAMlC,YAAY,GAAGvC,eAAe,CAAC,IAAI,CAACY,OAAO,CAACP,KAAK,CAAC;IACxD,MAAMqE,iBAAiB,GAAG1E,eAAe,CAAC,IAAI,CAACwE,WAAW,CAACnE,KAAK,CAAC;IAEjE,IAAIqE,iBAAiB,CAACpE,MAAM,CAACwC,MAAM,KAAKP,YAAY,CAACjC,MAAM,CAACwC,MAAM,EAAE;MAClEP,YAAY,CAACjC,MAAM,CAACwC,MAAM,GAAG,IAAI,CAACF,cAAc,CAAC+B,IAAI,EAAE,GAAG,IAAI,CAAC/B,cAAc,CAACgC,IAAI,EAAE;IACtF;IAEA,IAAIF,iBAAiB,CAACnE,MAAM,CAACyC,IAAI,KAAKT,YAAY,CAAChC,MAAM,CAACyC,IAAI,EAAE;MAC9DT,YAAY,CAAChC,MAAM,CAACyC,IAAI,GAAG,IAAI,CAACD,eAAe,CAAC4B,IAAI,EAAE,GAAG,IAAI,CAAC5B,eAAe,CAAC6B,IAAI,EAAE;IACtF;IAEA,IAAIF,iBAAiB,CAACnE,MAAM,CAACuC,MAAM,KAAKP,YAAY,CAAChC,MAAM,CAACuC,MAAM,EAAE;MAClEP,YAAY,CAAChC,MAAM,CAACuC,MAAM,GAAG,IAAI,CAACG,iBAAiB,CAAC0B,IAAI,EAAE,GAAG,IAAI,CAAC1B,iBAAiB,CAAC2B,IAAI,EAAE;IAC5F;EACF;EAEOC,QAAQA,CAACzC,MAAc;IAC5B,IAAI,CAACI,KAAK,CAACqC,QAAQ,CAACzC,MAAM,CAAC;IAC3B,IAAI,CAACO,WAAW,CAACkC,QAAQ,CAACzC,MAAM,CAAC;IACjC,IAAI,CAACQ,cAAc,CAACiC,QAAQ,CAACzC,MAAM,GAAG,GAAG,CAAC;IAC1C,IAAI,CAACW,eAAe,CAAC8B,QAAQ,CAACzC,MAAM,GAAG,GAAG,CAAC;IAC3C,IAAI,CAACa,iBAAiB,CAAC4B,QAAQ,CAACzC,MAAM,GAAG,GAAG,CAAC;EAC/C;EAEO0C,UAAUA,CAAC5C,OAAe;IAC/B,IAAI,CAACM,KAAK,CAACsC,UAAU,CAAC5C,OAAO,CAAC;IAC9B,IAAI,CAACS,WAAW,CAACmC,UAAU,CAAC5C,OAAO,CAAC;IACpC,IAAI,CAACU,cAAc,CAACkC,UAAU,CAAC5C,OAAO,CAAC;IACvC,IAAI,CAACa,eAAe,CAAC+B,UAAU,CAAC5C,OAAO,CAAC;IACxC,IAAI,CAACe,iBAAiB,CAAC6B,UAAU,CAAC5C,OAAO,CAAC;EAC5C;EAEO6C,UAAUA,CAAC5C,OAAe;IAC/B,IAAI,CAACK,KAAK,CAACuC,UAAU,CAAC5C,OAAO,CAAC;IAC9B,IAAI,CAACQ,WAAW,CAACoC,UAAU,CAAC5C,OAAO,CAAC;IACpC,IAAI,CAACS,cAAc,CAACmC,UAAU,CAAC5C,OAAO,CAAC;IACvC,IAAI,CAACY,eAAe,CAACgC,UAAU,CAAC5C,OAAO,CAAC;IACxC,IAAI,CAACc,iBAAiB,CAAC8B,UAAU,CAAC5C,OAAO,CAAC;EAC5C;EAEOwC,IAAIA,CAAA;IACT,IAAI,CAAC,IAAI,CAACnC,KAAK,CAACwC,MAAM,EAAE;IACxB,IAAI,CAACxC,KAAK,CAACmC,IAAI,EAAE;IACjB,IAAI,CAAChC,WAAW,CAACgC,IAAI,EAAE;IACvB,IAAI,CAAC5B,eAAe,CAAC4B,IAAI,EAAE;IAC3B,IAAI,CAAC1B,iBAAiB,CAAC0B,IAAI,EAAE;EAC/B;EAEOC,IAAIA,CAAA;IACT,IAAI,CAAC,IAAI,CAACpC,KAAK,CAACwC,MAAM,EAAE;IACxB,IAAI,CAACxC,KAAK,CAACoC,IAAI,EAAE;IACjB,IAAI,CAACjC,WAAW,CAACiC,IAAI,EAAE;IACvB,IAAI,CAAC7B,eAAe,CAAC6B,IAAI,EAAE;IAC3B,IAAI,CAAC3B,iBAAiB,CAAC2B,IAAI,EAAE;EAC/B;EAEO1E,mBAAmBA,CAAA;IACxB,MAAM+E,gBAAgB,GAAG,IAAI,CAACzC,KAAK,CAAC0C,cAAc,CAAC,OAAO,CAAC;IAC3D,IAAIC,KAAK,CAACC,OAAO,CAACH,gBAAgB,CAAC,IAAIA,gBAAgB,CAACnB,MAAM,KAAK,CAAC,EAAE;MACpE,MAAMuB,KAAK,GAAGnF,mBAAmB,CAAC+E,gBAAgB,CAAC;MACnD,OAAOI,KAAK;IACd;IAEA,OAAO,EAAE;EACX;EAEOC,SAASA,CAACC,EAAU;IACzB;EAAA;EAGKC,SAASA,CAACD,EAAU;IACzB;EAAA;;AAxTF;;;AAGO7E,SAAA,CAAA+E,cAAc,GAAGtF,eAAe;AACvC;;;AAGOO,SAAA,CAAAgF,gBAAgB,GAAG3F,SAAS,CAAC4F,eAAe,CAACC,MAAM,CAACnF,kBAAkB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}