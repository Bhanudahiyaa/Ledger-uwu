{"ast":null,"code":"import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { DatePicker } from 'antd';\nimport moment from 'moment';\nexport const DatetimePicker = props => {\n  const {\n    className,\n    style,\n    disabled,\n    value,\n    onChange\n  } = props;\n  const [innerValue, setInnerValue] = useState(value ? moment(value) : undefined);\n  const mountedRef = useRef(false);\n  useEffect(() => {\n    if (!mountedRef.current) {\n      mountedRef.current = true;\n      return;\n    }\n    const valueMoment = moment(value);\n    if (valueMoment.isValid()) {\n      setInnerValue(valueMoment);\n    }\n  }, [value]);\n  const onChangeMoment = useCallback((_, dateString) => {\n    const nextMoment = moment(dateString);\n    setInnerValue(nextMoment.isValid() ? nextMoment : undefined);\n    if (typeof onChange === 'function') {\n      onChange(nextMoment.isValid() ? nextMoment.format('YYYY-MM-DD HH:mm:ss') : '');\n    }\n  }, [onChange]);\n  return React.createElement(DatePicker, {\n    showTime: true,\n    allowClear: true,\n    className: className,\n    style: style,\n    disabled: disabled,\n    value: innerValue,\n    onChange: onChangeMoment\n  });\n};","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","DatePicker","moment","DatetimePicker","props","className","style","disabled","value","onChange","innerValue","setInnerValue","undefined","mountedRef","current","valueMoment","isValid","onChangeMoment","_","dateString","nextMoment","format","createElement","showTime","allowClear"],"sources":["../../../../../src/canvas-json-schema-form/schema-form/control-map/datetime/datetime-picker.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AACvE,SAASC,UAAU,QAAQ,MAAM;AACjC,OAAOC,MAAM,MAAM,QAAQ;AAU3B,OAAO,MAAMC,cAAc,GAAoBC,KAAK,IAAG;EACrD,MAAM;IAAEC,SAAS;IAAEC,KAAK;IAAEC,QAAQ;IAAEC,KAAK;IAAEC;EAAQ,CAAE,GAAGL,KAAK;EAC7D,MAAM,CAACM,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAC1CS,KAAK,GAAGN,MAAM,CAACM,KAAK,CAAC,GAAGI,SAAS,CAClC;EACD,MAAMC,UAAU,GAAGf,MAAM,CAAU,KAAK,CAAC;EAEzCD,SAAS,CAAC,MAAK;IACb,IAAI,CAACgB,UAAU,CAACC,OAAO,EAAE;MACvBD,UAAU,CAACC,OAAO,GAAG,IAAI;MACzB;;IAEF,MAAMC,WAAW,GAAGb,MAAM,CAACM,KAAK,CAAC;IACjC,IAAIO,WAAW,CAACC,OAAO,EAAE,EAAE;MACzBL,aAAa,CAACI,WAAW,CAAC;;EAE9B,CAAC,EAAE,CAACP,KAAK,CAAC,CAAC;EAEX,MAAMS,cAAc,GAAGjB,WAAW,CAChC,CAACkB,CAAM,EAAEC,UAAkB,KAAI;IAC7B,MAAMC,UAAU,GAAGlB,MAAM,CAACiB,UAAU,CAAC;IACrCR,aAAa,CAACS,UAAU,CAACJ,OAAO,EAAE,GAAGI,UAAU,GAAGR,SAAS,CAAC;IAC5D,IAAI,OAAOH,QAAQ,KAAK,UAAU,EAAE;MAClCA,QAAQ,CAACW,UAAU,CAACJ,OAAO,EAAE,GAAGI,UAAU,CAACC,MAAM,CAAC,qBAAqB,CAAC,GAAG,EAAE,CAAC;;EAElF,CAAC,EACD,CAACZ,QAAQ,CAAC,CACX;EAED,OACEb,KAAA,CAAA0B,aAAA,CAACrB,UAAU;IACTsB,QAAQ;IACRC,UAAU;IACVnB,SAAS,EAAEA,SAAS;IACpBC,KAAK,EAAEA,KAAK;IACZC,QAAQ,EAAEA,QAAQ;IAClBC,KAAK,EAAEE,UAAU;IACjBD,QAAQ,EAAEQ;EAAc,EACxB;AAEN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}