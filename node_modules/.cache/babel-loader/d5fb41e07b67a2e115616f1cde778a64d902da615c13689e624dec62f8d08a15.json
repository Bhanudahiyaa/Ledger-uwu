{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { CoordinateSystem } from '@antv/l7-core';\nimport { EventEmitter } from 'eventemitter3';\nimport { SimpleMapCoord } from \"../utils/simpleMapCoord\";\nconst LNGLAT_OFFSET_ZOOM_THRESHOLD = 12;\nexport default class BaseMap {\n  constructor(container) {\n    /**\n     * 地图实例\n     */\n    _defineProperty(this, \"map\", void 0);\n    /**\n     * @deprecated\n     * TODO: 基类型不需要实现，只是自定义 Map 使用非地理坐标系才会用到\n     */\n    _defineProperty(this, \"simpleMapCoord\", new SimpleMapCoord());\n    /**\n     * 背景色\n     */\n    _defineProperty(this, \"bgColor\", 'rgba(0.0, 0.0, 0.0, 0.0)');\n    _defineProperty(this, \"config\", void 0);\n    _defineProperty(this, \"configService\", void 0);\n    _defineProperty(this, \"coordinateSystemService\", void 0);\n    _defineProperty(this, \"eventEmitter\", void 0);\n    _defineProperty(this, \"markerContainer\", void 0);\n    _defineProperty(this, \"mapContainer\", void 0);\n    _defineProperty(this, \"cameraChangedCallback\", void 0);\n    this.config = container.mapConfig;\n    this.configService = container.globalConfigService;\n    this.coordinateSystemService = container.coordinateSystemService;\n    this.eventEmitter = new EventEmitter();\n  }\n  onCameraChanged(callback) {\n    this.cameraChangedCallback = callback;\n  }\n  updateView(viewOption) {\n    var _this$cameraChangedCa;\n    this.emit('mapchange');\n    this.viewport.syncWithMapCamera({\n      bearing: viewOption.bearing,\n      center: viewOption.center,\n      viewportHeight: viewOption.viewportHeight,\n      pitch: viewOption.pitch,\n      viewportWidth: viewOption.viewportWidth,\n      zoom: viewOption.zoom\n    });\n    this.updateCoordinateSystemService();\n    (_this$cameraChangedCa = this.cameraChangedCallback) === null || _this$cameraChangedCa === void 0 || _this$cameraChangedCa.call(this, this.viewport);\n  }\n  updateCoordinateSystemService() {\n    const {\n      offsetCoordinate = true\n    } = this.config;\n    // set coordinate system\n    if (this.viewport.getZoom() > LNGLAT_OFFSET_ZOOM_THRESHOLD && offsetCoordinate) {\n      this.coordinateSystemService.setCoordinateSystem(CoordinateSystem.LNGLAT_OFFSET);\n    } else {\n      this.coordinateSystemService.setCoordinateSystem(CoordinateSystem.LNGLAT);\n    }\n  }\n  creatMapContainer(id) {\n    let $wrapper;\n    if (typeof id === 'string') {\n      $wrapper = document.getElementById(id);\n    } else {\n      $wrapper = id;\n    }\n    return $wrapper;\n  }\n  getMapStyleValue(name) {\n    var _this$getMapStyleConf;\n    return (_this$getMapStyleConf = this.getMapStyleConfig()[name]) !== null && _this$getMapStyleConf !== void 0 ? _this$getMapStyleConf : name;\n  }\n  setBgColor(color) {\n    this.bgColor = color;\n  }\n  getMapContainer() {\n    return this.mapContainer;\n  }\n  getMarkerContainer() {\n    return this.markerContainer;\n  }\n  getOverlayContainer() {\n    return undefined;\n  }\n  getCanvasOverlays() {\n    return undefined;\n  }\n  emit(name, ...args) {\n    this.eventEmitter.emit(name, ...args);\n  }\n  once(name, handler) {\n    this.eventEmitter.once(name, handler);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  meterToCoord(center, outer) {\n    return 1.0;\n  }\n  destroy() {\n    this.eventEmitter.removeAllListeners();\n  }\n}","map":{"version":3,"names":["_defineProperty","CoordinateSystem","EventEmitter","SimpleMapCoord","LNGLAT_OFFSET_ZOOM_THRESHOLD","BaseMap","constructor","container","config","mapConfig","configService","globalConfigService","coordinateSystemService","eventEmitter","onCameraChanged","callback","cameraChangedCallback","updateView","viewOption","_this$cameraChangedCa","emit","viewport","syncWithMapCamera","bearing","center","viewportHeight","pitch","viewportWidth","zoom","updateCoordinateSystemService","call","offsetCoordinate","getZoom","setCoordinateSystem","LNGLAT_OFFSET","LNGLAT","creatMapContainer","id","$wrapper","document","getElementById","getMapStyleValue","name","_this$getMapStyleConf","getMapStyleConfig","setBgColor","color","bgColor","getMapContainer","mapContainer","getMarkerContainer","markerContainer","getOverlayContainer","undefined","getCanvasOverlays","args","once","handler","meterToCoord","outer","destroy","removeAllListeners"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-maps/es/lib/base-map.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { CoordinateSystem } from '@antv/l7-core';\nimport { EventEmitter } from 'eventemitter3';\nimport { SimpleMapCoord } from \"../utils/simpleMapCoord\";\nconst LNGLAT_OFFSET_ZOOM_THRESHOLD = 12;\nexport default class BaseMap {\n  constructor(container) {\n    /**\n     * 地图实例\n     */\n    _defineProperty(this, \"map\", void 0);\n    /**\n     * @deprecated\n     * TODO: 基类型不需要实现，只是自定义 Map 使用非地理坐标系才会用到\n     */\n    _defineProperty(this, \"simpleMapCoord\", new SimpleMapCoord());\n    /**\n     * 背景色\n     */\n    _defineProperty(this, \"bgColor\", 'rgba(0.0, 0.0, 0.0, 0.0)');\n    _defineProperty(this, \"config\", void 0);\n    _defineProperty(this, \"configService\", void 0);\n    _defineProperty(this, \"coordinateSystemService\", void 0);\n    _defineProperty(this, \"eventEmitter\", void 0);\n    _defineProperty(this, \"markerContainer\", void 0);\n    _defineProperty(this, \"mapContainer\", void 0);\n    _defineProperty(this, \"cameraChangedCallback\", void 0);\n    this.config = container.mapConfig;\n    this.configService = container.globalConfigService;\n    this.coordinateSystemService = container.coordinateSystemService;\n    this.eventEmitter = new EventEmitter();\n  }\n  onCameraChanged(callback) {\n    this.cameraChangedCallback = callback;\n  }\n  updateView(viewOption) {\n    var _this$cameraChangedCa;\n    this.emit('mapchange');\n    this.viewport.syncWithMapCamera({\n      bearing: viewOption.bearing,\n      center: viewOption.center,\n      viewportHeight: viewOption.viewportHeight,\n      pitch: viewOption.pitch,\n      viewportWidth: viewOption.viewportWidth,\n      zoom: viewOption.zoom\n    });\n    this.updateCoordinateSystemService();\n    (_this$cameraChangedCa = this.cameraChangedCallback) === null || _this$cameraChangedCa === void 0 || _this$cameraChangedCa.call(this, this.viewport);\n  }\n  updateCoordinateSystemService() {\n    const {\n      offsetCoordinate = true\n    } = this.config;\n    // set coordinate system\n    if (this.viewport.getZoom() > LNGLAT_OFFSET_ZOOM_THRESHOLD && offsetCoordinate) {\n      this.coordinateSystemService.setCoordinateSystem(CoordinateSystem.LNGLAT_OFFSET);\n    } else {\n      this.coordinateSystemService.setCoordinateSystem(CoordinateSystem.LNGLAT);\n    }\n  }\n  creatMapContainer(id) {\n    let $wrapper;\n    if (typeof id === 'string') {\n      $wrapper = document.getElementById(id);\n    } else {\n      $wrapper = id;\n    }\n    return $wrapper;\n  }\n  getMapStyleValue(name) {\n    var _this$getMapStyleConf;\n    return (_this$getMapStyleConf = this.getMapStyleConfig()[name]) !== null && _this$getMapStyleConf !== void 0 ? _this$getMapStyleConf : name;\n  }\n  setBgColor(color) {\n    this.bgColor = color;\n  }\n  getMapContainer() {\n    return this.mapContainer;\n  }\n  getMarkerContainer() {\n    return this.markerContainer;\n  }\n  getOverlayContainer() {\n    return undefined;\n  }\n  getCanvasOverlays() {\n    return undefined;\n  }\n  emit(name, ...args) {\n    this.eventEmitter.emit(name, ...args);\n  }\n  once(name, handler) {\n    this.eventEmitter.once(name, handler);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  meterToCoord(center, outer) {\n    return 1.0;\n  }\n  destroy() {\n    this.eventEmitter.removeAllListeners();\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}