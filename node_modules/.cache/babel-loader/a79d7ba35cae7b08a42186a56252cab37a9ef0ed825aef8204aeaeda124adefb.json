{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\n/**\n * adaptor for regl.Framebuffer\n * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#framebuffers\n */\nvar ReglFramebuffer = /*#__PURE__*/function () {\n  function ReglFramebuffer(reGl, options) {\n    _classCallCheck(this, ReglFramebuffer);\n    this.framebuffer = void 0;\n    var width = options.width,\n      height = options.height,\n      color = options.color,\n      colors = options.colors,\n      depth = options.depth,\n      stencil = options.stencil;\n    var framebufferOptions = {\n      width: width,\n      height: height\n    };\n    if (Array.isArray(colors)) {\n      framebufferOptions.colors = colors.map(function (c) {\n        return c.get();\n      });\n    }\n    if (color && typeof color !== 'boolean') {\n      framebufferOptions.color = color.get();\n    } // TODO: depth & stencil\n\n    this.framebuffer = reGl.framebuffer(framebufferOptions);\n  }\n  _createClass(ReglFramebuffer, [{\n    key: \"get\",\n    value: function get() {\n      return this.framebuffer;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.framebuffer.destroy();\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(_ref) {\n      var width = _ref.width,\n        height = _ref.height;\n      this.framebuffer.resize(width, height);\n    }\n  }]);\n  return ReglFramebuffer;\n}();\nexport { ReglFramebuffer as default };","map":{"version":3,"names":["ReglFramebuffer","reGl","options","_classCallCheck","framebuffer","width","height","color","colors","depth","stencil","framebufferOptions","Array","isArray","map","c","get","destroy","_ref","resize"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/g-webgpu-engine/src/webgl/ReglFramebuffer.ts"],"sourcesContent":["import {\n  gl,\n  IFramebuffer,\n  IFramebufferInitializationOptions,\n  IRenderbuffer,\n  ITexture2D,\n} from '@antv/g-webgpu-core';\nimport regl from 'regl';\nimport ReglTexture2D from './ReglTexture2D';\n\n/**\n * adaptor for regl.Framebuffer\n * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#framebuffers\n */\nexport default class ReglFramebuffer implements IFramebuffer {\n  private framebuffer: regl.Framebuffer;\n\n  constructor(reGl: regl.Regl, options: IFramebufferInitializationOptions) {\n    const { width, height, color, colors, depth, stencil } = options;\n\n    const framebufferOptions: regl.FramebufferOptions = {\n      width,\n      height,\n    };\n\n    if (Array.isArray(colors)) {\n      framebufferOptions.colors = colors.map((c: ITexture2D | IRenderbuffer) =>\n        (c as ReglTexture2D).get(),\n      );\n    }\n\n    if (color && typeof color !== 'boolean') {\n      framebufferOptions.color = (color as ReglTexture2D).get();\n    }\n\n    // TODO: depth & stencil\n\n    this.framebuffer = reGl.framebuffer(framebufferOptions);\n  }\n\n  public get() {\n    return this.framebuffer;\n  }\n\n  public destroy() {\n    this.framebuffer.destroy();\n  }\n\n  public resize({ width, height }: { width: number; height: number }) {\n    this.framebuffer.resize(width, height);\n  }\n}\n"],"mappings":";;;AAUA;AACA;AACA;AACA;IACqBA,e;EAGnB,SAAAA,gBAAYC,IAAZ,EAA6BC,OAA7B,EAAyE;IAAAC,eAAA,OAAAH,eAAA;IAAA,KAFjEI,WAEiE;IAAA,IAC/DC,KAD+D,GACdH,OADc,CAC/DG,KAD+D;MACxDC,MADwD,GACdJ,OADc,CACxDI,MADwD;MAChDC,KADgD,GACdL,OADc,CAChDK,KADgD;MACzCC,MADyC,GACdN,OADc,CACzCM,MADyC;MACjCC,KADiC,GACdP,OADc,CACjCO,KADiC;MAC1BC,OAD0B,GACdR,OADc,CAC1BQ,OAD0B;IAGvE,IAAMC,kBAA2C,GAAG;MAClDN,KAAK,EAALA,KADkD;MAElDC,MAAM,EAANA;IAFkD,CAApD;IAKA,IAAIM,KAAK,CAACC,OAAN,CAAcL,MAAd,CAAJ,EAA2B;MACzBG,kBAAkB,CAACH,MAAnB,GAA4BA,MAAM,CAACM,GAAP,CAAW,UAACC,CAAD;QAAA,OACpCA,CAAD,CAAqBC,GAArB,EADqC;MAAA,CAAX,CAA5B;IAGD;IAED,IAAIT,KAAK,IAAI,OAAOA,KAAP,KAAiB,SAA9B,EAAyC;MACvCI,kBAAkB,CAACJ,KAAnB,GAA4BA,KAAD,CAAyBS,GAAzB,EAA3B;IACD,CAhBsE,CAkBvE;;IAEA,KAAKZ,WAAL,GAAmBH,IAAI,CAACG,WAAL,CAAiBO,kBAAjB,CAAnB;EACD;;;0BAEY;MACX,OAAO,KAAKP,WAAZ;IACD;;;8BAEgB;MACf,KAAKA,WAAL,CAAiBa,OAAjB;IACD;;;iCAEmE;MAAA,IAApDZ,KAAoD,GAAAa,IAAA,CAApDb,KAAoD;QAA7CC,MAA6C,GAAAY,IAAA,CAA7CZ,MAA6C;MAClE,KAAKF,WAAL,CAAiBe,MAAjB,CAAwBd,KAAxB,EAA+BC,MAA/B;IACD;;;;SApCkBN,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}