{"ast":null,"code":"import React, { useState, useMemo } from 'react';\nimport { Form } from 'antd';\nimport { makeUpdaterByDependencies, makeFormItemControlledProps, isEmptyParamValue } from './util';\nexport const FormItemWrapper = props => {\n  const {\n    schema,\n    children\n  } = props;\n  const [updateReasonField, setUpdateReasonField] = useState();\n  const {\n    dependencies,\n    value,\n    defaultValue,\n    hidden,\n    disabled\n  } = schema;\n  const updater = useMemo(() => {\n    return (dependencies === null || dependencies === void 0 ? void 0 : dependencies.length) ? makeUpdaterByDependencies(dependencies, setUpdateReasonField) : undefined;\n  }, [dependencies]);\n  if (typeof children !== 'function') {\n    throw new Error('[Schema Form]: chilren of FormItemWrapper should be a render prop.');\n  }\n  const initValue = isEmptyParamValue(value) ? defaultValue : value;\n  if (updater) {\n    return React.createElement(Form.Item, {\n      noStyle: true,\n      shouldUpdate: updater\n    }, form => {\n      const {\n        hidden: isHidden,\n        disabled: isDisabled\n      } = makeFormItemControlledProps(form, schema, updateReasonField);\n      return children({\n        hidden: isHidden,\n        disabled: isDisabled,\n        initialValue: initValue\n      });\n    });\n  }\n  return children({\n    hidden,\n    disabled,\n    initialValue: initValue\n  });\n};","map":{"version":3,"names":["React","useState","useMemo","Form","makeUpdaterByDependencies","makeFormItemControlledProps","isEmptyParamValue","FormItemWrapper","props","schema","children","updateReasonField","setUpdateReasonField","dependencies","value","defaultValue","hidden","disabled","updater","length","undefined","Error","initValue","createElement","Item","noStyle","shouldUpdate","form","isHidden","isDisabled","initialValue"],"sources":["../../../../../src/canvas-json-schema-form/schema-form/common/form-item-wrapper/index.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,OAAO,QAAQ,OAAO;AAChD,SAASC,IAAI,QAAQ,MAAM;AAE3B,SAASC,yBAAyB,EAAEC,2BAA2B,EAAEC,iBAAiB,QAAQ,QAAQ;AAalG,OAAO,MAAMC,eAAe,GAAoBC,KAAK,IAAG;EACtD,MAAM;IAAEC,MAAM;IAAEC;EAAQ,CAAE,GAAGF,KAAK;EAClC,MAAM,CAACG,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGX,QAAQ,EAAqB;EAC/E,MAAM;IAAEY,YAAY;IAAEC,KAAK;IAAEC,YAAY;IAAEC,MAAM;IAAEC;EAAQ,CAAE,GAAGR,MAAM;EAEtE,MAAMS,OAAO,GAAGhB,OAAO,CAAC,MAAK;IAC3B,OAAO,CAAAW,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEM,MAAM,IACvBf,yBAAyB,CAACS,YAAY,EAAED,oBAAoB,CAAC,GAC7DQ,SAAS;EACf,CAAC,EAAE,CAACP,YAAY,CAAC,CAAC;EAElB,IAAI,OAAOH,QAAQ,KAAK,UAAU,EAAE;IAClC,MAAM,IAAIW,KAAK,CAAC,oEAAoE,CAAC;;EAGvF,MAAMC,SAAS,GAAGhB,iBAAiB,CAACQ,KAAK,CAAC,GAAGC,YAAY,GAAGD,KAAK;EAEjE,IAAII,OAAO,EAAE;IACX,OACElB,KAAA,CAAAuB,aAAA,CAACpB,IAAI,CAACqB,IAAI;MAACC,OAAO;MAACC,YAAY,EAAER;IAAO,GACrCS,IAAI,IAAG;MACN,MAAM;QAAEX,MAAM,EAAEY,QAAQ;QAAEX,QAAQ,EAAEY;MAAU,CAAE,GAAGxB,2BAA2B,CAC5EsB,IAAW,EACXlB,MAAM,EACNE,iBAAiB,CAClB;MACD,OAAOD,QAAQ,CAAC;QACdM,MAAM,EAAEY,QAAQ;QAChBX,QAAQ,EAAEY,UAAU;QACpBC,YAAY,EAAER;OACf,CAAC;IACJ,CAAC,CACS;;EAIhB,OAAOZ,QAAQ,CAAC;IACdM,MAAM;IACNC,QAAQ;IACRa,YAAY,EAAER;GACf,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}