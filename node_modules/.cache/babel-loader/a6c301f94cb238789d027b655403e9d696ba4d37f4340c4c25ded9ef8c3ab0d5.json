{"ast":null,"code":"import React from 'react';\nimport classnames from 'classnames';\nimport addEventListener from 'rc-util/lib/Dom/addEventListener';\nimport { MenubarItem } from './item';\nimport { MenubarContext } from './context';\nexport class Menubar extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.onDocumentClick = () => {\n      this.setState({\n        active: false\n      });\n      this.unbindDocEvent();\n    };\n    this.activeMenubar = () => {\n      this.setState({\n        active: true\n      });\n      if (!this.removeDocClickEvent) {\n        this.removeDocClickEvent = addEventListener(document.documentElement, 'click', this.onDocumentClick).remove;\n      }\n    };\n    this.state = {\n      active: false\n    };\n  }\n  componentWillUnmount() {\n    this.unbindDocEvent();\n  }\n  unbindDocEvent() {\n    if (this.removeDocClickEvent) {\n      this.removeDocClickEvent();\n      this.removeDocClickEvent = null;\n    }\n  }\n  render() {\n    const {\n      prefixCls,\n      className,\n      children,\n      extra\n    } = this.props;\n    const baseCls = `${prefixCls}-menubar`;\n    const contextValue = {\n      prefixCls: baseCls,\n      activeMenubar: this.activeMenubar,\n      menubarActived: this.state.active === true\n    };\n    return React.createElement(\"div\", {\n      className: classnames(baseCls, className)\n    }, React.createElement(\"div\", {\n      className: `${baseCls}-content`\n    }, React.createElement(\"div\", {\n      className: `${baseCls}-content-inner`\n    }, React.createElement(MenubarContext.Provider, {\n      value: contextValue\n    }, children)), extra && React.createElement(\"div\", {\n      className: `${baseCls}-content-extras`\n    }, extra)));\n  }\n}\n(function (Menubar) {\n  Menubar.Item = MenubarItem;\n  Menubar.defaultProps = {\n    prefixCls: 'x6'\n  };\n})(Menubar || (Menubar = {}));","map":{"version":3,"names":["React","classnames","addEventListener","MenubarItem","MenubarContext","Menubar","PureComponent","constructor","props","onDocumentClick","setState","active","unbindDocEvent","activeMenubar","removeDocClickEvent","document","documentElement","remove","state","componentWillUnmount","render","prefixCls","className","children","extra","baseCls","contextValue","menubarActived","createElement","Provider","value","Item","defaultProps"],"sources":["../../src/menubar/menubar.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,gBAAgB,MAAM,kCAAkC;AAC/D,SAASC,WAAW,QAAQ,QAAQ;AACpC,SAASC,cAAc,QAAQ,WAAW;AAE1C,OAAM,MAAOC,OAAQ,SAAQL,KAAK,CAACM,aAA2C;EAG5EC,YAAYC,KAAoB;IAC9B,KAAK,CAACA,KAAK,CAAC;IAQd,KAAAC,eAAe,GAAG,MAAK;MACrB,IAAI,CAACC,QAAQ,CAAC;QAAEC,MAAM,EAAE;MAAK,CAAE,CAAC;MAChC,IAAI,CAACC,cAAc,EAAE;IACvB,CAAC;IASD,KAAAC,aAAa,GAAG,MAAK;MACnB,IAAI,CAACH,QAAQ,CAAC;QAAEC,MAAM,EAAE;MAAI,CAAE,CAAC;MAC/B,IAAI,CAAC,IAAI,CAACG,mBAAmB,EAAE;QAC7B,IAAI,CAACA,mBAAmB,GAAGZ,gBAAgB,CACzCa,QAAQ,CAACC,eAAe,EACxB,OAAO,EACP,IAAI,CAACP,eAAe,CACrB,CAACQ,MAAM;;IAEZ,CAAC;IA5BC,IAAI,CAACC,KAAK,GAAG;MAAEP,MAAM,EAAE;IAAK,CAAE;EAChC;EAEAQ,oBAAoBA,CAAA;IAClB,IAAI,CAACP,cAAc,EAAE;EACvB;EAOAA,cAAcA,CAAA;IACZ,IAAI,IAAI,CAACE,mBAAmB,EAAE;MAC5B,IAAI,CAACA,mBAAmB,EAAE;MAC1B,IAAI,CAACA,mBAAmB,GAAG,IAAI;;EAEnC;EAaAM,MAAMA,CAAA;IACJ,MAAM;MAAEC,SAAS;MAAEC,SAAS;MAAEC,QAAQ;MAAEC;IAAK,CAAE,GAAG,IAAI,CAAChB,KAAK;IAC5D,MAAMiB,OAAO,GAAG,GAAGJ,SAAS,UAAU;IACtC,MAAMK,YAAY,GAA4B;MAC5CL,SAAS,EAAEI,OAAO;MAClBZ,aAAa,EAAE,IAAI,CAACA,aAAa;MACjCc,cAAc,EAAE,IAAI,CAACT,KAAK,CAACP,MAAM,KAAK;KACvC;IAED,OACEX,KAAA,CAAA4B,aAAA;MAAKN,SAAS,EAAErB,UAAU,CAACwB,OAAO,EAAEH,SAAS;IAAC,GAC5CtB,KAAA,CAAA4B,aAAA;MAAKN,SAAS,EAAE,GAAGG,OAAO;IAAU,GAClCzB,KAAA,CAAA4B,aAAA;MAAKN,SAAS,EAAE,GAAGG,OAAO;IAAgB,GACxCzB,KAAA,CAAA4B,aAAA,CAACxB,cAAc,CAACyB,QAAQ;MAACC,KAAK,EAAEJ;IAAY,GACzCH,QAAQ,CACe,CACtB,EACLC,KAAK,IAAIxB,KAAA,CAAA4B,aAAA;MAAKN,SAAS,EAAE,GAAGG,OAAO;IAAiB,GAAGD,KAAK,CAAO,CAChE,CACF;EAEV;;AAGF,WAAiBnB,OAAO;EACTA,OAAA,CAAA0B,IAAI,GAAG5B,WAAW;EAYlBE,OAAA,CAAA2B,YAAY,GAAU;IACjCX,SAAS,EAAE;GACZ;AACH,CAAC,EAhBgBhB,OAAO,KAAPA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}