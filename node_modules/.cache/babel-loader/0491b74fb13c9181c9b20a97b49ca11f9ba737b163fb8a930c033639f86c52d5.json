{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n// @ts-ignore\nimport { AsyncSeriesHook } from '@antv/async-hook';\nimport { DOM } from '@antv/l7-utils';\nimport elementResizeDetectorMaker from 'element-resize-detector';\nimport { EventEmitter } from 'eventemitter3';\nimport { createRendererContainer } from \"../../utils/dom\";\nimport { InteractionEvent } from \"../interaction/IInteractionService\";\n/**\n * will emit `loaded` `resize` `destroy` event panstart panmove panend\n */\nexport default class Scene extends EventEmitter {\n  /**\n   * 使用各种 Service\n   */\n  get iconService() {\n    return this.container.iconService;\n  }\n  get fontService() {\n    return this.container.fontService;\n  }\n  get controlService() {\n    return this.container.controlService;\n  }\n  get configService() {\n    return this.container.globalConfigService;\n  }\n  get map() {\n    return this.container.mapService;\n  }\n  get coordinateSystemService() {\n    return this.container.coordinateSystemService;\n  }\n  get rendererService() {\n    return this.container.rendererService;\n  }\n  get layerService() {\n    return this.container.layerService;\n  }\n  get debugService() {\n    return this.container.debugService;\n  }\n  get cameraService() {\n    return this.container.cameraService;\n  }\n  get interactionService() {\n    return this.container.interactionService;\n  }\n  get pickingService() {\n    return this.container.pickingService;\n  }\n  get shaderModuleService() {\n    return this.container.shaderModuleService;\n  }\n  get markerService() {\n    return this.container.markerService;\n  }\n  get popupService() {\n    return this.container.popupService;\n  }\n\n  /**\n   * 是否首次渲染\n   */\n\n  constructor(container) {\n    super();\n    // @see https://github.com/webpack/tapable#usage\n    _defineProperty(this, \"destroyed\", false);\n    _defineProperty(this, \"loaded\", false);\n    _defineProperty(this, \"id\", void 0);\n    _defineProperty(this, \"inited\", false);\n    // TODO: 改成状态机\n    _defineProperty(this, \"rendering\", false);\n    /**\n     * canvas 容器\n     */\n    _defineProperty(this, \"$container\", void 0);\n    _defineProperty(this, \"canvas\", void 0);\n    _defineProperty(this, \"markerContainer\", void 0);\n    _defineProperty(this, \"resizeDetector\", void 0);\n    _defineProperty(this, \"hooks\", void 0);\n    _defineProperty(this, \"handleWindowResized\", () => {\n      this.emit('resize');\n      // @ts-check\n      if (this.$container) {\n        this.initContainer();\n        // 触发 Map， canvas\n        // DOM.triggerResize();\n        this.coordinateSystemService.needRefresh = true;\n        //  repaint layers\n        this.render();\n      }\n    });\n    _defineProperty(this, \"handleMapCameraChanged\", viewport => {\n      this.cameraService.update(viewport);\n      this.render();\n    });\n    this.container = container;\n    this.hooks = {\n      /**\n       * 初始化异步任务，可并行：\n       * 1. initMap：初始化地图底图、相机\n       * 2. initRenderer：初始化渲染引擎\n       * 3. initWorker：初始化 Worker\n       */\n      init: new AsyncSeriesHook()\n    };\n    this.id = container.id;\n  }\n  init(sceneConfig) {\n    var _this = this;\n    // 设置场景配置项\n    this.configService.setSceneConfig(this.id, sceneConfig);\n    // 初始化 ShaderModule\n    this.shaderModuleService.registerBuiltinModules();\n\n    // 初始化资源管理 图片\n    this.iconService.init();\n    this.iconService.on('imageUpdate', () => this.render());\n    // 字体资源\n    this.fontService.init();\n    /**\n     * 初始化底图\n     */\n    this.hooks.init.tapPromise('initMap', /*#__PURE__*/_asyncToGenerator(function* () {\n      _this.debugService.log('map.mapInitStart', {\n        type: _this.map.version\n      });\n      // 等待首次相机同步\n      yield new Promise(resolve => {\n        _this.map.onCameraChanged(viewport => {\n          _this.cameraService.init();\n          _this.cameraService.update(viewport);\n          resolve();\n        });\n        _this.map.init();\n      });\n\n      // 重新绑定非首次相机更新事件\n      _this.map.onCameraChanged(_this.handleMapCameraChanged);\n      _this.map.addMarkerContainer();\n      // 初始化未加载的marker;\n      _this.markerService.addMarkers();\n      _this.markerService.addMarkerLayers();\n      _this.popupService.initPopup();\n      // 地图初始化之后 才能初始化 container 上的交互\n      _this.interactionService.init();\n      _this.interactionService.on(InteractionEvent.Drag, _this.addSceneEvent.bind(_this));\n    }));\n\n    /**\n     * 初始化渲染引擎\n     */\n    this.hooks.init.tapPromise('initRenderer', /*#__PURE__*/_asyncToGenerator(function* () {\n      var _this$map;\n      // https://github.com/antvis/L7/issues/1459#issuecomment-1709481920 不确定我什么会报错先兼容一下\n      const renderContainer = ((_this$map = _this.map) === null || _this$map === void 0 ? void 0 : _this$map.getOverlayContainer()) || undefined;\n      if (renderContainer) {\n        _this.$container = renderContainer;\n      } else {\n        _this.$container = createRendererContainer(_this.configService.getSceneConfig(_this.id).id || '');\n      }\n\n      // 创建底图之上的 container\n      if (_this.$container) {\n        const {\n          canvas\n        } = sceneConfig;\n        _this.canvas = canvas ? canvas : DOM.create('canvas', '', _this.$container);\n        _this.setCanvas();\n        yield _this.rendererService.init(\n        // @ts-ignore\n        _this.canvas, _this.configService.getSceneConfig(_this.id), sceneConfig.gl);\n        _this.registerContextLost();\n        _this.initContainer();\n        _this.resizeDetector = elementResizeDetectorMaker({\n          strategy: 'scroll' //<- For ultra performance.\n        });\n        _this.resizeDetector.listenTo(_this.$container, _this.handleWindowResized);\n        if (window.matchMedia) {\n          var _window$matchMedia;\n          (_window$matchMedia = window.matchMedia('screen and (-webkit-min-device-pixel-ratio: 1.5)')) === null || _window$matchMedia === void 0 || _window$matchMedia.addListener(_this.handleWindowResized.bind('screen'));\n        }\n      } else {\n        console.error('容器 id 不存在');\n      }\n      _this.pickingService.init(_this.id);\n    }));\n    this.render();\n  }\n  registerContextLost() {\n    const canvas = this.rendererService.getCanvas();\n    if (canvas) {\n      canvas.addEventListener('webglcontextlost', () => this.emit('webglcontextlost'));\n    }\n  }\n  addLayer(layer) {\n    this.layerService.sceneService = this;\n    this.layerService.add(layer);\n  }\n  addMask(mask) {\n    this.layerService.sceneService = this;\n    this.layerService.addMask(mask);\n  }\n  render() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (_this2.rendering || _this2.destroyed) {\n        return;\n      }\n      _this2.rendering = true;\n      // 首次初始化，或者地图的容器被强制销毁的需要重新初始化\n      if (!_this2.inited) {\n        // 还未初始化完成需要等待\n\n        yield _this2.hooks.init.promise(); // 初始化地图和渲染\n        if (_this2.destroyed) {\n          _this2.destroy();\n        }\n        // FIXME: 初始化 marker 容器，可以放到 map 初始化方法中？\n        yield _this2.layerService.initLayers();\n        _this2.layerService.renderLayers();\n        _this2.controlService.addControls();\n        _this2.loaded = true;\n        _this2.emit('loaded');\n        _this2.inited = true;\n      } else {\n        // 尝试初始化未初始化的图层\n        yield _this2.layerService.initLayers();\n        yield _this2.layerService.renderLayers();\n      }\n\n      // 组件需要等待layer 初始化完成之后添加\n      _this2.rendering = false;\n    })();\n  }\n\n  /**\n   * 用户自定义添加第三方字体 （用户使用 layer/point/text/iconfont 的前提需要加载第三方字体文件）\n   * @param fontFamily\n   * @param fontPath\n   */\n  addFontFace(fontFamily, fontPath) {\n    this.fontService.addFontFace(fontFamily, fontPath);\n  }\n  getSceneContainer() {\n    return this.$container;\n  }\n  exportPng(type) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      var _this3$$container;\n      const renderCanvas = (_this3$$container = _this3.$container) === null || _this3$$container === void 0 ? void 0 : _this3$$container.getElementsByTagName('canvas')[0];\n      yield _this3.render();\n      const layersPng = type === 'jpg' ? renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/jpeg') : renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/png');\n      return layersPng;\n    })();\n  }\n  getSceneConfig() {\n    return this.configService.getSceneConfig(this.id);\n  }\n\n  // get point size info\n  getPointSizeRange() {\n    return this.rendererService.getPointSizeRange();\n  }\n  addMarkerContainer() {\n    // @ts-ignore\n    const mapContainer = this.$container.parentElement;\n    if (mapContainer !== null) {\n      this.markerContainer = DOM.create('div', 'l7-marker-container', mapContainer);\n    }\n  }\n  getMarkerContainer() {\n    return this.markerContainer;\n  }\n  destroy() {\n    var _this$$container2;\n    if (!this.inited) {\n      this.destroyed = true;\n      return;\n    }\n    this.resizeDetector.removeListener(this.$container, this.handleWindowResized);\n    this.pickingService.destroy();\n    this.layerService.destroy();\n\n    // this.rendererService.destroy();\n\n    this.interactionService.destroy();\n    this.controlService.destroy();\n    this.markerService.destroy();\n    this.fontService.destroy();\n    this.iconService.destroy();\n    this.removeAllListeners();\n    this.inited = false;\n    this.map.destroy();\n    setTimeout(() => {\n      var _this$$container;\n      (_this$$container = this.$container) === null || _this$$container === void 0 || _this$$container.removeChild(this.canvas);\n      // this.canvas = null 清除对 webgl 实例的引用\n      // @ts-ignore\n      this.canvas = null;\n      // Tip: 把这一部分销毁放到写下一个事件循环中执行，兼容 L7React 中 scene 和 layer 同时销毁的情况\n      this.rendererService.destroy();\n    });\n    // 销毁 container 容器\n    (_this$$container2 = this.$container) === null || _this$$container2 === void 0 || (_this$$container2 = _this$$container2.parentNode) === null || _this$$container2 === void 0 || _this$$container2.removeChild(this.$container);\n    this.emit('destroy');\n  }\n  initContainer() {\n    var _this$$container3, _this$$container4;\n    const pixelRatio = DOM.DPR;\n    const w = ((_this$$container3 = this.$container) === null || _this$$container3 === void 0 ? void 0 : _this$$container3.clientWidth) || 400;\n    const h = ((_this$$container4 = this.$container) === null || _this$$container4 === void 0 ? void 0 : _this$$container4.clientHeight) || 300;\n    const canvas = this.canvas;\n    if (canvas) {\n      canvas.width = w * pixelRatio;\n      canvas.height = h * pixelRatio;\n    }\n    this.rendererService.viewport({\n      x: 0,\n      y: 0,\n      width: pixelRatio * w,\n      height: pixelRatio * h\n    });\n  }\n  setCanvas() {\n    var _this$$container5, _this$$container6;\n    const pixelRatio = DOM.DPR;\n    const w = ((_this$$container5 = this.$container) === null || _this$$container5 === void 0 ? void 0 : _this$$container5.clientWidth) || 400;\n    const h = ((_this$$container6 = this.$container) === null || _this$$container6 === void 0 ? void 0 : _this$$container6.clientHeight) || 300;\n    const canvas = this.canvas;\n    canvas.width = w * pixelRatio;\n    canvas.height = h * pixelRatio;\n    canvas.style.width = '100%';\n    canvas.style.height = '100%';\n  }\n  addSceneEvent(target) {\n    this.emit(target.type, target);\n  }\n}","map":{"version":3,"names":["_asyncToGenerator","_defineProperty","AsyncSeriesHook","DOM","elementResizeDetectorMaker","EventEmitter","createRendererContainer","InteractionEvent","Scene","iconService","container","fontService","controlService","configService","globalConfigService","map","mapService","coordinateSystemService","rendererService","layerService","debugService","cameraService","interactionService","pickingService","shaderModuleService","markerService","popupService","constructor","emit","$container","initContainer","needRefresh","render","viewport","update","hooks","init","id","sceneConfig","_this","setSceneConfig","registerBuiltinModules","on","tapPromise","log","type","version","Promise","resolve","onCameraChanged","handleMapCameraChanged","addMarkerContainer","addMarkers","addMarkerLayers","initPopup","Drag","addSceneEvent","bind","_this$map","renderContainer","getOverlayContainer","undefined","getSceneConfig","canvas","create","setCanvas","gl","registerContextLost","resizeDetector","strategy","listenTo","handleWindowResized","window","matchMedia","_window$matchMedia","addListener","console","error","getCanvas","addEventListener","addLayer","layer","sceneService","add","addMask","mask","_this2","rendering","destroyed","inited","promise","destroy","initLayers","renderLayers","addControls","loaded","addFontFace","fontFamily","fontPath","getSceneContainer","exportPng","_this3","_this3$$container","renderCanvas","getElementsByTagName","layersPng","toDataURL","getPointSizeRange","mapContainer","parentElement","markerContainer","getMarkerContainer","_this$$container2","removeListener","removeAllListeners","setTimeout","_this$$container","removeChild","parentNode","_this$$container3","_this$$container4","pixelRatio","DPR","w","clientWidth","h","clientHeight","width","height","x","y","_this$$container5","_this$$container6","style","target"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-core/es/services/scene/SceneService.js"],"sourcesContent":["import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n// @ts-ignore\nimport { AsyncSeriesHook } from '@antv/async-hook';\nimport { DOM } from '@antv/l7-utils';\nimport elementResizeDetectorMaker from 'element-resize-detector';\nimport { EventEmitter } from 'eventemitter3';\nimport { createRendererContainer } from \"../../utils/dom\";\nimport { InteractionEvent } from \"../interaction/IInteractionService\";\n/**\n * will emit `loaded` `resize` `destroy` event panstart panmove panend\n */\nexport default class Scene extends EventEmitter {\n  /**\n   * 使用各种 Service\n   */\n  get iconService() {\n    return this.container.iconService;\n  }\n  get fontService() {\n    return this.container.fontService;\n  }\n  get controlService() {\n    return this.container.controlService;\n  }\n  get configService() {\n    return this.container.globalConfigService;\n  }\n  get map() {\n    return this.container.mapService;\n  }\n  get coordinateSystemService() {\n    return this.container.coordinateSystemService;\n  }\n  get rendererService() {\n    return this.container.rendererService;\n  }\n  get layerService() {\n    return this.container.layerService;\n  }\n  get debugService() {\n    return this.container.debugService;\n  }\n  get cameraService() {\n    return this.container.cameraService;\n  }\n  get interactionService() {\n    return this.container.interactionService;\n  }\n  get pickingService() {\n    return this.container.pickingService;\n  }\n  get shaderModuleService() {\n    return this.container.shaderModuleService;\n  }\n  get markerService() {\n    return this.container.markerService;\n  }\n  get popupService() {\n    return this.container.popupService;\n  }\n\n  /**\n   * 是否首次渲染\n   */\n\n  constructor(container) {\n    super();\n    // @see https://github.com/webpack/tapable#usage\n    _defineProperty(this, \"destroyed\", false);\n    _defineProperty(this, \"loaded\", false);\n    _defineProperty(this, \"id\", void 0);\n    _defineProperty(this, \"inited\", false);\n    // TODO: 改成状态机\n    _defineProperty(this, \"rendering\", false);\n    /**\n     * canvas 容器\n     */\n    _defineProperty(this, \"$container\", void 0);\n    _defineProperty(this, \"canvas\", void 0);\n    _defineProperty(this, \"markerContainer\", void 0);\n    _defineProperty(this, \"resizeDetector\", void 0);\n    _defineProperty(this, \"hooks\", void 0);\n    _defineProperty(this, \"handleWindowResized\", () => {\n      this.emit('resize');\n      // @ts-check\n      if (this.$container) {\n        this.initContainer();\n        // 触发 Map， canvas\n        // DOM.triggerResize();\n        this.coordinateSystemService.needRefresh = true;\n        //  repaint layers\n        this.render();\n      }\n    });\n    _defineProperty(this, \"handleMapCameraChanged\", viewport => {\n      this.cameraService.update(viewport);\n      this.render();\n    });\n    this.container = container;\n    this.hooks = {\n      /**\n       * 初始化异步任务，可并行：\n       * 1. initMap：初始化地图底图、相机\n       * 2. initRenderer：初始化渲染引擎\n       * 3. initWorker：初始化 Worker\n       */\n      init: new AsyncSeriesHook()\n    };\n    this.id = container.id;\n  }\n  init(sceneConfig) {\n    var _this = this;\n    // 设置场景配置项\n    this.configService.setSceneConfig(this.id, sceneConfig);\n    // 初始化 ShaderModule\n    this.shaderModuleService.registerBuiltinModules();\n\n    // 初始化资源管理 图片\n    this.iconService.init();\n    this.iconService.on('imageUpdate', () => this.render());\n    // 字体资源\n    this.fontService.init();\n    /**\n     * 初始化底图\n     */\n    this.hooks.init.tapPromise('initMap', /*#__PURE__*/_asyncToGenerator(function* () {\n      _this.debugService.log('map.mapInitStart', {\n        type: _this.map.version\n      });\n      // 等待首次相机同步\n      yield new Promise(resolve => {\n        _this.map.onCameraChanged(viewport => {\n          _this.cameraService.init();\n          _this.cameraService.update(viewport);\n          resolve();\n        });\n        _this.map.init();\n      });\n\n      // 重新绑定非首次相机更新事件\n      _this.map.onCameraChanged(_this.handleMapCameraChanged);\n      _this.map.addMarkerContainer();\n      // 初始化未加载的marker;\n      _this.markerService.addMarkers();\n      _this.markerService.addMarkerLayers();\n      _this.popupService.initPopup();\n      // 地图初始化之后 才能初始化 container 上的交互\n      _this.interactionService.init();\n      _this.interactionService.on(InteractionEvent.Drag, _this.addSceneEvent.bind(_this));\n    }));\n\n    /**\n     * 初始化渲染引擎\n     */\n    this.hooks.init.tapPromise('initRenderer', /*#__PURE__*/_asyncToGenerator(function* () {\n      var _this$map;\n      // https://github.com/antvis/L7/issues/1459#issuecomment-1709481920 不确定我什么会报错先兼容一下\n      const renderContainer = ((_this$map = _this.map) === null || _this$map === void 0 ? void 0 : _this$map.getOverlayContainer()) || undefined;\n      if (renderContainer) {\n        _this.$container = renderContainer;\n      } else {\n        _this.$container = createRendererContainer(_this.configService.getSceneConfig(_this.id).id || '');\n      }\n\n      // 创建底图之上的 container\n      if (_this.$container) {\n        const {\n          canvas\n        } = sceneConfig;\n        _this.canvas = canvas ? canvas : DOM.create('canvas', '', _this.$container);\n        _this.setCanvas();\n        yield _this.rendererService.init(\n        // @ts-ignore\n        _this.canvas, _this.configService.getSceneConfig(_this.id), sceneConfig.gl);\n        _this.registerContextLost();\n        _this.initContainer();\n        _this.resizeDetector = elementResizeDetectorMaker({\n          strategy: 'scroll' //<- For ultra performance.\n        });\n        _this.resizeDetector.listenTo(_this.$container, _this.handleWindowResized);\n        if (window.matchMedia) {\n          var _window$matchMedia;\n          (_window$matchMedia = window.matchMedia('screen and (-webkit-min-device-pixel-ratio: 1.5)')) === null || _window$matchMedia === void 0 || _window$matchMedia.addListener(_this.handleWindowResized.bind('screen'));\n        }\n      } else {\n        console.error('容器 id 不存在');\n      }\n      _this.pickingService.init(_this.id);\n    }));\n    this.render();\n  }\n  registerContextLost() {\n    const canvas = this.rendererService.getCanvas();\n    if (canvas) {\n      canvas.addEventListener('webglcontextlost', () => this.emit('webglcontextlost'));\n    }\n  }\n  addLayer(layer) {\n    this.layerService.sceneService = this;\n    this.layerService.add(layer);\n  }\n  addMask(mask) {\n    this.layerService.sceneService = this;\n    this.layerService.addMask(mask);\n  }\n  render() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (_this2.rendering || _this2.destroyed) {\n        return;\n      }\n      _this2.rendering = true;\n      // 首次初始化，或者地图的容器被强制销毁的需要重新初始化\n      if (!_this2.inited) {\n        // 还未初始化完成需要等待\n\n        yield _this2.hooks.init.promise(); // 初始化地图和渲染\n        if (_this2.destroyed) {\n          _this2.destroy();\n        }\n        // FIXME: 初始化 marker 容器，可以放到 map 初始化方法中？\n        yield _this2.layerService.initLayers();\n        _this2.layerService.renderLayers();\n        _this2.controlService.addControls();\n        _this2.loaded = true;\n        _this2.emit('loaded');\n        _this2.inited = true;\n      } else {\n        // 尝试初始化未初始化的图层\n        yield _this2.layerService.initLayers();\n        yield _this2.layerService.renderLayers();\n      }\n\n      // 组件需要等待layer 初始化完成之后添加\n      _this2.rendering = false;\n    })();\n  }\n\n  /**\n   * 用户自定义添加第三方字体 （用户使用 layer/point/text/iconfont 的前提需要加载第三方字体文件）\n   * @param fontFamily\n   * @param fontPath\n   */\n  addFontFace(fontFamily, fontPath) {\n    this.fontService.addFontFace(fontFamily, fontPath);\n  }\n  getSceneContainer() {\n    return this.$container;\n  }\n  exportPng(type) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      var _this3$$container;\n      const renderCanvas = (_this3$$container = _this3.$container) === null || _this3$$container === void 0 ? void 0 : _this3$$container.getElementsByTagName('canvas')[0];\n      yield _this3.render();\n      const layersPng = type === 'jpg' ? renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/jpeg') : renderCanvas === null || renderCanvas === void 0 ? void 0 : renderCanvas.toDataURL('image/png');\n      return layersPng;\n    })();\n  }\n  getSceneConfig() {\n    return this.configService.getSceneConfig(this.id);\n  }\n\n  // get point size info\n  getPointSizeRange() {\n    return this.rendererService.getPointSizeRange();\n  }\n  addMarkerContainer() {\n    // @ts-ignore\n    const mapContainer = this.$container.parentElement;\n    if (mapContainer !== null) {\n      this.markerContainer = DOM.create('div', 'l7-marker-container', mapContainer);\n    }\n  }\n  getMarkerContainer() {\n    return this.markerContainer;\n  }\n  destroy() {\n    var _this$$container2;\n    if (!this.inited) {\n      this.destroyed = true;\n      return;\n    }\n    this.resizeDetector.removeListener(this.$container, this.handleWindowResized);\n    this.pickingService.destroy();\n    this.layerService.destroy();\n\n    // this.rendererService.destroy();\n\n    this.interactionService.destroy();\n    this.controlService.destroy();\n    this.markerService.destroy();\n    this.fontService.destroy();\n    this.iconService.destroy();\n    this.removeAllListeners();\n    this.inited = false;\n    this.map.destroy();\n    setTimeout(() => {\n      var _this$$container;\n      (_this$$container = this.$container) === null || _this$$container === void 0 || _this$$container.removeChild(this.canvas);\n      // this.canvas = null 清除对 webgl 实例的引用\n      // @ts-ignore\n      this.canvas = null;\n      // Tip: 把这一部分销毁放到写下一个事件循环中执行，兼容 L7React 中 scene 和 layer 同时销毁的情况\n      this.rendererService.destroy();\n    });\n    // 销毁 container 容器\n    (_this$$container2 = this.$container) === null || _this$$container2 === void 0 || (_this$$container2 = _this$$container2.parentNode) === null || _this$$container2 === void 0 || _this$$container2.removeChild(this.$container);\n    this.emit('destroy');\n  }\n  initContainer() {\n    var _this$$container3, _this$$container4;\n    const pixelRatio = DOM.DPR;\n    const w = ((_this$$container3 = this.$container) === null || _this$$container3 === void 0 ? void 0 : _this$$container3.clientWidth) || 400;\n    const h = ((_this$$container4 = this.$container) === null || _this$$container4 === void 0 ? void 0 : _this$$container4.clientHeight) || 300;\n    const canvas = this.canvas;\n    if (canvas) {\n      canvas.width = w * pixelRatio;\n      canvas.height = h * pixelRatio;\n    }\n    this.rendererService.viewport({\n      x: 0,\n      y: 0,\n      width: pixelRatio * w,\n      height: pixelRatio * h\n    });\n  }\n  setCanvas() {\n    var _this$$container5, _this$$container6;\n    const pixelRatio = DOM.DPR;\n    const w = ((_this$$container5 = this.$container) === null || _this$$container5 === void 0 ? void 0 : _this$$container5.clientWidth) || 400;\n    const h = ((_this$$container6 = this.$container) === null || _this$$container6 === void 0 ? void 0 : _this$$container6.clientHeight) || 300;\n    const canvas = this.canvas;\n    canvas.width = w * pixelRatio;\n    canvas.height = h * pixelRatio;\n    canvas.style.width = '100%';\n    canvas.style.height = '100%';\n  }\n  addSceneEvent(target) {\n    this.emit(target.type, target);\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}