{"ast":null,"code":"import { Control } from '@antv/l7';\nimport { CategoryLegend, ContinueLegend } from '@antv/l7plot-component';\nexport class Legend extends Control {\n  constructor(options) {\n    super(options);\n    /**\n     * legendComponents 实例\n     */\n    this.legendComponents = [];\n    this.options = options;\n    this.legendComponents = this.initLegendComponents(options.items);\n  }\n  initLegendComponents(legendItem) {\n    const legendComponents = [];\n    for (let index = 0; index < legendItem.length; index++) {\n      const item = legendItem[index];\n      if (item.type === 'category') {\n        const legend = new CategoryLegend({\n          title: item.options.title,\n          items: item.options.items,\n          className: item.options.className,\n          customContent: item.options.customContent,\n          domStyles: item.options.domStyles\n        });\n        legendComponents.push(legend);\n      } else if (item.type === 'continue') {\n        const legend = new ContinueLegend({\n          title: item.options.title,\n          min: item.options.min,\n          max: item.options.max,\n          colors: item.options.colors,\n          className: item.options.className,\n          customContent: item.options.customContent,\n          domStyles: item.options.domStyles\n        });\n        legendComponents.push(legend);\n      }\n    }\n    return legendComponents;\n  }\n  /**\n   * 获取默认配置\n   */\n  getDefaultOptions() {\n    return {\n      position: 'bottomleft'\n    };\n  }\n  onAdd() {\n    const container = window.document.createElement('div');\n    container.className = 'l7plot-legend-container';\n    this.legendComponents.forEach(legendComponent => {\n      const legend = legendComponent.getContainer();\n      container.appendChild(legend);\n    });\n    return container;\n  }\n  onRemove() {\n    this.legendComponents.forEach(legendComponent => {\n      legendComponent.destroy();\n    });\n  }\n}","map":{"version":3,"names":["Control","CategoryLegend","ContinueLegend","Legend","constructor","options","legendComponents","initLegendComponents","items","legendItem","index","length","item","type","legend","title","className","customContent","domStyles","push","min","max","colors","getDefaultOptions","position","onAdd","container","window","document","createElement","forEach","legendComponent","getContainer","appendChild","onRemove","destroy"],"sources":["../../../src/component/legend.ts"],"sourcesContent":[null],"mappings":"AACA,SAASA,OAAO,QAAQ,UAAU;AAClC,SAAuDC,cAAc,EAAEC,cAAc,QAAQ,wBAAwB;AASrH,OAAM,MAAOC,MAAO,SAAQH,OAAO;EAUjCI,YAAYC,OAAsB;IAChC,KAAK,CAACA,OAAO,CAAC;IANhB;;;IAGQ,KAAAC,gBAAgB,GAAwC,EAAE;IAIhE,IAAI,CAACD,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACC,oBAAoB,CAACF,OAAO,CAACG,KAAK,CAAC;EAClE;EAEQD,oBAAoBA,CAACE,UAAwB;IACnD,MAAMH,gBAAgB,GAAwC,EAAE;IAEhE,KAAK,IAAII,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGD,UAAU,CAACE,MAAM,EAAED,KAAK,EAAE,EAAE;MACtD,MAAME,IAAI,GAAGH,UAAU,CAACC,KAAK,CAAC;MAC9B,IAAIE,IAAI,CAACC,IAAI,KAAK,UAAU,EAAE;QAC5B,MAAMC,MAAM,GAAG,IAAIb,cAAc,CAAC;UAChCc,KAAK,EAAEH,IAAI,CAACP,OAAO,CAACU,KAAK;UACzBP,KAAK,EAAEI,IAAI,CAACP,OAAO,CAACG,KAAK;UACzBQ,SAAS,EAAEJ,IAAI,CAACP,OAAO,CAACW,SAAS;UACjCC,aAAa,EAAEL,IAAI,CAACP,OAAO,CAACY,aAAa;UACzCC,SAAS,EAAEN,IAAI,CAACP,OAAO,CAACa;SACzB,CAAC;QACFZ,gBAAgB,CAACa,IAAI,CAACL,MAAM,CAAC;MAC/B,CAAC,MAAM,IAAIF,IAAI,CAACC,IAAI,KAAK,UAAU,EAAE;QACnC,MAAMC,MAAM,GAAG,IAAIZ,cAAc,CAAC;UAChCa,KAAK,EAAEH,IAAI,CAACP,OAAO,CAACU,KAAK;UACzBK,GAAG,EAAER,IAAI,CAACP,OAAO,CAACe,GAAG;UACrBC,GAAG,EAAET,IAAI,CAACP,OAAO,CAACgB,GAAG;UACrBC,MAAM,EAAEV,IAAI,CAACP,OAAO,CAACiB,MAAM;UAC3BN,SAAS,EAAEJ,IAAI,CAACP,OAAO,CAACW,SAAS;UACjCC,aAAa,EAAEL,IAAI,CAACP,OAAO,CAACY,aAAa;UACzCC,SAAS,EAAEN,IAAI,CAACP,OAAO,CAACa;SACzB,CAAC;QACFZ,gBAAgB,CAACa,IAAI,CAACL,MAAM,CAAC;MAC/B;IACF;IAEA,OAAOR,gBAAgB;EACzB;EAEA;;;EAGUiB,iBAAiBA,CAAA;IACzB,OAAO;MACLC,QAAQ,EAAE;KACX;EACH;EAEOC,KAAKA,CAAA;IACV,MAAMC,SAAS,GAAGC,MAAM,CAACC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IACtDH,SAAS,CAACV,SAAS,GAAG,yBAAyB;IAC/C,IAAI,CAACV,gBAAgB,CAACwB,OAAO,CAAEC,eAAe,IAAI;MAChD,MAAMjB,MAAM,GAAGiB,eAAe,CAACC,YAAY,EAAE;MAC7CN,SAAS,CAACO,WAAW,CAACnB,MAAM,CAAC;IAC/B,CAAC,CAAC;IAEF,OAAOY,SAAS;EAClB;EAEOQ,QAAQA,CAAA;IACb,IAAI,CAAC5B,gBAAgB,CAACwB,OAAO,CAAEC,eAAe,IAAI;MAChDA,eAAe,CAACI,OAAO,EAAE;IAC3B,CAAC,CAAC;EACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}