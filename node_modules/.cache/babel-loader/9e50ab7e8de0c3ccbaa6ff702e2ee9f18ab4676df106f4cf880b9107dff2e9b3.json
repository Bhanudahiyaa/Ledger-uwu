{"ast":null,"code":"// src/boxSelect.ts\nimport { DOM, getBBoxFromPoints } from \"@antv/l7-utils\";\nimport { EventEmitter } from \"eventemitter3\";\nvar BoxSelectEventList = [\"selectstart\", \"selecting\", \"selectend\"];\nvar BoxSelect = class extends EventEmitter {\n  constructor(scene, options = {}) {\n    super();\n    this.isEnable = false;\n    this.onDragStart = e => {\n      this.box.style.display = \"block\";\n      this.startEvent = this.endEvent = e;\n      this.syncBoxBound();\n      this.emit(\"selectstart\", this.getLngLatBox(), this.startEvent, this.endEvent);\n    };\n    this.onDragging = e => {\n      this.endEvent = e;\n      this.syncBoxBound();\n      this.emit(\"selecting\", this.getLngLatBox(), this.startEvent, this.endEvent);\n    };\n    this.onDragEnd = e => {\n      this.endEvent = e;\n      this.box.style.display = \"none\";\n      this.emit(\"selectend\", this.getLngLatBox(), this.startEvent, this.endEvent);\n    };\n    this.scene = scene;\n    this.options = options;\n  }\n  get container() {\n    return this.scene.getMapService().getMarkerContainer();\n  }\n  enable() {\n    if (this.isEnable) {\n      return;\n    }\n    const {\n      className\n    } = this.options;\n    this.scene.setMapStatus({\n      dragEnable: false\n    });\n    this.container.style.cursor = \"crosshair\";\n    if (!this.box) {\n      const box = DOM.create(\"div\", void 0, this.container);\n      box.classList.add(\"l7-select-box\");\n      if (className) {\n        box.classList.add(className);\n      }\n      box.style.display = \"none\";\n      this.box = box;\n    }\n    this.scene.on(\"dragstart\", this.onDragStart);\n    this.scene.on(\"dragging\", this.onDragging);\n    this.scene.on(\"dragend\", this.onDragEnd);\n    this.isEnable = true;\n  }\n  disable() {\n    if (!this.isEnable) {\n      return;\n    }\n    this.scene.setMapStatus({\n      dragEnable: true\n    });\n    this.container.style.cursor = \"auto\";\n    this.scene.off(\"dragstart\", this.onDragStart);\n    this.scene.off(\"dragging\", this.onDragging);\n    this.scene.off(\"dragend\", this.onDragEnd);\n    this.isEnable = false;\n  }\n  syncBoxBound() {\n    const {\n      x: x1,\n      y: y1\n    } = this.startEvent;\n    const {\n      x: x2,\n      y: y2\n    } = this.endEvent;\n    const left = Math.min(x1, x2);\n    const top = Math.min(y1, y2);\n    const width = Math.abs(x1 - x2);\n    const height = Math.abs(y1 - y2);\n    this.box.style.top = `${top}px`;\n    this.box.style.left = `${left}px`;\n    this.box.style.width = `${width}px`;\n    this.box.style.height = `${height}px`;\n  }\n  getLngLatBox() {\n    const {\n      lngLat: {\n        lng: lng1,\n        lat: lat1\n      }\n    } = this.startEvent;\n    const {\n      lngLat: {\n        lng: lng2,\n        lat: lat2\n      }\n    } = this.endEvent;\n    return getBBoxFromPoints([[lng1, lat1], [lng2, lat2]]);\n  }\n};\nexport { BoxSelectEventList, BoxSelect as default };","map":{"version":3,"names":["DOM","getBBoxFromPoints","EventEmitter","BoxSelectEventList","BoxSelect","constructor","scene","options","isEnable","onDragStart","e","box","style","display","startEvent","endEvent","syncBoxBound","emit","getLngLatBox","onDragging","onDragEnd","container","getMapService","getMarkerContainer","enable","className","setMapStatus","dragEnable","cursor","create","classList","add","on","disable","off","x","x1","y","y1","x2","y2","left","Math","min","top","width","abs","height","lngLat","lng","lng1","lat","lat1","lng2","lat2","default"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-scene/es/boxSelect.js"],"sourcesContent":["// src/boxSelect.ts\nimport { DOM, getBBoxFromPoints } from \"@antv/l7-utils\";\nimport { EventEmitter } from \"eventemitter3\";\nvar BoxSelectEventList = [\"selectstart\", \"selecting\", \"selectend\"];\nvar BoxSelect = class extends EventEmitter {\n  constructor(scene, options = {}) {\n    super();\n    this.isEnable = false;\n    this.onDragStart = (e) => {\n      this.box.style.display = \"block\";\n      this.startEvent = this.endEvent = e;\n      this.syncBoxBound();\n      this.emit(\"selectstart\", this.getLngLatBox(), this.startEvent, this.endEvent);\n    };\n    this.onDragging = (e) => {\n      this.endEvent = e;\n      this.syncBoxBound();\n      this.emit(\"selecting\", this.getLngLatBox(), this.startEvent, this.endEvent);\n    };\n    this.onDragEnd = (e) => {\n      this.endEvent = e;\n      this.box.style.display = \"none\";\n      this.emit(\"selectend\", this.getLngLatBox(), this.startEvent, this.endEvent);\n    };\n    this.scene = scene;\n    this.options = options;\n  }\n  get container() {\n    return this.scene.getMapService().getMarkerContainer();\n  }\n  enable() {\n    if (this.isEnable) {\n      return;\n    }\n    const { className } = this.options;\n    this.scene.setMapStatus({\n      dragEnable: false\n    });\n    this.container.style.cursor = \"crosshair\";\n    if (!this.box) {\n      const box = DOM.create(\"div\", void 0, this.container);\n      box.classList.add(\"l7-select-box\");\n      if (className) {\n        box.classList.add(className);\n      }\n      box.style.display = \"none\";\n      this.box = box;\n    }\n    this.scene.on(\"dragstart\", this.onDragStart);\n    this.scene.on(\"dragging\", this.onDragging);\n    this.scene.on(\"dragend\", this.onDragEnd);\n    this.isEnable = true;\n  }\n  disable() {\n    if (!this.isEnable) {\n      return;\n    }\n    this.scene.setMapStatus({\n      dragEnable: true\n    });\n    this.container.style.cursor = \"auto\";\n    this.scene.off(\"dragstart\", this.onDragStart);\n    this.scene.off(\"dragging\", this.onDragging);\n    this.scene.off(\"dragend\", this.onDragEnd);\n    this.isEnable = false;\n  }\n  syncBoxBound() {\n    const { x: x1, y: y1 } = this.startEvent;\n    const { x: x2, y: y2 } = this.endEvent;\n    const left = Math.min(x1, x2);\n    const top = Math.min(y1, y2);\n    const width = Math.abs(x1 - x2);\n    const height = Math.abs(y1 - y2);\n    this.box.style.top = `${top}px`;\n    this.box.style.left = `${left}px`;\n    this.box.style.width = `${width}px`;\n    this.box.style.height = `${height}px`;\n  }\n  getLngLatBox() {\n    const {\n      lngLat: { lng: lng1, lat: lat1 }\n    } = this.startEvent;\n    const {\n      lngLat: { lng: lng2, lat: lat2 }\n    } = this.endEvent;\n    return getBBoxFromPoints([\n      [lng1, lat1],\n      [lng2, lat2]\n    ]);\n  }\n};\nexport {\n  BoxSelectEventList,\n  BoxSelect as default\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}