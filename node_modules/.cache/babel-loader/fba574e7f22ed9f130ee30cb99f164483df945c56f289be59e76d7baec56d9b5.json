{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nimport { VirtualResource } from './VirtualResource';\nexport var ResourceEntry = /*#__PURE__*/function (_VirtualResource) {\n  _inherits(ResourceEntry, _VirtualResource);\n  var _super = _createSuper(ResourceEntry);\n  function ResourceEntry() {\n    var _this;\n    _classCallCheck(this, ResourceEntry);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.version = 0;\n    _this.refs = 0;\n    _this.name = void 0;\n    _this.imported = void 0;\n    _this.priority = void 0;\n    _this.discardStart = true;\n    _this.discardEnd = false;\n    _this.descriptor = void 0;\n    _this.resource = void 0;\n    return _this;\n  }\n  _createClass(ResourceEntry, [{\n    key: \"preExecuteDestroy\",\n    /**\n     * Lifecycles in FG's execute\n     */\n    value: function preExecuteDestroy() {\n      this.discardEnd = true;\n    }\n  }, {\n    key: \"postExecuteDestroy\",\n    value: function postExecuteDestroy() {\n      if (!this.imported) {// TODO: 不需要每一帧结束后都销毁资源，可以增加临时资源标志\n        // this.resource.destroy();\n      }\n    }\n  }, {\n    key: \"postExecuteDevirtualize\",\n    value: function postExecuteDevirtualize() {\n      this.discardStart = false;\n    }\n  }, {\n    key: \"preExecuteDevirtualize\",\n    value: function preExecuteDevirtualize() {\n      if (!this.imported) {//\n      }\n    }\n  }]);\n  return ResourceEntry;\n}(VirtualResource);","map":{"version":3,"names":["VirtualResource","ResourceEntry","_VirtualResource","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","version","refs","name","imported","priority","discardStart","discardEnd","descriptor","resource","_createClass","key","value","preExecuteDestroy","postExecuteDestroy","postExecuteDevirtualize","preExecuteDevirtualize"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/g-webgpu-core/src/components/framegraph/ResourceEntry.ts"],"sourcesContent":["import { IFramebuffer, ITexture2D } from '../..';\nimport { TextureDescriptor } from './FrameGraphHandle';\nimport { VirtualResource } from './VirtualResource';\n\nexport class ResourceEntry extends VirtualResource {\n  public version: number = 0;\n\n  public refs: number = 0;\n\n  public name: string;\n\n  public imported: boolean;\n\n  public priority: number;\n\n  public discardStart = true;\n\n  public discardEnd = false;\n\n  public descriptor: TextureDescriptor;\n\n  public resource: IFramebuffer;\n\n  /**\n   * Lifecycles in FG's execute\n   */\n  public preExecuteDestroy(): void {\n    this.discardEnd = true;\n  }\n\n  public postExecuteDestroy(): void {\n    if (!this.imported) {\n      // TODO: 不需要每一帧结束后都销毁资源，可以增加临时资源标志\n      // this.resource.destroy();\n    }\n  }\n\n  public postExecuteDevirtualize(): void {\n    this.discardStart = false;\n  }\n\n  public preExecuteDevirtualize() {\n    if (!this.imported) {\n      //\n    }\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,SAASA,eAAT,QAAgC,mBAAhC;AAEA,WAAaC,aAAb,0BAAAC,gBAAA;EAAAC,SAAA,CAAAF,aAAA,EAAAC,gBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,aAAA;EAAA,SAAAA,cAAA;IAAA,IAAAK,KAAA;IAAAC,eAAA,OAAAN,aAAA;IAAA,SAAAO,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IAAAP,KAAA,GAAAF,MAAA,CAAAU,IAAA,CAAAC,KAAA,CAAAX,MAAA,SAAAY,MAAA,CAAAL,IAAA;IAAAL,KAAA,CACSW,OADT,GAC2B,CAD3B;IAAAX,KAAA,CAGSY,IAHT,GAGwB,CAHxB;IAAAZ,KAAA,CAKSa,IALT;IAAAb,KAAA,CAOSc,QAPT;IAAAd,KAAA,CASSe,QATT;IAAAf,KAAA,CAWSgB,YAXT,GAWwB,IAXxB;IAAAhB,KAAA,CAaSiB,UAbT,GAasB,KAbtB;IAAAjB,KAAA,CAeSkB,UAfT;IAAAlB,KAAA,CAiBSmB,QAjBT;IAAA,OAAAnB,KAAA;EAAA;EAAAoB,YAAA,CAAAzB,aAAA;IAAA0B,GAAA;IAmBE;AACF;AACA;IArBAC,KAAA,WAAAC,kBAAA,EAsBmC;MAC/B,KAAKN,UAAL,GAAkB,IAAlB;IACD;EAxBH;IAAAI,GAAA;IAAAC,KAAA,WAAAE,mBAAA,EA0BoC;MAChC,IAAI,CAAC,KAAKV,QAAV,EAAoB,CAClB;QACA;MAAA;IAEH;EA/BH;IAAAO,GAAA;IAAAC,KAAA,WAAAG,wBAAA,EAiCyC;MACrC,KAAKT,YAAL,GAAoB,KAApB;IACD;EAnCH;IAAAK,GAAA;IAAAC,KAAA,WAAAI,uBAAA,EAqCkC;MAC9B,IAAI,CAAC,KAAKZ,QAAV,EAAoB,CAClB;MAAA;IAEH;EAzCH;EAAA,OAAAnB,aAAA;AAAA,EAAmCD,eAAnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}