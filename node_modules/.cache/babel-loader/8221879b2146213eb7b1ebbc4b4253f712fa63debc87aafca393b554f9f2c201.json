{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Emitter } from './event';\nimport { Disposable } from './disposable';\nexport class DisposableCollection {\n  constructor(...toDispose) {\n    this.disposables = [];\n    this.onDisposeEmitter = new Emitter();\n    this.disposingElements = false;\n    this.pushAll(toDispose);\n  }\n  get disposed() {\n    return this.disposables.length === 0;\n  }\n  get onDispose() {\n    return this.onDisposeEmitter.event;\n  }\n  checkDisposed() {\n    if (this.disposed && !this.disposingElements) {\n      this.onDisposeEmitter.fire(undefined);\n      this.onDisposeEmitter.dispose();\n    }\n  }\n  dispose() {\n    if (this.disposed || this.disposingElements) {\n      return;\n    }\n    this.disposingElements = true;\n    while (!this.disposed) {\n      try {\n        this.disposables.pop().dispose();\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    this.disposingElements = false;\n    this.checkDisposed();\n  }\n  push(disposable) {\n    const {\n      disposables\n    } = this;\n    disposables.push(disposable);\n    const originalDispose = disposable.dispose.bind(disposable);\n    const toRemove = Disposable.create(() => {\n      const index = disposables.indexOf(disposable);\n      if (index !== -1) {\n        disposables.splice(index, 1);\n      }\n      this.checkDisposed();\n    });\n    disposable.dispose = () => {\n      toRemove.dispose();\n      originalDispose();\n    };\n    return toRemove;\n  }\n  pushAll(disposables) {\n    return disposables.map(disposable => this.push(disposable));\n  }\n}","map":{"version":3,"names":["Emitter","Disposable","DisposableCollection","constructor","toDispose","disposables","onDisposeEmitter","disposingElements","pushAll","disposed","length","onDispose","event","checkDisposed","fire","undefined","dispose","pop","e","console","error","push","disposable","originalDispose","bind","toRemove","create","index","indexOf","splice","map"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/mana-common/es/disposable-collection.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Emitter } from './event';\nimport { Disposable } from './disposable';\nexport class DisposableCollection {\n  constructor(...toDispose) {\n    this.disposables = [];\n    this.onDisposeEmitter = new Emitter();\n    this.disposingElements = false;\n    this.pushAll(toDispose);\n  }\n\n  get disposed() {\n    return this.disposables.length === 0;\n  }\n\n  get onDispose() {\n    return this.onDisposeEmitter.event;\n  }\n\n  checkDisposed() {\n    if (this.disposed && !this.disposingElements) {\n      this.onDisposeEmitter.fire(undefined);\n      this.onDisposeEmitter.dispose();\n    }\n  }\n\n  dispose() {\n    if (this.disposed || this.disposingElements) {\n      return;\n    }\n\n    this.disposingElements = true;\n\n    while (!this.disposed) {\n      try {\n        this.disposables.pop().dispose();\n      } catch (e) {\n        console.error(e);\n      }\n    }\n\n    this.disposingElements = false;\n    this.checkDisposed();\n  }\n\n  push(disposable) {\n    const {\n      disposables\n    } = this;\n    disposables.push(disposable);\n    const originalDispose = disposable.dispose.bind(disposable);\n    const toRemove = Disposable.create(() => {\n      const index = disposables.indexOf(disposable);\n\n      if (index !== -1) {\n        disposables.splice(index, 1);\n      }\n\n      this.checkDisposed();\n    });\n\n    disposable.dispose = () => {\n      toRemove.dispose();\n      originalDispose();\n    };\n\n    return toRemove;\n  }\n\n  pushAll(disposables) {\n    return disposables.map(disposable => this.push(disposable));\n  }\n\n}"],"mappings":"AAAA;AACA,SAASA,OAAO,QAAQ,SAAS;AACjC,SAASC,UAAU,QAAQ,cAAc;AACzC,OAAO,MAAMC,oBAAoB,CAAC;EAChCC,WAAWA,CAAC,GAAGC,SAAS,EAAE;IACxB,IAAI,CAACC,WAAW,GAAG,EAAE;IACrB,IAAI,CAACC,gBAAgB,GAAG,IAAIN,OAAO,CAAC,CAAC;IACrC,IAAI,CAACO,iBAAiB,GAAG,KAAK;IAC9B,IAAI,CAACC,OAAO,CAACJ,SAAS,CAAC;EACzB;EAEA,IAAIK,QAAQA,CAAA,EAAG;IACb,OAAO,IAAI,CAACJ,WAAW,CAACK,MAAM,KAAK,CAAC;EACtC;EAEA,IAAIC,SAASA,CAAA,EAAG;IACd,OAAO,IAAI,CAACL,gBAAgB,CAACM,KAAK;EACpC;EAEAC,aAAaA,CAAA,EAAG;IACd,IAAI,IAAI,CAACJ,QAAQ,IAAI,CAAC,IAAI,CAACF,iBAAiB,EAAE;MAC5C,IAAI,CAACD,gBAAgB,CAACQ,IAAI,CAACC,SAAS,CAAC;MACrC,IAAI,CAACT,gBAAgB,CAACU,OAAO,CAAC,CAAC;IACjC;EACF;EAEAA,OAAOA,CAAA,EAAG;IACR,IAAI,IAAI,CAACP,QAAQ,IAAI,IAAI,CAACF,iBAAiB,EAAE;MAC3C;IACF;IAEA,IAAI,CAACA,iBAAiB,GAAG,IAAI;IAE7B,OAAO,CAAC,IAAI,CAACE,QAAQ,EAAE;MACrB,IAAI;QACF,IAAI,CAACJ,WAAW,CAACY,GAAG,CAAC,CAAC,CAACD,OAAO,CAAC,CAAC;MAClC,CAAC,CAAC,OAAOE,CAAC,EAAE;QACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;MAClB;IACF;IAEA,IAAI,CAACX,iBAAiB,GAAG,KAAK;IAC9B,IAAI,CAACM,aAAa,CAAC,CAAC;EACtB;EAEAQ,IAAIA,CAACC,UAAU,EAAE;IACf,MAAM;MACJjB;IACF,CAAC,GAAG,IAAI;IACRA,WAAW,CAACgB,IAAI,CAACC,UAAU,CAAC;IAC5B,MAAMC,eAAe,GAAGD,UAAU,CAACN,OAAO,CAACQ,IAAI,CAACF,UAAU,CAAC;IAC3D,MAAMG,QAAQ,GAAGxB,UAAU,CAACyB,MAAM,CAAC,MAAM;MACvC,MAAMC,KAAK,GAAGtB,WAAW,CAACuB,OAAO,CAACN,UAAU,CAAC;MAE7C,IAAIK,KAAK,KAAK,CAAC,CAAC,EAAE;QAChBtB,WAAW,CAACwB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;MAC9B;MAEA,IAAI,CAACd,aAAa,CAAC,CAAC;IACtB,CAAC,CAAC;IAEFS,UAAU,CAACN,OAAO,GAAG,MAAM;MACzBS,QAAQ,CAACT,OAAO,CAAC,CAAC;MAClBO,eAAe,CAAC,CAAC;IACnB,CAAC;IAED,OAAOE,QAAQ;EACjB;EAEAjB,OAAOA,CAACH,WAAW,EAAE;IACnB,OAAOA,WAAW,CAACyB,GAAG,CAACR,UAAU,IAAI,IAAI,CAACD,IAAI,CAACC,UAAU,CAAC,CAAC;EAC7D;AAEF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}