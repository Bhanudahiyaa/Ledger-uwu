{"ast":null,"code":"import React from 'react';\nimport classNames from 'classnames';\nimport { Tooltip } from 'antd';\nimport { Menu } from '../menu';\nimport { Dropdown } from '../dropdown';\nimport { ToolbarContext } from './context';\nclass ToolbarItemInner extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.handleClick = () => {\n      this.processClick();\n    };\n    this.handleDropdownItemClick = name => {\n      this.processClick(name, false);\n    };\n  }\n  processClick(name = this.props.name, dropdown = this.props.dropdown) {\n    if (!this.props.disabled && !dropdown) {\n      if (name) {\n        this.props.context.onClick(name);\n      }\n      if (this.props.onClick) {\n        this.props.onClick(name);\n      }\n    }\n  }\n  renderButton() {\n    const {\n      className,\n      hidden,\n      disabled,\n      active,\n      icon,\n      text,\n      dropdown,\n      dropdownArrow,\n      tooltip,\n      tooltipProps,\n      tooltipAsTitle,\n      children\n    } = this.props;\n    const {\n      prefixCls\n    } = this.props.context;\n    const baseCls = `${prefixCls}-item`;\n    const props = {\n      onClick: this.handleClick,\n      className: classNames(baseCls, {\n        [`${baseCls}-hidden`]: hidden,\n        [`${baseCls}-active`]: active,\n        [`${baseCls}-disabled`]: disabled,\n        [`${baseCls}-dropdown`]: dropdown\n      }, className)\n    };\n    if (tooltip && tooltipAsTitle) {\n      props.title = tooltip;\n    }\n    const button = React.createElement(\"button\", Object.assign({\n      type: \"button\"\n    }, props), icon && React.isValidElement(icon) && React.createElement(\"span\", {\n      className: `${baseCls}-icon`\n    }, icon), (text || children) && React.createElement(\"span\", {\n      className: `${baseCls}-text`\n    }, text || children), dropdown && dropdownArrow && React.createElement(\"span\", {\n      className: `${baseCls}-dropdown-arrow`\n    }));\n    if (tooltip && !tooltipAsTitle && !disabled) {\n      return React.createElement(Tooltip, Object.assign({\n        title: tooltip,\n        placement: \"bottom\",\n        mouseEnterDelay: 0,\n        mouseLeaveDelay: 0\n      }, tooltipProps), button);\n    }\n    return button;\n  }\n  render() {\n    const {\n      dropdown,\n      dropdownProps,\n      disabled\n    } = this.props;\n    const content = this.renderButton();\n    if (dropdown != null && !disabled) {\n      const overlay = React.createElement(\"div\", null, dropdown.type === Menu ? React.cloneElement(dropdown, {\n        onClick: this.handleDropdownItemClick\n      }) : dropdown);\n      const props = Object.assign(Object.assign({\n        trigger: ['click']\n      }, dropdownProps), {\n        disabled,\n        overlay\n      });\n      return React.createElement(Dropdown, Object.assign({}, props), content);\n    }\n    return content;\n  }\n}\nexport const ToolbarItem = props => React.createElement(ToolbarContext.Consumer, null, context => React.createElement(ToolbarItemInner, Object.assign({\n  context: context\n}, props)));\nToolbarItem.defaultProps = {\n  dropdownArrow: true\n};","map":{"version":3,"names":["React","classNames","Tooltip","Menu","Dropdown","ToolbarContext","ToolbarItemInner","PureComponent","constructor","handleClick","processClick","handleDropdownItemClick","name","props","dropdown","disabled","context","onClick","renderButton","className","hidden","active","icon","text","dropdownArrow","tooltip","tooltipProps","tooltipAsTitle","children","prefixCls","baseCls","title","button","createElement","Object","assign","type","isValidElement","placement","mouseEnterDelay","mouseLeaveDelay","render","dropdownProps","content","overlay","cloneElement","trigger","ToolbarItem","Consumer","defaultProps"],"sources":["../../src/toolbar/item.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}