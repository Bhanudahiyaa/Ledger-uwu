{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nexport class TaskQueue {\n  constructor() {\n    _defineProperty(this, \"_queue\", void 0);\n    _defineProperty(this, \"_id\", void 0);\n    _defineProperty(this, \"_cleared\", void 0);\n    _defineProperty(this, \"_currentlyRunning\", void 0);\n    this._queue = [];\n    this._id = 0;\n    this._cleared = false;\n    this._currentlyRunning = false;\n  }\n  add(callback) {\n    const id = ++this._id;\n    const queue = this._queue;\n    queue.push({\n      callback,\n      id,\n      cancelled: false\n    });\n    return id;\n  }\n  remove(id) {\n    const running = this._currentlyRunning;\n    const queue = running ? this._queue.concat(running) : this._queue;\n    for (const task of queue) {\n      if (task.id === id) {\n        task.cancelled = true;\n        return;\n      }\n    }\n  }\n  run(timeStamp = 0) {\n    if (this._currentlyRunning) throw new Error('Attempting to run(), but is already running.');\n    const queue = this._currentlyRunning = this._queue;\n\n    // Tasks queued by callbacks in the current queue should be executed\n    // on the next run, not the current run.\n    this._queue = [];\n    for (const task of queue) {\n      if (task.cancelled) continue;\n      task.callback(timeStamp);\n      if (this._cleared) break;\n    }\n    this._cleared = false;\n    this._currentlyRunning = false;\n  }\n  clear() {\n    if (this._currentlyRunning) {\n      this._cleared = true;\n    }\n    this._queue = [];\n  }\n}","map":{"version":3,"names":["_defineProperty","TaskQueue","constructor","_queue","_id","_cleared","_currentlyRunning","add","callback","id","queue","push","cancelled","remove","running","concat","task","run","timeStamp","Error","clear"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-map/es/map/util/task_queue.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nexport class TaskQueue {\n  constructor() {\n    _defineProperty(this, \"_queue\", void 0);\n    _defineProperty(this, \"_id\", void 0);\n    _defineProperty(this, \"_cleared\", void 0);\n    _defineProperty(this, \"_currentlyRunning\", void 0);\n    this._queue = [];\n    this._id = 0;\n    this._cleared = false;\n    this._currentlyRunning = false;\n  }\n  add(callback) {\n    const id = ++this._id;\n    const queue = this._queue;\n    queue.push({\n      callback,\n      id,\n      cancelled: false\n    });\n    return id;\n  }\n  remove(id) {\n    const running = this._currentlyRunning;\n    const queue = running ? this._queue.concat(running) : this._queue;\n    for (const task of queue) {\n      if (task.id === id) {\n        task.cancelled = true;\n        return;\n      }\n    }\n  }\n  run(timeStamp = 0) {\n    if (this._currentlyRunning) throw new Error('Attempting to run(), but is already running.');\n    const queue = this._currentlyRunning = this._queue;\n\n    // Tasks queued by callbacks in the current queue should be executed\n    // on the next run, not the current run.\n    this._queue = [];\n    for (const task of queue) {\n      if (task.cancelled) continue;\n      task.callback(timeStamp);\n      if (this._cleared) break;\n    }\n    this._cleared = false;\n    this._currentlyRunning = false;\n  }\n  clear() {\n    if (this._currentlyRunning) {\n      this._cleared = true;\n    }\n    this._queue = [];\n  }\n}"],"mappings":"AAAA,OAAOA,eAAe,MAAM,2CAA2C;AACvE,OAAO,MAAMC,SAAS,CAAC;EACrBC,WAAWA,CAAA,EAAG;IACZF,eAAe,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;IACvCA,eAAe,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;IACpCA,eAAe,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;IACzCA,eAAe,CAAC,IAAI,EAAE,mBAAmB,EAAE,KAAK,CAAC,CAAC;IAClD,IAAI,CAACG,MAAM,GAAG,EAAE;IAChB,IAAI,CAACC,GAAG,GAAG,CAAC;IACZ,IAAI,CAACC,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,iBAAiB,GAAG,KAAK;EAChC;EACAC,GAAGA,CAACC,QAAQ,EAAE;IACZ,MAAMC,EAAE,GAAG,EAAE,IAAI,CAACL,GAAG;IACrB,MAAMM,KAAK,GAAG,IAAI,CAACP,MAAM;IACzBO,KAAK,CAACC,IAAI,CAAC;MACTH,QAAQ;MACRC,EAAE;MACFG,SAAS,EAAE;IACb,CAAC,CAAC;IACF,OAAOH,EAAE;EACX;EACAI,MAAMA,CAACJ,EAAE,EAAE;IACT,MAAMK,OAAO,GAAG,IAAI,CAACR,iBAAiB;IACtC,MAAMI,KAAK,GAAGI,OAAO,GAAG,IAAI,CAACX,MAAM,CAACY,MAAM,CAACD,OAAO,CAAC,GAAG,IAAI,CAACX,MAAM;IACjE,KAAK,MAAMa,IAAI,IAAIN,KAAK,EAAE;MACxB,IAAIM,IAAI,CAACP,EAAE,KAAKA,EAAE,EAAE;QAClBO,IAAI,CAACJ,SAAS,GAAG,IAAI;QACrB;MACF;IACF;EACF;EACAK,GAAGA,CAACC,SAAS,GAAG,CAAC,EAAE;IACjB,IAAI,IAAI,CAACZ,iBAAiB,EAAE,MAAM,IAAIa,KAAK,CAAC,8CAA8C,CAAC;IAC3F,MAAMT,KAAK,GAAG,IAAI,CAACJ,iBAAiB,GAAG,IAAI,CAACH,MAAM;;IAElD;IACA;IACA,IAAI,CAACA,MAAM,GAAG,EAAE;IAChB,KAAK,MAAMa,IAAI,IAAIN,KAAK,EAAE;MACxB,IAAIM,IAAI,CAACJ,SAAS,EAAE;MACpBI,IAAI,CAACR,QAAQ,CAACU,SAAS,CAAC;MACxB,IAAI,IAAI,CAACb,QAAQ,EAAE;IACrB;IACA,IAAI,CAACA,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,iBAAiB,GAAG,KAAK;EAChC;EACAc,KAAKA,CAAA,EAAG;IACN,IAAI,IAAI,CAACd,iBAAiB,EAAE;MAC1B,IAAI,CAACD,QAAQ,GAAG,IAAI;IACtB;IACA,IAAI,CAACF,MAAM,GAAG,EAAE;EAClB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}