{"ast":null,"code":"import React from 'react';\nimport { XFlowConstants } from '@antv/xflow-core';\nimport { Popover } from 'antd';\nexport const renderNode = props => {\n  const {\n    nodeConfig,\n    onMouseDown,\n    graphConfig,\n    modelService,\n    commandService\n  } = props;\n  if (!graphConfig) {\n    return React.createElement(\"div\", null);\n  }\n  if (nodeConfig.renderComponent) {\n    return React.createElement(\"div\", {\n      onMouseDown: onMouseDown\n    }, React.createElement(nodeConfig.renderComponent, {\n      data: nodeConfig,\n      isNodePanel: true\n    }));\n  }\n  const renderKey = graphConfig.nodeTypeParser(nodeConfig) || XFlowConstants.XFLOW_DEFAULT_NODE;\n  const reactComponent = graphConfig.nodeRender.get(renderKey);\n  return React.createElement(\"div\", {\n    onMouseDown: onMouseDown\n  }, React.createElement(reactComponent, {\n    commandService,\n    modelService,\n    data: nodeConfig,\n    isNodeTreePanel: true\n  }));\n};\nexport const PanelNode = props => {\n  const [isVisible, setVisible] = React.useState(false);\n  const {\n    prefixClz,\n    graphConfig,\n    commandService,\n    modelService,\n    popoverContent,\n    onMouseDown,\n    item\n  } = props;\n  return React.createElement(React.Fragment, null, popoverContent ? React.createElement(Popover, {\n    placement: \"right\",\n    destroyTooltipOnHide: true,\n    content: popoverContent,\n    visible: isVisible,\n    onVisibleChange: val => {\n      setVisible(val);\n    }\n  }, React.createElement(\"div\", {\n    className: `${prefixClz}-node-wrapper`,\n    onMouseEnter: () => {\n      setVisible(true);\n    }\n  }, renderNode({\n    graphConfig,\n    commandService: commandService,\n    onMouseDown,\n    modelService,\n    nodeConfig: item\n  }))) : React.createElement(\"div\", {\n    className: `${prefixClz}-node-wrapper`\n  }, renderNode({\n    graphConfig,\n    commandService: commandService,\n    onMouseDown,\n    modelService,\n    nodeConfig: item\n  })));\n};","map":{"version":3,"names":["React","XFlowConstants","Popover","renderNode","props","nodeConfig","onMouseDown","graphConfig","modelService","commandService","createElement","renderComponent","data","isNodePanel","renderKey","nodeTypeParser","XFLOW_DEFAULT_NODE","reactComponent","nodeRender","get","isNodeTreePanel","PanelNode","isVisible","setVisible","useState","prefixClz","popoverContent","item","Fragment","placement","destroyTooltipOnHide","content","visible","onVisibleChange","val","className","onMouseEnter"],"sources":["../../../src/canvas-collapse-panel/panel-body/panel-node.tsx"],"sourcesContent":[null],"mappings":"AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,kBAAkB;AACjD,SAASC,OAAO,QAAQ,MAAM;AAU9B,OAAO,MAAMC,UAAU,GAAIC,KAAyB,IAAI;EACtD,MAAM;IAAEC,UAAU;IAAEC,WAAW;IAAEC,WAAW;IAAEC,YAAY;IAAEC;EAAc,CAAE,GAAGL,KAAK;EAEpF,IAAI,CAACG,WAAW,EAAE;IAChB,OAAOP,KAAA,CAAAU,aAAA,aAAO;;EAGhB,IAAIL,UAAU,CAACM,eAAe,EAAE;IAC9B,OACEX,KAAA,CAAAU,aAAA;MAAKJ,WAAW,EAAEA;IAAW,GAC1BN,KAAK,CAACU,aAAa,CAACL,UAAU,CAACM,eAAe,EAAE;MAC/CC,IAAI,EAAEP,UAAU;MAChBQ,WAAW,EAAE;KACd,CAAC,CACE;;EAGV,MAAMC,SAAS,GAAGP,WAAW,CAACQ,cAAc,CAACV,UAAU,CAAC,IAAIJ,cAAc,CAACe,kBAAkB;EAC7F,MAAMC,cAAc,GAAGV,WAAW,CAACW,UAAU,CAACC,GAAG,CAACL,SAAS,CAAC;EAC5D,OACEd,KAAA,CAAAU,aAAA;IAAKJ,WAAW,EAAEA;EAAW,GAC1BN,KAAK,CAACU,aAAa,CAACO,cAAc,EAAE;IACnCR,cAAc;IACdD,YAAY;IACZI,IAAI,EAAEP,UAAU;IAChBe,eAAe,EAAE;GAClB,CAAC,CACE;AAEV,CAAC;AAYD,OAAO,MAAMC,SAAS,GAAyBjB,KAAK,IAAG;EACrD,MAAM,CAACkB,SAAS,EAAEC,UAAU,CAAC,GAAGvB,KAAK,CAACwB,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM;IACJC,SAAS;IACTlB,WAAW;IACXE,cAAc;IACdD,YAAY;IACZkB,cAAc;IACdpB,WAAW;IACXqB;EAAI,CACL,GAAGvB,KAAK;EACT,OACEJ,KAAA,CAAAU,aAAA,CAAAV,KAAA,CAAA4B,QAAA,QACGF,cAAc,GACb1B,KAAA,CAAAU,aAAA,CAACR,OAAO;IACN2B,SAAS,EAAC,OAAO;IACjBC,oBAAoB;IACpBC,OAAO,EAAEL,cAAc;IACvBM,OAAO,EAAEV,SAAS;IAClBW,eAAe,EAAEC,GAAG,IAAG;MACrBX,UAAU,CAACW,GAAG,CAAC;IACjB;EAAC,GAEDlC,KAAA,CAAAU,aAAA;IACEyB,SAAS,EAAE,GAAGV,SAAS,eAAe;IACtCW,YAAY,EAAEA,CAAA,KAAK;MACjBb,UAAU,CAAC,IAAI,CAAC;IAClB;EAAC,GAEApB,UAAU,CAAC;IACVI,WAAW;IACXE,cAAc,EAAEA,cAAc;IAC9BH,WAAW;IACXE,YAAY;IACZH,UAAU,EAAEsB;GACb,CAAC,CACE,CACE,GAEV3B,KAAA,CAAAU,aAAA;IAAKyB,SAAS,EAAE,GAAGV,SAAS;EAAe,GACxCtB,UAAU,CAAC;IACVI,WAAW;IACXE,cAAc,EAAEA,cAAc;IAC9BH,WAAW;IACXE,YAAY;IACZH,UAAU,EAAEsB;GACb,CAAC,CAEL,CACA;AAEP,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}