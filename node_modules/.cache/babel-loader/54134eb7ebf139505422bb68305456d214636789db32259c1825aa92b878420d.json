{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { MAX_DIST, MAX_TAP_INTERVAL, TapRecognizer } from \"./tap_recognizer\";\n\n/**\n * A `TapDragZoomHandler` allows the user to zoom the map at a point by double tapping. It also allows the user pan the map by dragging.\n */\nexport class TapDragZoomHandler {\n  constructor() {\n    _defineProperty(this, \"_enabled\", void 0);\n    _defineProperty(this, \"_active\", void 0);\n    _defineProperty(this, \"_swipePoint\", void 0);\n    _defineProperty(this, \"_swipeTouch\", void 0);\n    _defineProperty(this, \"_tapTime\", void 0);\n    _defineProperty(this, \"_tapPoint\", void 0);\n    _defineProperty(this, \"_tap\", void 0);\n    this._tap = new TapRecognizer({\n      numTouches: 1,\n      numTaps: 1\n    });\n    this.reset();\n  }\n  reset() {\n    this._active = false;\n    delete this._swipePoint;\n    delete this._swipeTouch;\n    delete this._tapTime;\n    delete this._tapPoint;\n    this._tap.reset();\n  }\n  touchstart(e, points, mapTouches) {\n    if (this._swipePoint) return;\n    if (!this._tapTime) {\n      this._tap.touchstart(e, points, mapTouches);\n    } else {\n      const swipePoint = points[0];\n      const soonEnough = e.timeStamp - this._tapTime < MAX_TAP_INTERVAL;\n      const closeEnough = this._tapPoint.dist(swipePoint) < MAX_DIST;\n      if (!soonEnough || !closeEnough) {\n        this.reset();\n      } else if (mapTouches.length > 0) {\n        this._swipePoint = swipePoint;\n        this._swipeTouch = mapTouches[0].identifier;\n      }\n    }\n  }\n  touchmove(e, points, mapTouches) {\n    if (!this._tapTime) {\n      this._tap.touchmove(e, points, mapTouches);\n    } else if (this._swipePoint) {\n      if (mapTouches[0].identifier !== this._swipeTouch) {\n        return;\n      }\n      const newSwipePoint = points[0];\n      const dist = newSwipePoint.y - this._swipePoint.y;\n      this._swipePoint = newSwipePoint;\n      e.preventDefault();\n      this._active = true;\n      return {\n        zoomDelta: dist / 128\n      };\n    }\n  }\n  touchend(e, points, mapTouches) {\n    if (!this._tapTime) {\n      const point = this._tap.touchend(e, points, mapTouches);\n      if (point) {\n        this._tapTime = e.timeStamp;\n        this._tapPoint = point;\n      }\n    } else if (this._swipePoint) {\n      if (mapTouches.length === 0) {\n        this.reset();\n      }\n    }\n  }\n  touchcancel() {\n    this.reset();\n  }\n  enable() {\n    this._enabled = true;\n  }\n  disable() {\n    this._enabled = false;\n    this.reset();\n  }\n  isEnabled() {\n    return this._enabled;\n  }\n  isActive() {\n    return this._active;\n  }\n}","map":{"version":3,"names":["_defineProperty","MAX_DIST","MAX_TAP_INTERVAL","TapRecognizer","TapDragZoomHandler","constructor","_tap","numTouches","numTaps","reset","_active","_swipePoint","_swipeTouch","_tapTime","_tapPoint","touchstart","e","points","mapTouches","swipePoint","soonEnough","timeStamp","closeEnough","dist","length","identifier","touchmove","newSwipePoint","y","preventDefault","zoomDelta","touchend","point","touchcancel","enable","_enabled","disable","isEnabled","isActive"],"sources":["/Users/bhanudahiya/Desktop/ledger-IQ/node_modules/@antv/l7-map/es/map/handler/tap_drag_zoom.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { MAX_DIST, MAX_TAP_INTERVAL, TapRecognizer } from \"./tap_recognizer\";\n\n/**\n * A `TapDragZoomHandler` allows the user to zoom the map at a point by double tapping. It also allows the user pan the map by dragging.\n */\nexport class TapDragZoomHandler {\n  constructor() {\n    _defineProperty(this, \"_enabled\", void 0);\n    _defineProperty(this, \"_active\", void 0);\n    _defineProperty(this, \"_swipePoint\", void 0);\n    _defineProperty(this, \"_swipeTouch\", void 0);\n    _defineProperty(this, \"_tapTime\", void 0);\n    _defineProperty(this, \"_tapPoint\", void 0);\n    _defineProperty(this, \"_tap\", void 0);\n    this._tap = new TapRecognizer({\n      numTouches: 1,\n      numTaps: 1\n    });\n    this.reset();\n  }\n  reset() {\n    this._active = false;\n    delete this._swipePoint;\n    delete this._swipeTouch;\n    delete this._tapTime;\n    delete this._tapPoint;\n    this._tap.reset();\n  }\n  touchstart(e, points, mapTouches) {\n    if (this._swipePoint) return;\n    if (!this._tapTime) {\n      this._tap.touchstart(e, points, mapTouches);\n    } else {\n      const swipePoint = points[0];\n      const soonEnough = e.timeStamp - this._tapTime < MAX_TAP_INTERVAL;\n      const closeEnough = this._tapPoint.dist(swipePoint) < MAX_DIST;\n      if (!soonEnough || !closeEnough) {\n        this.reset();\n      } else if (mapTouches.length > 0) {\n        this._swipePoint = swipePoint;\n        this._swipeTouch = mapTouches[0].identifier;\n      }\n    }\n  }\n  touchmove(e, points, mapTouches) {\n    if (!this._tapTime) {\n      this._tap.touchmove(e, points, mapTouches);\n    } else if (this._swipePoint) {\n      if (mapTouches[0].identifier !== this._swipeTouch) {\n        return;\n      }\n      const newSwipePoint = points[0];\n      const dist = newSwipePoint.y - this._swipePoint.y;\n      this._swipePoint = newSwipePoint;\n      e.preventDefault();\n      this._active = true;\n      return {\n        zoomDelta: dist / 128\n      };\n    }\n  }\n  touchend(e, points, mapTouches) {\n    if (!this._tapTime) {\n      const point = this._tap.touchend(e, points, mapTouches);\n      if (point) {\n        this._tapTime = e.timeStamp;\n        this._tapPoint = point;\n      }\n    } else if (this._swipePoint) {\n      if (mapTouches.length === 0) {\n        this.reset();\n      }\n    }\n  }\n  touchcancel() {\n    this.reset();\n  }\n  enable() {\n    this._enabled = true;\n  }\n  disable() {\n    this._enabled = false;\n    this.reset();\n  }\n  isEnabled() {\n    return this._enabled;\n  }\n  isActive() {\n    return this._active;\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}